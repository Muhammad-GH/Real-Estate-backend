(this["webpackJsonpflipkoti-pro-react"]=this["webpackJsonpflipkoti-pro-react"]||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),s=a.n(l),c=a(5),o=a(19),i=a(6),m=a(7),d=a(9),u=a(8),p=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-dark"},this.props.title)}}]),a}(n.Component),h=a(29),g=a.n(h),f=a(3),_=a.n(f),E="https://flipkotiqa.graniittitukku.fi",v=(localStorage.getItem("_lng"),n.Component,a(11)),b=a(133),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",err:"",loggedIn:!1},n.handleChange1=function(e){n.setState({email:e.target.value})},n.handleChange2=function(e){n.setState({password:e.target.value})},n.handleSubmit=function(e){if(e.preventDefault(),!n.state.email||!n.state.password){var t=n.props.t;return n.setState({err:t("success.all_fields_are_required")})}var a={email:n.state.email,password:n.state.password},r=n.props.history;console.log(a),_.a.post("".concat(E,"/api/login?email=").concat(a.email,"&password=").concat(a.password)).then((function(e){console.log(e.data.success.token),localStorage.setItem("token",e.data.success.token),r.push("/feeds")})).catch((function(e){var t=n.props.t;n.setState({err:t("success.authentication_failed")}),console.log(e.response)}))};var r=localStorage.getItem("token");console.log(r);var l=!0;return null==r&&(l=!1),n.state={loggedIn:l},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.t;t.i18n;return!0===this.state.loggedIn?r.a.createElement(o.a,{to:"/index"}):(this.state.err&&(e=r.a.createElement("div",{style:{paddingTop:"10px"}},r.a.createElement(v.a,{variant:"danger",style:{fontSize:"15px"}},this.state.err))),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:g.a,alt:""})),r.a.createElement("div",{className:"card",style:{marginTop:"-10%"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"head"},r.a.createElement("h3",null,a("login.welcome")),r.a.createElement("h4",null,a("login.login"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange1,name:"email",type:"email",placeholder:"Email id"}),r.a.createElement("div",{className:"invalid-feedback"},"Please provide valid crede.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange2,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(p,{title:"Sign in"}),e||null),r.a.createElement(c.b,{className:"back-link",to:"/forgot"},a("login.for_msg")))),r.a.createElement("div",{className:"info"},r.a.createElement("p",{className:"text-center"},a("login.reg_msg"),r.a.createElement(c.b,{className:"btn btn-outline-blue",to:"/register"},a("login.get_started")))))))}}]),a}(n.Component),N=Object(b.a)()(y),k=(n.Component,a(23)),x=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={first_name:"",last_name:"",email:"",phone:"",password:"",c_password:"",subtype:"",errors:[],show_errors:!1,status:null,loading:!1},e.handleChange1=function(t){e.setState({first_name:t.target.value})},e.handleChange2=function(t){e.setState({last_name:t.target.value})},e.handleChange3=function(t){e.setState({email:t.target.value})},e.handleChange4=function(t){e.setState({phone:t.target.value})},e.handleChange5=function(t){e.setState({password:t.target.value})},e.handleChange6=function(t){e.setState({c_password:t.target.value})},e.handleChange7=function(t){e.setState({subtype:t.target.value})},e.handleSubmit=function(t){if(t.preventDefault(),e.setState({status:null,show_errors:!1}),e.state.password!==e.state.c_password){var a=e.props.t;return e.setState({errors:a("success.pass_mat")})}e.setState({loading:!0}),_.a.post("".concat(E,"/api/register?"),{first_name:e.state.first_name,last_name:e.state.last_name,email:e.state.email,phone:e.state.phone,password:e.state.password,c_password:e.state.c_password,subtype:e.state.subtype}).then((function(t){e.setState({loading:!1}),e.props.history.push("/")})).catch((function(t){if(console.log(t.response),401===t.response.status){var a=e.props.t;e.setState({errors:a("success.all_fields_are_required")})}500===t.response.status&&e.setState({status:500}),e.setState({show_errors:!0,loading:!1})}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.t;a.i18n;return!0===this.state.show_errors&&(e=r.a.createElement("div",{style:{paddingTop:"10px"}},r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},this.state.errors))),500===this.state.status&&(e=r.a.createElement("div",{style:{paddingTop:"10px"}},r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},n("success.unique")))),!0===this.state.loading&&(t=r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:g.a})),r.a.createElement("div",{className:"card",style:{marginTop:"-10%"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"head"},r.a.createElement("h3",null,n("login.welcome")),r.a.createElement("p",null,n("login.tag"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange1,className:"form-control",name:"first_name",type:"text",placeholder:"First Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange2,className:"form-control",name:"last_name",type:"text",placeholder:"Last Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange3,name:"email",type:"email",placeholder:"Email id"}),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid email.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange4,className:"form-control",type:"phone",name:"phone",placeholder:"Phone no"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange5,className:"form-control",type:"password",name:"password",placeholder:"Password"}),r.a.createElement("span",{class:"icon-eye show-pwd"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange6,className:"form-control",type:"password",name:"c_password",placeholder:"Confirm Password"})),r.a.createElement("h4",{className:"text-center"},n("login.are_you")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:this.handleChange7,name:"subtype",value:this.state.subtype,className:"form-control"},r.a.createElement("option",{value:""},"--Select--"),r.a.createElement("option",{value:"Service Provider"},"Service Provider "),r.a.createElement("option",{value:"Provider item"},"Provider item"))),t||r.a.createElement(p,{title:"Register"}),e||null)))))}}]),a}(n.Component),w=Object(b.a)()(x),S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",errors:"",show_errors:!1,show_msg:!1},e.handleChange=function(t){e.setState({email:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.props.t;e.state.email||e.setState({errors:a("success.all_fields_are_required")});var n={email:e.state.email};_.a.post("".concat(E,"/api/password/email?"),{email:n.email}).then((function(t){e.setState({show_msg:!0})})).catch((function(t){var a=e.props.t;e.setState({show_errors:!0,errors:a("success.email_not_found")}),console.log(t)}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.t;t.i18n;return!0===this.state.show_errors&&(e=r.a.createElement("div",{style:{paddingTop:"10px"}},r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},this.state.errors))),!0===this.state.show_msg&&(e=r.a.createElement("div",{style:{paddingTop:"10px"}}," ",r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},"Email sent!"))),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:g.a,alt:""})),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"head"},r.a.createElement("h3",null,a("login.for_msg"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange,name:"email",type:"email",placeholder:"Email id"}),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid email.")),r.a.createElement(p,{title:"Reset"}),e||null),r.a.createElement(c.b,{className:"back-link",to:"/"},a("login.back_msg"))))))}}]),a}(n.Component),C=Object(b.a)()(S),j=a(1),O=a.n(j),I=a(4),A=a(76),D=a.n(A),T=a(60),M=a(47),R=a(77),q={en:a(78),fi:a(79)};T.a.use(R.a).use(M.e).init({resources:q,lng:localStorage.getItem("_lng"),fallbackLng:"fi",interpolation:{escapeValue:!1}});var z=T.a,P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loggedIn:!0,count:0,info:[],notif:[]},e.componentDidMount=function(){e._isMounted=!0,e.axiosCancelSource=_.a.CancelToken.source(),e.loadToken(),e.loadNotif(e.axiosCancelSource),e.loadData(e.axiosCancelSource)},e.loadData=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.get("".concat(E,"/api/account"),{headers:{Authorization:"Bearer ".concat(n)},cancelToken:a.token}).then((function(t){var a=t.data;e._isMounted&&e.setState({info:a})})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadNotif=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.get("".concat(E,"/api/getBidsNotif"),{headers:{Authorization:"Bearer ".concat(n)},cancelToken:a.token}).then((function(t){e._isMounted&&e.setState({notif:t.data.data,count:t.data.count})})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.readNotif=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.put("".concat(E,"/api/notification/read/").concat(t),null,{headers:{Authorization:"Bearer ".concat(a)}});case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loadToken=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:null==t.sent&&e.setState({loggedIn:!1});case 4:case"end":return t.stop()}}),t)}))),e.changeLanguage=function(e){z.changeLanguage(e),localStorage.setItem("_lng",e)},e}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.axiosCancelSource.cancel()}},{key:"render",value:function(){var e=this;if(!1===this.state.loggedIn)return r.a.createElement(o.a,{to:"/"});var t=this.props,a=t.t;t.i18n;return r.a.createElement("div",null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:g.a})),r.a.createElement("nav",{className:"navbar navbar-expand-md"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"icon-down"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"bussiness"===this.props.active?"nav-item active":"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/business-dashboard"},a("header.my_bussiness"),r.a.createElement("span",{className:"badge badge-danger"},"2"))),r.a.createElement("li",{className:"market"===this.props.active?"nav-item active":"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/index"},a("header.marketplace"))),r.a.createElement("li",{style:{marginLeft:"65%"}},r.a.createElement("button",{style:{float:"left",fontSize:"13px",padding:"5px"},className:"fi"===localStorage.getItem("_lng")?"btn font-weight-bold":"btn",onClick:function(){return e.changeLanguage("fi")}},"FI"),r.a.createElement("div",{style:{borderLeft:"1px solid grey",height:"15px",float:"left",marginTop:"6px",marginLeft:"-1px"}}),r.a.createElement("button",{style:{fontSize:"13px",padding:"5px"},className:"en"===localStorage.getItem("_lng")?"btn font-weight-bold":"btn",onClick:function(){return e.changeLanguage("en")}},"EN"))))),r.a.createElement("div",{className:"right-buttons"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("a",{className:"dropdown-toggle no-arrow",type:"button",id:"alert-messages","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"icon-bell"}),this.state.count>0?r.a.createElement("span",{className:"badge badge-danger"}):null),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alert-messages"},this.state.notif.map((function(t,a){return r.a.createElement("div",null,t.sender_isLogged&&"accept-bid"===t.notification_type?r.a.createElement(c.b,{className:"dropdown-item",to:"/my-contracts"},"Submit proposal to ",t.sender):t.sender_isLogged&&"decline-bid"===t.notification_type?r.a.createElement(c.b,{className:"dropdown-item",to:"/my-contracts"},"Proposal declined by ",t.sender):t.sender_isLogged&&"bid_made"===t.notification_type?r.a.createElement(c.b,{className:"dropdown-item",to:{pathname:"/listing-detail/".concat(t.notification_bid_id)}},t.notification_message," by"," ",t.sender):null,t.sender_isLogged&&"proposal_sent"===t.notification_type?r.a.createElement("div",null," ",r.a.createElement(c.b,{onClick:function(){return e.readNotif(t.notification_id)},className:"dropdown-item",to:"/my-contracts"},"accept-bid"===t.notification_type?"Bid accepted by ".concat(t.sender):"decline-bid"===t.notification_type?"Bid declined by ".concat(t.sender):null),r.a.createElement(c.b,{to:{pathname:"/proposal-listing"},className:"dropdown-item"},t.sender_isLogged&&"proposal_sent"===t.notification_type?"Proposal sent by ".concat(t.sender," on email"):null)," "):null,t.sender_isLogged&&"agreement_sent"===t.notification_type?r.a.createElement("div",null,r.a.createElement(c.b,{to:{pathname:"/agreement-listing"},className:"dropdown-item"},t.sender_isLogged&&"agreement_sent"===t.notification_type?"Agreement sent by ".concat(t.sender," on email"):null)," "):null,t.sender_isLogged&&"invoice_sent"===t.notification_type?r.a.createElement("div",null,r.a.createElement(c.b,{to:{pathname:"/invoice-list"},className:"dropdown-item"},t.sender_isLogged&&"invoice_sent"===t.notification_type?"Invoice sent by ".concat(t.sender," on email"):null)," "):null,t.sender_isLogged&&"agreement_accepted"===t.notification_type||"agreement_declined"===t.notification_type||"agreement_revision"===t.notification_type?r.a.createElement("div",null,t.sender_isLogged&&"agreement_revision"===t.notification_type?r.a.createElement(c.b,{to:{pathname:"/agreement-listing"},className:"dropdown-item"},"Agreement revision by ".concat(t.sender," for request ").concat(t.notification_user_id).concat(t.notification_bid_id)):t.sender_isLogged&&"agreement_revision"!==t.notification_type?r.a.createElement(c.b,{className:"dropdown-item"},"Agreement ".concat(t.notification_message," by ").concat(t.sender)):null):null,t.sender_isLogged&&"proposal_accepted"===t.notification_type||"proposal_declined"===t.notification_type||"proposal_revision"===t.notification_type?r.a.createElement("div",null,t.sender_isLogged&&"proposal_revision"===t.notification_type?r.a.createElement(c.b,{to:{pathname:"/proposal-listing"},className:"dropdown-item"},"Proposal revision by ".concat(t.sender," for request ").concat(t.notification_user_id).concat(t.notification_bid_id)):t.sender_isLogged&&"proposal_revision"!==t.notification_type?r.a.createElement(c.b,{className:"dropdown-item"},"Proposal ".concat(t.notification_message," by ").concat(t.sender)):null):null)})),r.a.createElement("div",{class:"dropdown-divider"}),r.a.createElement(c.b,{className:"dropdown-item",to:"/my-contracts"},a("header.view_all")))),r.a.createElement("div",{className:"dropdown"},r.a.createElement("a",{className:"dropdown-toggle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{className:"rounded-circle",src:null===this.state.info.company_logo?D.a:E+"/images/marketplace/company_logo/"+this.state.info.company_logo,alt:"Logo"})),r.a.createElement("span",null,this.state.info.first_name)),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton"},r.a.createElement(c.b,{className:"dropdown-item",to:"/myaccount"},a("account.my_account")),r.a.createElement(c.b,{className:"dropdown-item",to:"/logout"},a("account.logout")))))))}}]),a}(n.Component),F=Object(b.a)()(P),B=a(134),L=a(2),Y=a.n(L),W=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){Y()(".sidebar-toggle").click((function(){Y()(".main-content").toggleClass("show-sidebar")})),Y()(".main-content").click((function(e){Y()(e.target).is(".main-content")&&Y()(this).removeClass("show-sidebar")})),Y()(".sidebar .nav .nav-item .nav-link").click((function(){if(!Y()(this).parent().hasClass("open"))return Y()(".sidebar .nav .nav-item").removeClass("open"),Y()(this).parent().addClass("open"),Y()(".sidebar .nav .nav-item .sub-nav").slideUp(),void Y()(this).next().slideDown(".sub-nav");Y()(".sidebar .nav .nav-item").removeClass("open"),Y()(this).next().slideUp(".sub-nav")})),Y()(document).ready((function(){Y()(window).outerWidth();var e=Y()(".main-content");if(e.length){var t="calc(100vh - "+Math.floor(e.offset().top)+"px)";e.css("height",t)}function a(){var e=Y()(".sidebar .nav"),t=Y()(".sidebar .scroll"),a=e.outerHeight(!0),n=e.prop("scrollHeight"),r=a*a/n,l=navigator.userAgent;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(l)&&e.css({margin:0,width:"100%"}),t.height(r),Math.round(e.height())<=Math.round(t.height())?t.hide():t.show(),e.on("scroll",(function(){t.css({top:e.scrollTop()/a*r})}))}Y()(window).resize((function(){a()})),Y()(".sidebar .nav").on("scroll mouseout mouseover",(function(){a()})),a()}))},z.changeLanguage(localStorage.getItem("_lng")),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"wraper"},r.a.createElement("div",{className:"scroll"}),r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"/index"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{className:"nav-link",to:"/index"},r.a.createElement("i",{className:"icon-dashboard"}),e("sidebar.pro_desk"))}))),r.a.createElement("li",{className:"/feeds"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{className:"nav-link",to:"/feeds"},r.a.createElement("i",{className:"icon-jobs"}),e("sidebar.feeds"))}))),r.a.createElement("li",{className:"/create-material-list"===this.props.dataFromParent||"/material-list"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{className:"icon-materials"}),e("index.materials"))})),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{to:"/create-material-list"},e("sidebar.create_listing"))}))),r.a.createElement("li",null,r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{to:"/material-list"},e("sidebar.see_listing"))}))))),r.a.createElement("li",{className:"/create-work-list"===this.props.dataFromParent||"/work-list"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{className:"icon-work"}),e("index.work"))})),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{to:"/create-work-list"},e("sidebar.create_listing"))}))),r.a.createElement("li",null,r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{to:"/work-list"},e("sidebar.see_listing"))}))))),r.a.createElement("li",{className:"/my-contracts"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{className:"nav-link",to:"/my-contracts"},r.a.createElement("i",{className:"icon-jobs"}),e("index.contract"))}))),r.a.createElement("li",{className:"/saved"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(B.a,null,(function(e){return r.a.createElement(c.b,{className:"nav-link",to:"/saved"},r.a.createElement("i",{className:"icon-jobs"}),e("index.jobs"))}))))))}}]),a}(n.Component),U=a(16),G=a.n(U),Z=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(I.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._isMounted=!0,n.axiosCancelSource=_.a.CancelToken.source(),n.loadStats(n.axiosCancelSource),n.loadSaved(n.axiosCancelSource);case 4:case"end":return e.stop()}}),e)}))),n.loadSaved=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,_.a.get("".concat(E,"/api/saved"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}).then((function(e){n._isMounted&&n.setState({saved:e.data.count})})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadStats=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r,l,s,c,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,r=_.a.get("".concat(E,"/api/dashboard/request"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}),l=_.a.get("".concat(E,"/api/dashboard/offer"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}),s=_.a.get("".concat(E,"/api/dashboard/request-acc"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}),c=_.a.get("".concat(E,"/api/dashboard/request-dec"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}),o=_.a.get("".concat(E,"/api/dashboard/offer-acc"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}),i=_.a.get("".concat(E,"/api/dashboard/offer-dec"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}),_.a.all([r,l,s,c,o,i]).then(_.a.spread((function(){if(n._isMounted){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t[0].data,l=t[1].data,s=t[2].data,c=t[3].data,o=t[4].data,i=t[5].data;n.setState({statsReq:r.data,statsOffer:l.data,req_acc:s.count,req_dec:c.count,offer_acc:o.count,offer_dec:i.count})}}))).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={saved:null,lng:"",statsReq:[],statsOffer:[],req_acc:[],req_dec:[],offer_acc:[],offer_dec:[]},n}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.axiosCancelSource.cancel()}},{key:"render",value:function(){var e=this,t=this.state.statsReq.map((function(t){return e.state.statsReq.reduce((function(e,t){return G()(t.tender_expiry_date).isBefore(G()()._d)?e+1:e}),0)})),a=this.state.statsOffer.map((function(t){return e.state.statsOffer.reduce((function(e,t){return G()(t.tender_expiry_date).isBefore(G()()._d)?e+1:e}),0)}));return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},e("index.title"))})))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h3",{className:"head3"},e("index.title2"))})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-materials"}),e("index.materials"))}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/create-material-list"},e("index.my_bids.make_offer")))})),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/create-material-list"},e("index.my_bids.make_request")))})),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/material-list"},e("index.my_bids.see_listings")))})))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-work"}),e("index.work"))}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/create-work-list"},e("index.my_bids.make_offer")))})),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/create-work-list"},e("index.my_bids.make_request")))})),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/work-list"},e("index.my_bids.see_listings")))})))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-request"}),e("index.request"))}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement(B.a,null,(function(t){return r.a.createElement("li",null,t("index.my_request.accepted")," ",r.a.createElement("span",{className:"badge badge-light"},e.state.req_acc))})),r.a.createElement(B.a,null,(function(t){return r.a.createElement("li",null,t("index.my_request.declined")," ",r.a.createElement("span",{className:"badge badge-light"},e.state.req_dec))})),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,e("index.my_request.expired")," ",r.a.createElement("span",{className:"badge badge-light"},t[0]))})))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-offce-details"}),e("index.offers"))}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement(B.a,null,(function(t){return r.a.createElement("li",null,t("index.my_request.accepted")," ",r.a.createElement("span",{className:"badge badge-light"},e.state.offer_acc))})),r.a.createElement(B.a,null,(function(t){return r.a.createElement("li",null,t("index.my_request.declined")," ",r.a.createElement("span",{className:"badge badge-light"},e.state.offer_dec))})),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",null,e("index.my_request.expired")," ",r.a.createElement("span",{className:"badge badge-light"},a[0]))})))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(c.b,{className:"nav-link",to:"/saved"},r.a.createElement(B.a,null,(function(t){return r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-jobs"}),t("index.jobs")," ",r.a.createElement("span",{className:"badge badge-light"},e.state.saved))})))))))))))}}]),a}(n.Component),J=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),localStorage.removeItem("token"),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(o.a,{to:"/"})}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).feeds_search=[],n._isMounted=!1,n.componentDidMount=function(){n._isMounted=!0,n.axiosCancelSource=_.a.CancelToken.source(),n.loadData(n.axiosCancelSource),n.loadCategory(n.axiosCancelSource),n.loadSaved(n.axiosCancelSource),n.loadState(n.axiosCancelSource)},n.loadState=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,localStorage.getItem("i18nextLng");case 5:r=e.sent,_.a.get("".concat(E,"/api/state/").concat(r),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}).then((function(e){n._isMounted&&n.setState({states:e.data.data})})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.ChangeCity=function(e){n.setState({cities:[]});var t=localStorage.getItem("token"),a=localStorage.getItem("i18nextLng");_.a.get("".concat(E,"/api/cityId/").concat(e.target.value,"/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n._isMounted&&n.setState({cities:e.data.data})})).catch((function(e){console.log(e.response)}))},n.loadSaved=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.get("".concat(E,"/api/saved-icon"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}).then((function(e){n._isMounted&&n.setState({saved:e.data.data})})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadData=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,_.a.get("".concat(E,"/api/feeds"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}).then((function(e){if(n._isMounted){var t=e.data.data;n.feeds_search=t,n.setState({feeds:t,loaded:!0})}})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):alert("Error occured please login again")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadCategory=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,_.a.get("".concat(E,"/api/category"),{headers:{Authorization:"Bearer ".concat(a)},cancelToken:t.token}).then((function(e){n._isMounted&&n.setState({productcat:e.data.data})})).catch((function(e){_.a.isCancel(e)?console.log("Request canceled",e.message):console.log(e.response)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.searchSpace=function(e){var t=e.target.value;n.setState({search:t})},n.handleChange=function(e){n.setState({feeds:n.feeds_search}),n.setState({cat:e.target.value},(function(){"--Select--"==n.state.cat&&window.location.reload(),n.setState((function(e){return{feeds:e.feeds.filter((function(e){return e.category.includes(n.state.cat)}))}}))})),console.log(n.state.feeds)},n.handleCity=function(e){n.setState({feeds:n.feeds_search}),n.setState({city:e.target.value},(function(){"--Select--"==n.state.city&&window.location.reload(),n.setState((function(e){return{feeds:e.feeds.filter((function(e){return e.city.includes(n.state.city)}))}}))}))},n.handleCheck=function(e){n.setState({feeds:n.feeds_search}),n.setState({checked:!n.state.checked}),n.state.checked&&n.setState({feeds:n.state.feeds.filter((function(e){return e.type.includes("Offer")}))})},n.handleCheck1=function(e){n.setState({feeds:n.feeds_search}),n.setState({checked:!n.state.checked}),n.state.checked&&n.setState({feeds:n.state.feeds.filter((function(e){return e.type.includes("Request")}))})},n.handleCheck2=function(e){n.setState({feeds:n.feeds_search}),n.setState({checked:!n.state.checked}),n.state.checked&&n.setState({feeds:n.state.feeds.filter((function(e){return e.category_type.includes("Material")}))})},n.handleCheck3=function(e){n.setState({feeds:n.feeds_search}),n.setState({checked:!n.state.checked}),n.state.checked&&n.setState({feeds:n.state.feeds.filter((function(e){return e.category_type.includes("Work")}))})},n.remove=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.delete("".concat(E,"/api/saved/remove/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n.setState({refresh:!1}),n.setState({refresh:!0})})).catch((function(e){return 404===e.response.status?alert("Saved job doesn't belong to the user"):alert("Some issue occured")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.save=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,(r=new FormData).set("uft_tender_id",t),_.a.post("".concat(E,"/api/saved/add"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n.setState({refresh:!1}),n.setState({refresh:!0})})).catch((function(e){console.log(e),alert("Some issue occured")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={feeds:[],productcat:[],cat:"",city:"",states:[],cities:[],search:null,checked:!0,active:!0,saved:[],ids:[],refresh:!1,loaded:!1},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.refresh!==this.state.refresh&&(this.loadData(this.axiosCancelSource),this.loadSaved(this.axiosCancelSource))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.axiosCancelSource.cancel()}},{key:"url",value:function(e,t){return"Material"===t?"material-offer-detail":"Work"===t?"work-detail":null}},{key:"budget",value:function(e,t,a){return null!==e?"budget":null!==t?"cost":null!==a?"unit":void 0}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.feeds.filter((function(t){return null==e.state.search||t.title.toLowerCase().includes(e.state.search.toLowerCase())||t.description.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0}))),l=Object.values(this.state.saved),s=function(e){return l.map((function(t){if(t.uft_tender_id===e)return"icon-heart"}))};return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("header.marketplace")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"product"},a("feeds.search.product")),r.a.createElement("input",{id:"product",onChange:function(t){return e.searchSpace(t)},type:"text",className:"form-control"}))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productcat"},a("feeds.search.product_category")),r.a.createElement("select",{onChange:this.handleChange,name:"productcat",id:"productcat",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.productcat.map((function(e,t){e.category_id;var a=e.category_name;return r.a.createElement("option",{value:a},a)}))))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck,type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},a("feeds.search.offer"))),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck1,type:"checkbox",className:"form-check-input",id:"exampleCheck2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck2"},a("feeds.search.request"))),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck2,type:"checkbox",className:"form-check-input",id:"exampleCheck3"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck3"},a("feeds.search.material"))),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck3,type:"checkbox",className:"form-check-input",id:"exampleCheck4"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck4"},a("feeds.search.work")))))),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productcat"}," ",a("feeds.search.state")),r.a.createElement("select",{onChange:this.ChangeCity,name:"state",id:"state",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.states.map((function(e,t){var a=e.state_id,n=e.state_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)}))))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productcat"}," ",a("feeds.search.city")),r.a.createElement("select",{onChange:this.handleCity,name:"city",id:"city",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.cities.map((function(e,t){var a=e.city_id,n=e.city_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)}))))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("sidebar.feeds"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"feeds",style:{maxWidth:"100%"}},!0===this.state.loaded&&0===n.length?r.a.createElement("div",{className:"item"},r.a.createElement("h3",null,"No jobs found")):!1===this.state.loaded?r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):n.map((function(t){return r.a.createElement("div",{className:"item",key:t.id},r.a.createElement(c.b,{to:{pathname:"/".concat(e.url(t.type,t.category_type),"/").concat(t.id)},style:{textDecoration:"none",color:"black"}},r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{src:"".concat(E,"/images/marketplace/material/").concat(t.featured_image),alt:"featured"}))),r.a.createElement("div",{className:"content-box"},r.a.createElement(c.b,{to:{pathname:"/".concat(e.url(t.type,t.category_type),"/").concat(t.id)},style:{textDecoration:"none",color:"black"}},r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.description,"."),r.a.createElement("p",{className:"m-0"},r.a.createElement("span",{className:"badge badge-secondary"},t.type),r.a.createElement("span",{className:"badge badge-secondary"},t.category_type),r.a.createElement("span",{className:"badge badge-secondary"},2===t.extra?"Work included":1===t.extra?"Material included":null)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"cl-light"},e.budget(t.budget,t.cost_per_unit,t.unit)),r.a.createElement("span",{className:"cl-light"},"per_m2"===t.budget?"(cost/m2)":t.budget?t.budget:t.cost_per_unit?"".concat(t.cost_per_unit,"\u20ac/pcs"):t.unit)),r.a.createElement("li",null,r.a.createElement("span",{className:"cl-light"},"qnt."),r.a.createElement("span",{className:"cl-light"},t.quantity?t.quantity:t.rate)),r.a.createElement("li",null,r.a.createElement("span",{className:"cl-light"},"Time left"),r.a.createElement("span",{className:"cl-light"},t.time_left)))),r.a.createElement("a",{id:t.id,className:"add-favorites",onClick:"icon-heart"==s(t.id).filter((function(e){return e}))?function(){return e.remove(t.id)}:function(){return e.save(t.id)}},r.a.createElement("i",{className:"icon-heart"==s(t.id).filter((function(e){return e}))?"icon-heart":"icon-heart-o"}))))})))))))))}}]),a}(n.Component),V=Object(b.a)()(Object(n.memo)(H)),Q=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/material-list"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,a=t.role,r=t.data;n.setState({role:a,materials:r})})).catch((function(e){console.log(e)})),n.loadConfig();case 5:case"end":return e.stop()}}),e)}))),n.loadConfig=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,a=t.left,r=t.right;n.setState({left:a,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.searchSpace=function(e){var t=e.target.value;n.setState({search:t})},n.handleChange=function(e){n.setState({productcat:e.target.value},(function(){"--Select--"==n.state.productcat&&window.location.reload(),n.setState({materials:n.state.materials.filter((function(e){return e.tender_category_type.includes(n.state.productcat)}))})}))},n.handleCheck=function(e){n.setState({checked:!n.state.checked}),n.state.checked?n.setState({materials:n.state.materials.filter((function(e){return e.tender_type.includes("Offer")}))}):window.location.reload(!1)},n.handleCheck1=function(e){n.setState({checked:!n.state.checked}),n.state.checked?n.setState({materials:n.state.materials.filter((function(e){return e.tender_type.includes("Request")}))}):window.location.reload(!1)},n.state={role:"",materials:[],productcat:"",search:null,checked:!0,left:null,right:null},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.materials.filter((function(t){return null==e.state.search||t.tender_type.toLowerCase().includes(e.state.search.toLowerCase())||t.tender_title.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})));return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("header.marketplace")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("c_material_list.listing.material_listings")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"product"},a("feeds.search.product")),r.a.createElement("input",{id:"product",onChange:function(t){return e.searchSpace(t)},type:"text",className:"form-control"}))),r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productcat"},a("feeds.search.product_category")),r.a.createElement("select",{onChange:this.handleChange,name:"productcat",id:"productcat",className:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Material"),r.a.createElement("option",null,"Work")))),r.a.createElement("div",{className:"col-lg-3 col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck,type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},a("feeds.search.offer"))),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck1,type:"checkbox",className:"form-check-input",id:"exampleCheck2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck2"},a("feeds.search.request"))))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("c_material_list.listing.my_listings")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/create-material-list"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table "},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("c_material_list.listing.ref"),"#"),r.a.createElement("th",null,a("c_material_list.listing.title")),r.a.createElement("th",null,a("c_material_list.listing.type")),r.a.createElement("th",null,a("c_material_list.listing.start_date")),r.a.createElement("th",null,a("c_material_list.listing.end_date")),r.a.createElement("th",null),r.a.createElement("th",null,a("c_material_list.listing.current_bid")),r.a.createElement("th",null,a("c_material_list.listing.view")))),r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement("tr",{key:t.tender_id},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2"}))),r.a.createElement("td",{"data-label":"REF#: "},t.tender_id),r.a.createElement("td",{"data-label":"Type: "},t.tender_title),r.a.createElement("td",{"data-label":"Type: "},t.tender_type),r.a.createElement("td",{"data-label":"Start Date: "},t.created_at),r.a.createElement("td",{"data-label":"End Date: "},t.tender_expiry_date.substring(0,24)),r.a.createElement("td",null,G()(t.tender_expiry_date).isBefore(G()()._d)?r.a.createElement("span",{className:"badge badge-warning"},"Expired"):r.a.createElement("span",{className:"badge badge-primary"},"Posted")),r.a.createElement("td",{"data-label":"Current bid: "},t.quote?"".concat(e.state.left," ").concat(t.quote," ").concat(e.state.right):"".concat(e.state.left," 0.00  ").concat(e.state.right)),r.a.createElement("td",{"data-label":"View: "},r.a.createElement(c.b,{to:{pathname:"/listing-detail/".concat(t.tender_id)},className:"btn btn-info"},"Details")))})))))))))))}}]),a}(n.Component),X=Object(b.a)()(Q),K=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/work-list"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,a=t.role,r=t.data;n.setState({role:a,works:r})})).catch((function(e){console.log(e)})),n.loadConfig();case 5:case"end":return e.stop()}}),e)}))),n.loadConfig=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,a=t.left,r=t.right;n.setState({left:a,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.searchSpace=function(e){var t=e.target.value;n.setState({search:t})},n.handleChange=function(e){n.setState({productcat:e.target.value},(function(){"--Select--"==n.state.productcat&&window.location.reload(),n.setState({works:n.state.works.filter((function(e){return e.tender_category_type.includes(n.state.productcat)}))})}))},n.handleCheck=function(e){n.setState({checked:!n.state.checked}),n.state.checked?n.setState({works:n.state.works.filter((function(e){return e.tender_type.includes("Offer")}))}):window.location.reload(!1)},n.handleCheck1=function(e){n.setState({checked:!n.state.checked}),n.state.checked?n.setState({works:n.state.works.filter((function(e){return e.tender_type.includes("Request")}))}):window.location.reload(!1)},n.state={role:"",works:[],productcat:"",search:null,checked:!0,left:null,right:null},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.works.filter((function(t){return null==e.state.search||t.tender_type.toLowerCase().includes(e.state.search.toLowerCase())||t.tender_title.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})));return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("header.marketplace")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("header.marketplace")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"product"},a("feeds.search.product")),r.a.createElement("input",{id:"product",onChange:function(t){return e.searchSpace(t)},type:"text",className:"form-control"}))),r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productcat"},a("feeds.search.product_category")),r.a.createElement("select",{onChange:this.handleChange,name:"productcat",id:"productcat",className:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Material"),r.a.createElement("option",null,"Work")))),r.a.createElement("div",{className:"col-lg-3 col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck,type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},a("feeds.search.offer"))),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{onChange:this.handleCheck1,type:"checkbox",className:"form-check-input",id:"exampleCheck2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck2"},a("feeds.search.request"))))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("c_material_list.listing.my_listings")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/create-work-list"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("c_material_list.listing.ref"),"#"),r.a.createElement("th",null,a("c_material_list.listing.title")),r.a.createElement("th",null,a("c_material_list.listing.type")),r.a.createElement("th",null,a("c_material_list.listing.start_date")),r.a.createElement("th",null,a("c_material_list.listing.end_date")),r.a.createElement("th",null),r.a.createElement("th",null,a("c_material_list.listing.current_bid")),r.a.createElement("th",null,a("c_material_list.listing.view")))),r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement("tr",{key:t.tender_id},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2"}))),r.a.createElement("td",{"data-label":"REF#: "},t.tender_id),r.a.createElement("td",{"data-label":"Type: "},t.tender_title),r.a.createElement("td",{"data-label":"Type: "},t.tender_type),r.a.createElement("td",{"data-label":"Start Date: "},t.created_at),r.a.createElement("td",{"data-label":"End Date: "},t.tender_expiry_date.substring(0,24)),r.a.createElement("td",null,G()(t.tender_expiry_date).isBefore(G()()._d)?r.a.createElement("span",{className:"badge badge-warning"},"Expired"):r.a.createElement("span",{className:"badge badge-primary"},"Posted")),r.a.createElement("td",{"data-label":"Current bid: "},t.quote?"".concat(e.state.left," ").concat(t.quote," ").concat(e.state.right):"".concat(e.state.left," 0.00 ").concat(e.state.right)),r.a.createElement("td",{"data-label":"View: "},r.a.createElement(c.b,{to:{pathname:"/listing-detail/".concat(t.tender_id)},className:"btn btn-info"},"Details")))})))))))))))}}]),a}(n.Component),$=Object(b.a)()(K),ee=a(14),te=a(24),ae=a(17),ne=a.n(ae),re=a(21),le=a(18),se=a.n(le),ce=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fileObj=[],n.fileArray=[],n.files=[],n.componentDidMount=function(){n.loadCategory(),n.loadState(),n.loadConfig()},n.loadConfig=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,_.a.get("".concat(E,"/api/config"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({configs:e.data.data}),n.state.configs.map((function(e){"datepicker_date_format"==e.configuration_name&&n.setState({datepicker_date_format:e.configuration_val}),"datepicker_time_format"==e.configuration_name&&n.setState({datepicker_time_format:e.configuration_val})}))})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),n.loadCategory=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/category"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({productcat:e.data.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.loadState=Object(I.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,localStorage.getItem("i18nextLng");case 5:a=e.sent,_.a.get("".concat(E,"/api/state/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({states:e.data.data})})).catch((function(e){console.log(e.response)}));case 7:case"end":return e.stop()}}),e)}))),n.removeImg=function(e){e.preventDefault(),n.fileArray=[],n.setState({slider_image:[],loaded2:0})},n.handleChange1=function(e){n.setState({title:e.target.value})},n.handleChange2=function(e){n.setState({categoryId:e.target.value})},n.handleChange13=function(e){n.setState({delivery_type:e.target.value})},n.handleChange15=function(e){n.setState({cost_per_unit:e.target.value})},n.handleChange16=function(e){n.setState({delivery_cost:e.target.value})},n.handleChange3=function(e){n.setState({quantity:e.target.value})},n.handleChange4=function(e){n.setState({unit:e.target.value})},n.handleChange5=function(e){n.setState({city:e.target.value})},n.ChangeCity=function(e){n.setState({cities:[]});var t=localStorage.getItem("token"),a=localStorage.getItem("i18nextLng");_.a.get("".concat(E,"/api/cityId/").concat(e.target.value,"/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({cities:e.data.data})})).catch((function(e){console.log(e.response)}))},n.handleChange6=function(e){n.setState({pincode:e.target.value})},n.handleChange14=function(e){n.setState({warranty:e.target.value})},n.handleChange7=function(e){n.setState({post_expiry_date:e._d})},n.handleChange8=function(e){n.setState({description:e.target.value})},n.handleChange9=function(e){n.setState({featured_image:null}),"jpeg"==e.target.files[0].name.split(".").pop()||"png"==e.target.files[0].name.split(".").pop()||"jpg"==e.target.files[0].name.split(".").pop()||"gif"==e.target.files[0].name.split(".").pop()||"svg"==e.target.files[0].name.split(".").pop()?(n.setState({featured_image:e.target.files[0],loaded:50,featured_image_err:!1,attachment_preview:URL.createObjectURL(e.target.files[0])}),n.state.loaded<=100&&setTimeout(function(){this.setState({loaded:100})}.bind(Object(te.a)(n)),2e3)):(n.setState({featured_image_err:!0,featured_image:null}),alert("File type not supported"))},n.handleChange10=function(e){return e.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=e.target.files[0].name.split(".").pop()&&"docx"!=e.target.files[0].name.split(".").pop()&&"doc"!=e.target.files[0].name.split(".").pop()?(n.setState({attachment_err:!0,attachment:null}),alert("File type not supported")):(n.setState({attachment:e.target.files[0],loaded1:50,attachment_err:!1}),void(n.state.loaded1<=100&&setTimeout(function(){this.setState({loaded1:100})}.bind(Object(te.a)(n)),2e3)))},n.handleChange11=function(e){n.files=[],Array.from(e.target.files).forEach((function(e){"jpeg"!=e.name.split(".").pop()&&"png"!=e.name.split(".").pop()&&"jpg"!=e.name.split(".").pop()&&"gif"!=e.name.split(".").pop()&&"svg"!=e.name.split(".").pop()||n.files.push(e)})),n.fileObj=[],n.fileArray=[],n.fileObj.push(n.files);for(var t=0;t<n.fileObj[0].length;t++)n.fileArray.push(URL.createObjectURL(n.fileObj[0][t]));n.setState({slider_image:n.files,loaded2:50,slider_image_err:!1,slider_image_preview:n.fileArray}),n.state.loaded2<=100&&setTimeout(function(){this.setState({loaded2:100})}.bind(Object(te.a)(n)),2e3)},n.handleCheck=function(e){n.setState({checked:!n.state.checked},(function(){n.state.checked&&n.setState({work_checked:2})}))},n.handleSubmit=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r,l,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({title_err:!1,quantity_err:!1,pincode_err:!1,post_expiry_date_err:!1,description_err:!1,categoryId_err:!1,unit_err:!1,city_err:!1,featured_image_err:!1,attachment_err:!1,slider_image_err:!1,cost_per_unit_err:!1,delivery_type_err:!1,delivery_cost_err:!1,warranty_err:!1}),n.state.title.length<=0&&n.setState({title_err:!0}),n.state.quantity.length<=0&&n.setState({quantity_err:!0}),n.state.pincode.length<=0&&n.setState({pincode_err:!0}),""!=n.state.post_expiry_date&&void 0!=n.state.post_expiry_date||n.setState({post_expiry_date_err:!0}),n.state.description.length<=0&&n.setState({description_err:!0}),"--Select--"!=n.state.categoryId&&""!=n.state.categoryId||n.setState({categoryId_err:!0}),"select"!=n.state.unit&&""!=n.state.unit||n.setState({unit_err:!0}),"--Select--"!=n.state.city&&""!=n.state.city||n.setState({city_err:!0}),null==n.state.featured_image&&n.setState({featured_image_err:!0}),null==n.state.attachment&&n.setState({attachment_err:!0}),n.state.slider_image.length<=0&&n.setState({slider_image_err:!0}),n.state.cost_per_unit.length<=0&&n.setState({cost_per_unit_err:!0}),"--Select--"!=n.state.delivery_type&&""!=n.state.delivery_type||n.setState({delivery_type_err:!0}),n.state.delivery_cost.length<=0&&n.setState({delivery_cost_err:!0}),n.state.warranty.length<=0&&n.setState({warranty_err:!0}),e.next=19,localStorage.getItem("token");case 19:for(a=e.sent,n.setState({loading:!0}),(r=new FormData).set("title",n.state.title),r.set("categoryId",n.state.categoryId),r.set("quantity",n.state.quantity),r.set("description",n.state.description),r.set("unit",n.state.unit),r.set("city",n.state.city),r.set("pincode",n.state.pincode),r.set("extra",n.state.work_checked),r.set("post_expiry_date",n.state.post_expiry_date),r.append("featured_image",n.state.featured_image),r.append("attachment",n.state.attachment),l=0,s=Object.keys(n.state.slider_image);l<s.length;l++)c=s[l],r.append("slider_image[]",n.state.slider_image[c]);_.a.post("".concat(E,"/api/material-request/create"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),n.setState({show_msg:!0,loading:!1}),n.myRef.current.scrollTo(0,0)})).catch((function(e){Object.entries(e.response.data.error).map((function(t){var a=Object(ee.a)(t,2);a[0],a[1];n.setState({errors:e.response.data.error})})),n.setState({show_errors:!0,loading:!1}),n.myRef.current.scrollTo(0,0)}));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit1=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r,l,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({title_err:!1,quantity_err:!1,pincode_err:!1,post_expiry_date_err:!1,description_err:!1,categoryId_err:!1,unit_err:!1,city_err:!1,featured_image_err:!1,attachment_err:!1,slider_image_err:!1,cost_per_unit_err:!1,delivery_type_err:!1,delivery_cost_err:!1,warranty_err:!1}),n.state.title.length<=0&&n.setState({title_err:!0}),n.state.quantity.length<=0&&n.setState({quantity_err:!0}),n.state.pincode.length<=0&&n.setState({pincode_err:!0}),""!=n.state.post_expiry_date&&void 0!=n.state.post_expiry_date||n.setState({post_expiry_date_err:!0}),n.state.description.length<=0&&n.setState({description_err:!0}),"--Select--"!=n.state.categoryId&&""!=n.state.categoryId||n.setState({categoryId_err:!0}),"select"!=n.state.unit&&""!=n.state.unit||n.setState({unit_err:!0}),"--Select--"!=n.state.city&&""!=n.state.city||n.setState({city_err:!0}),null==n.state.featured_image&&n.setState({featured_image_err:!0}),null==n.state.attachment&&n.setState({attachment_err:!0}),n.state.slider_image.length<=0&&n.setState({slider_image_err:!0}),n.state.cost_per_unit.length<=0&&n.setState({cost_per_unit_err:!0}),"--Select--"!=n.state.delivery_type&&""!=n.state.delivery_type||n.setState({delivery_type_err:!0}),n.state.delivery_cost.length<=0&&n.setState({delivery_cost_err:!0}),n.state.warranty.length<=0&&n.setState({warranty_err:!0}),e.next=19,localStorage.getItem("token");case 19:for(a=e.sent,n.setState({loading:!0}),(r=new FormData).set("title",n.state.title),r.set("categoryId",n.state.categoryId),r.set("quantity",n.state.quantity),r.set("description",n.state.description),r.set("unit",n.state.unit),r.set("cost_per_unit",n.state.cost_per_unit),r.set("warranty",n.state.warranty),r.set("delivery_type[]",n.state.delivery_type),r.set("delivery_cost[]",n.state.delivery_cost),r.set("city",n.state.city),r.set("pincode",n.state.pincode),r.set("extra",n.state.work_checked),r.set("post_expiry_date",n.state.post_expiry_date),r.append("featured_image",n.state.featured_image),r.append("attachment",n.state.attachment),l=0,s=Object.keys(n.state.slider_image);l<s.length;l++)c=s[l],r.append("slider_image[]",n.state.slider_image[c]);_.a.post("".concat(E,"/api/material-offers/create"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),n.setState({show_msg:!0,loading:!1}),n.myRef.current.scrollTo(0,0)})).catch((function(e){Object.entries(e.response.data.error).map((function(t){var a=Object(ee.a)(t,2);a[0],a[1];n.setState({errors:e.response.data.error})})),n.setState({show_errors:!0,loading:!1}),n.myRef.current.scrollTo(0,0)}));case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=n.handleSubmit.bind(Object(te.a)(n)),n.state={title:"",title_err:!1,categoryId:"",categoryId_err:!1,productcat:[],cities:[],quantity:"",quantity_err:!1,unit:"",unit_err:!1,city:"",states:[],city_err:!1,cost_per_unit:"",cost_per_unit_err:!1,warranty:"",warranty_err:!1,warranty_type:1,pincode:"",pincode_err:!1,post_expiry_date:"",post_expiry_date_err:!1,description:"",description_err:"",featured_image:null,featured_image_err:null,attachment:null,attachment_err:null,slider_image:[],slider_image_err:!1,attachment_preview:null,slider_image_preview:[null],delivery_type:[],delivery_cost:[],delivery_type_err:!1,delivery_cost_err:!1,checked:!1,work_checked:0,errors:[],show_errors:!1,show_msg:!1,loading:!1,loaded:0,loaded1:0,loaded2:0,configs:[],datepicker_date_format:"",datepicker_time_format:""},n.myRef=r.a.createRef(),n}return Object(m.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.t;n.i18n;return!0===this.state.show_errors&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px",zIndex:1}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),!0===this.state.show_msg&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},l("success.mat_ins"))),!0===this.state.loading&&(t=r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},l("header.marketplace")),r.a.createElement("li",{class:"breadcrumb-item active","aria-current":"page"},l("c_material_list.request.title")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"head3"},l("c_material_list.request.title")),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("c_material_list.request.type_list")),r.a.createElement("small",{class:"form-text text-muted",style:{fontSize:"15px"}},l("c_material_list.request.sub_title")),r.a.createElement("ul",{class:"nav tablist",id:"listing-type",role:"tablist"},r.a.createElement("li",{class:"nav-item",role:"presentation"},r.a.createElement("a",{class:"nav-link active",id:"type-request-tab","data-toggle":"pill",href:"#type-request",role:"tab","aria-controls":"type-request","aria-selected":"true"},l("feeds.search.request"))),r.a.createElement("li",{class:"nav-item",role:"presentation"},r.a.createElement("a",{class:"nav-link",id:"type-offer-tab","data-toggle":"pill",href:"#type-offer",role:"tab","aria-controls":"type-offer","aria-selected":"false"},l("feeds.search.offer"))))))),r.a.createElement("div",{class:"tab-content",id:"type-tabContent",style:{maxWidth:"960px"}},r.a.createElement("div",{class:"tab-pane fade show active",id:"type-request",role:"tabpanel","aria-labelledby":"type-request"},r.a.createElement("form",null,r.a.createElement("div",{class:"row gutters-40"},r.a.createElement("div",{class:"col-md-5 col-lg-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"title"},l("c_material_list.request.input_title")),r.a.createElement("input",{id:"title",onChange:this.handleChange1,name:"title",type:"text",className:"form-control",style:!0===this.state.title_err?{border:"1px solid #eb516d"}:{},placeholder:""})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"categoryId"},l("c_material_list.request.category")),r.a.createElement("select",{required:!0,style:!0===this.state.categoryId_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange2,name:"categoryId",id:"categoryId",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.productcat.map((function(e,t){var a=e.category_id,n=e.category_name;return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"quantity"},l("c_material_list.request.vol_need")),r.a.createElement("input",{onChange:this.handleChange3,style:!0===this.state.quantity_err?{border:"1px solid #eb516d"}:{},name:"quantity",id:"quantity",type:"text",class:"form-control",placeholder:"1500"}))),r.a.createElement("div",{class:"col-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"unit"},l("c_material_list.request.unit")),r.a.createElement("select",{onClick:this.handleChange4,style:!0===this.state.unit_err?{border:"1px solid #eb516d"}:{},name:"unit",id:"unit",class:"form-control"},r.a.createElement("option",null,"select"),r.a.createElement("option",null,"Kg"),r.a.createElement("option",null,"M2"),r.a.createElement("option",null,"Liter"),r.a.createElement("option",null,"Other"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"state"},l("feeds.search.state")),r.a.createElement("select",{onChange:this.ChangeCity,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"state",id:"state",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.states.map((function(e,t){var a=e.state_id,n=e.state_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"city"},l("c_material_list.request.city")),r.a.createElement("select",{onClick:this.handleChange5,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"city",id:"city",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.cities.map((function(e,t){var a=e.city_id,n=e.city_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"pincode"},l("c_material_list.request.pincode")),r.a.createElement("input",{onChange:this.handleChange6,name:"pincode",style:!0===this.state.pincode_err?{border:"1px solid #eb516d"}:{},id:"pincode",type:"text",class:"form-control",placeholder:"140603"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"expires"},l("c_material_list.request.post_expires_in")),r.a.createElement("div",{style:!0===this.state.post_expiry_date_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange7(e)},name:"post_expiry_date",dateFormat:this.state.datepicker_date_format,timeFormat:this.state.datepicker_time_format}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"work",value:"2",onChange:this.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"work"},l("feeds.search.work"))))),r.a.createElement("div",{class:"col-md-7 col-lg-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"Desc"},l("c_material_list.request.description")),r.a.createElement("textarea",{onChange:this.handleChange8,name:"description",style:!0===this.state.description_err?{border:"1px solid #eb516d"}:{},id:"Desc",class:"form-control"})),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"main"},l("c_material_list.request.main")),r.a.createElement("div",{style:!0===this.state.featured_image_err?{border:"1px solid #eb516d"}:{},class:"file-select"},r.a.createElement("input",{onChange:this.handleChange9,name:"featured_image",type:"file",id:"main"}),r.a.createElement("label",{for:"main"},r.a.createElement("img",{src:this.state.attachment_preview?this.state.attachment_preview:ne.a}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg")))),r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"attachment"},l("c_material_list.request.attachment")),r.a.createElement("div",{class:"file-select",style:!0===this.state.attachment_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange10,name:"attachment",type:"file",id:"attachment"}),r.a.createElement("label",{for:"attachment"},r.a.createElement("img",{src:ne.a}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded1})),r.a.createElement("small",{class:"form-text text-muted"},l("c_material_list.request.attachment_text")))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("c_material_list.request.product_images")),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xl-10"},r.a.createElement("div",{class:"row gutters-14"},r.a.createElement("div",{class:"col-lg-3 col-sm-4 col-6"},r.a.createElement("div",{class:"file-select",style:!0===this.state.slider_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange11,multiple:!0,name:"slider_image[]",type:"file",id:"file1"}),r.a.createElement("label",{for:"file1"},this.fileArray.length<=0?r.a.createElement("img",{src:ne.a,alt:"..."}):this.fileArray.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"100px"},src:a.fileArray.length<=0?ne.a:e,alt:"..."}))})),r.a.createElement("span",{class:"status"},"Upload"),r.a.createElement(re.a,{now:this.state.loaded2})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg"),""==this.state.slider_image?"":r.a.createElement("button",{style:{marginTop:"10px"},onClick:this.removeImg,class:"btn btn-danger"},"Remove"),r.a.createElement("small",{class:"form-text text-muted",style:{fontSize:"13px",marginTop:"10px"}},l("c_material_list.request.product_images_text"))))))))),r.a.createElement("div",{class:"col-xl-3 col-lg-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{class:"clear"}),t||r.a.createElement("button",{onClick:this.handleSubmit,class:"btn btn-success"},"Submit")))))),r.a.createElement("div",{class:"tab-pane fade",id:"type-offer",role:"tabpanel","aria-labelledby":"type-offer"},r.a.createElement("form",null,r.a.createElement("div",{class:"row gutters-40"},r.a.createElement("div",{class:"col-md-5 col-lg-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"title"},l("c_material_list.request.input_title")),r.a.createElement("input",{id:"title",style:!0===this.state.title_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange1,name:"title",type:"text",class:"form-control",placeholder:""})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"category"},l("c_material_list.request.category")),r.a.createElement("select",{style:!0===this.state.categoryId_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange2,name:"categoryId",id:"categoryId",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.productcat.map((function(e,t){var a=e.category_id,n=e.category_name;return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-5"},r.a.createElement("div",{class:"form-group",style:{width:"100px"}},r.a.createElement("label",{for:"unitCost"},l("c_material_list.offer.cost_unit")),r.a.createElement("div",{class:"input-group",style:!0===this.state.cost_per_unit_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange15,name:"cost_per_unit",id:"unitCost",type:"text",class:"form-control",placeholder:"1500"}),r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},"\u20ac"))))),r.a.createElement("div",{class:"col-xl col-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"unit1"},l("c_material_list.request.unit")),r.a.createElement("select",{style:!0===this.state.unit_err?{border:"1px solid #eb516d"}:{},name:"unit",onClick:this.handleChange4,id:"unit1",class:"form-control"},r.a.createElement("option",null,"select"),r.a.createElement("option",null,"Kg"),r.a.createElement("option",null,"M2"),r.a.createElement("option",null,"Liter"),r.a.createElement("option",null,"Other")))),r.a.createElement("div",{class:"col-xl col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"quantity"},l("c_material_list.offer.quantity")),r.a.createElement("input",{style:!0===this.state.quantity_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange3,name:"quantity",id:"quantity",type:"text",class:"form-control",placeholder:"1500"})))),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-xl-5 col-7"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"dtype"},l("c_material_list.offer.delivery_type")),r.a.createElement("select",{style:!0===this.state.delivery_type_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange13,name:"delivery_type[]",id:"dtype",class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Road"),r.a.createElement("option",null,"Flight"),r.a.createElement("option",null,"Ship")))),r.a.createElement("div",{class:"col-xl col-5"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"cost"},l("c_material_list.offer.cost")),r.a.createElement("input",{style:!0===this.state.delivery_cost_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange16,name:"delivery_cost[]",id:"cost",type:"text",class:"form-control",placeholder:"1200"}))),r.a.createElement("div",{class:"col-xl-3 col-lg-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{class:"clear"}),r.a.createElement("button",{class:"btn btn-success"},"Add"))),r.a.createElement("div",{class:"col-12"},r.a.createElement("ul",{class:"list-striped"},r.a.createElement("li",null,"Road- 1200"),r.a.createElement("li",null,"Flight 1500"),r.a.createElement("li",null,"Ship 1500")))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"expires1"},l("c_material_list.request.post_expires_in")),r.a.createElement("div",{style:!0===this.state.post_expiry_date_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange7(e)},name:"post_expiry_date",dateFormat:this.state.datepicker_date_format,timeFormat:this.state.datepicker_time_format}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"work1",onChange:this.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"work1"},"Work")))),r.a.createElement("div",{class:"col-md-7 col-lg-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"Desc"},l("c_material_list.request.description")),r.a.createElement("textarea",{style:!0===this.state.description_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange8,name:"description",id:"Desc",class:"form-control"})),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-xl-5 col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"state"},l("feeds.search.state")),r.a.createElement("select",{onChange:this.ChangeCity,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"state",id:"state",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.states.map((function(e,t){var a=e.state_id,n=e.state_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"city1"},l("c_material_list.request.city")),r.a.createElement("select",{style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange5,name:"city",id:"city1",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.cities.map((function(e,t){var a=e.city_id,n=e.city_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)}))))),r.a.createElement("div",{class:"col-xl-5 col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"pincode1"},l("c_material_list.request.pincode")),r.a.createElement("input",{style:!0===this.state.pincode_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange6,name:"pincode",id:"pincode1",type:"text",class:"form-control",placeholder:"140603"}))),r.a.createElement("div",{class:"col-xl-5 col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"warranty"},l("c_material_list.offer.warranty")),r.a.createElement("input",{style:!0===this.state.warranty_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange14,name:"warranty",id:"warranty",type:"text",class:"form-control"})))),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"main"},l("c_material_list.request.main")),r.a.createElement("div",{class:"file-select",style:!0===this.state.featured_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange9,name:"featured_image",type:"file",id:"main"}),r.a.createElement("label",{for:"main"},r.a.createElement("img",{src:this.state.attachment_preview?this.state.attachment_preview:ne.a}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg")))),r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"attachment"},l("c_material_list.request.attachment")),r.a.createElement("div",{class:"file-select",style:!0===this.state.attachment_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange10,name:"attachment",type:"file",id:"attachment"}),r.a.createElement("label",{for:"attachment"},r.a.createElement("img",{src:ne.a}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded1})),r.a.createElement("small",{class:"form-text text-muted"},l("c_material_list.request.attachment_text")))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("c_material_list.request.product_images")),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xl-10"},r.a.createElement("div",{class:"row gutters-14"},r.a.createElement("div",{class:"col-lg-3 col-sm-4 col-6"},r.a.createElement("div",{class:"file-select",style:!0===this.state.slider_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange11,multiple:!0,name:"slider_image[]",type:"file",id:"file1"}),r.a.createElement("label",{for:"file1"},this.fileArray.length<=0?r.a.createElement("img",{src:ne.a,alt:"..."}):this.fileArray.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"100px"},src:a.fileArray.length<=0?ne.a:e,alt:"..."}))})),r.a.createElement("span",{class:"status"},"Upload"),r.a.createElement(re.a,{now:this.state.loaded2})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg"),""==this.state.slider_image?"":r.a.createElement("button",{style:{marginTop:"10px"},onClick:this.removeImg,class:"btn btn-danger"},"Remove"),r.a.createElement("small",{class:"form-text text-muted",style:{fontSize:"13px",marginTop:"10px"}},l("c_material_list.request.product_images_text"))))))))),r.a.createElement("div",{class:"col-xl-3 col-lg-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{class:"clear"}),t||r.a.createElement("button",{onClick:this.handleSubmit1,class:"btn btn-success"},"Submit")," "))))))))))))}}]),a}(n.Component),oe=Object(b.a)()(ce),ie=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fileObj=[],n.fileArray=[],n.files=[],n.componentDidMount=function(){n.loadCategory(),n.loadState(),n.loadConfig()},n.loadState=Object(I.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,localStorage.getItem("i18nextLng");case 5:a=e.sent,_.a.get("".concat(E,"/api/state/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({states:e.data.data})})).catch((function(e){console.log(e.response)}));case 7:case"end":return e.stop()}}),e)}))),n.loadConfig=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,_.a.get("".concat(E,"/api/config"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({configs:e.data.data}),n.state.configs.map((function(e){"datepicker_date_format"==e.configuration_name&&n.setState({datepicker_date_format:e.configuration_val}),"datepicker_time_format"==e.configuration_name&&n.setState({datepicker_time_format:e.configuration_val})}))})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),n.loadCategory=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/category"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e.data.data),n.setState({productcat:e.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.loadCities=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/city"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e.data.data),n.setState({cities:e.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.removeImg=function(e){e.preventDefault(),n.fileArray=[],n.setState({slider_image:[],loaded2:0})},n.handleChange1=function(e){n.setState({title:e.target.value})},n.handleChange2=function(e){n.setState({categoryId:e.target.value})},n.handleChange3=function(e){n.setState({budget:e.target.value})},n.handleChange4=function(e){n.setState({rate:e.target.value})},n.handleChange5=function(e){n.setState({available_from:G()(e._d).format("YYYY-MM-DD")})},n.handleChange6=function(e){n.setState({available_to:G()(e._d).format("YYYY-MM-DD")})},n.handleChange7=function(e){n.setState({city:e.target.value})},n.ChangeCity=function(e){n.setState({cities:[]});var t=localStorage.getItem("token"),a=localStorage.getItem("i18nextLng");_.a.get("".concat(E,"/api/cityId/").concat(e.target.value,"/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({cities:e.data.data})})).catch((function(e){console.log(e.response)}))},n.handleChange8=function(e){n.setState({pincode:e.target.value})},n.handleChange9=function(e){n.setState({post_expiry_date:e._d})},n.handleChange10=function(e){n.setState({description:e.target.value})},n.handleChange11=function(e){n.setState({featured_image:null}),"jpeg"==e.target.files[0].name.split(".").pop()||"png"==e.target.files[0].name.split(".").pop()||"jpg"==e.target.files[0].name.split(".").pop()||"gif"==e.target.files[0].name.split(".").pop()||"svg"==e.target.files[0].name.split(".").pop()?(n.setState({featured_image:e.target.files[0],loaded:50,featured_image_err:!1,attachment_preview:URL.createObjectURL(e.target.files[0])}),n.state.loaded<=100&&setTimeout(function(){this.setState({loaded:100})}.bind(Object(te.a)(n)),2e3)):(n.setState({featured_image_err:!0,featured_image:null}),alert("File type not supported"))},n.handleChange12=function(e){return e.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=e.target.files[0].name.split(".").pop()&&"docx"!=e.target.files[0].name.split(".").pop()&&"doc"!=e.target.files[0].name.split(".").pop()?(n.setState({attachment_err:!0,attachment:null}),alert("File type not supported")):(n.setState({attachment:e.target.files[0],loaded1:50,attachment_err:!1}),void(n.state.loaded1<=100&&setTimeout(function(){this.setState({loaded1:100})}.bind(Object(te.a)(n)),2e3)))},n.handleChange13=function(e){n.files=[],Array.from(e.target.files).forEach((function(e){"jpeg"!=e.name.split(".").pop()&&"png"!=e.name.split(".").pop()&&"jpg"!=e.name.split(".").pop()&&"gif"!=e.name.split(".").pop()&&"svg"!=e.name.split(".").pop()||n.files.push(e)})),n.fileObj=[],n.fileArray=[],n.fileObj.push(n.files);for(var t=0;t<n.fileObj[0].length;t++)n.fileArray.push(URL.createObjectURL(n.fileObj[0][t]));n.setState({slider_image:n.files,loaded2:50,slider_image_err:!1,slider_image_preview:n.fileArray}),n.state.loaded2<=100&&setTimeout(function(){this.setState({loaded2:100})}.bind(Object(te.a)(n)),2e3)},n.handleCheck=function(e){n.setState({checked:!n.state.checked},(function(){n.state.checked&&n.setState({mat_checked:1})}))},n.handleSubmit=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r,l,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({title_err:!1,categoryId_err:!1,pincode_err:!1,post_expiry_date_err:!1,description_err:!1,budget_err:!1,rate_err:!1,city_err:!1,featured_image_err:!1,attachment_err:!1,slider_image_err:!1,available_from_err:!1,available_to_err:!1,delivery_cost_err:!1,warranty_err:!1}),n.state.title.length<=0&&n.setState({title_err:!0}),"--Select--"!=n.state.categoryId&&""!=n.state.categoryId||n.setState({categoryId_err:!0}),n.state.pincode.length<=0&&n.setState({pincode_err:!0}),""!=n.state.post_expiry_date&&void 0!=n.state.post_expiry_date||n.setState({post_expiry_date_err:!0}),n.state.description.length<=0&&n.setState({description_err:!0}),n.state.rate.length<=0&&n.setState({rate_err:!0}),n.state.available_from.length<=0&&n.setState({available_from_err:!0}),n.state.available_to.length<=0&&n.setState({available_to_err:!0}),"--Select--"!=n.state.budget&&""!=n.state.budget||n.setState({budget_err:!0}),"--Select--"!=n.state.city&&""!=n.state.city||n.setState({city_err:!0}),null==n.state.featured_image&&n.setState({featured_image_err:!0}),null==n.state.attachment&&n.setState({attachment_err:!0}),n.state.slider_image.length<=0&&n.setState({slider_image_err:!0}),e.next=17,localStorage.getItem("token");case 17:for(a=e.sent,n.setState({loading:!0}),(r=new FormData).set("title",n.state.title),r.set("categoryId",n.state.categoryId),r.set("budget",n.state.budget),r.set("rate",n.state.rate),r.set("available_from",n.state.available_from),r.set("available_to",n.state.available_to),r.set("city",n.state.city),r.set("pincode",n.state.pincode),r.set("extra",n.state.mat_checked),r.set("post_expiry_date",n.state.post_expiry_date),r.set("description",n.state.description),r.append("featured_image",n.state.featured_image),r.append("attachment",n.state.attachment),l=0,s=Object.keys(n.state.slider_image);l<s.length;l++)c=s[l],r.append("slider_image[]",n.state.slider_image[c]);_.a.post("".concat(E,"/api/work-request/create"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),n.setState({show_msg:!0,loading:!1}),n.myRef.current.scrollTo(0,0)})).catch((function(e){Object.entries(e.response.data.error).map((function(t){var a=Object(ee.a)(t,2);a[0],a[1];n.setState({errors:e.response.data.error})})),n.setState({show_errors:!0,loading:!1}),n.myRef.current.scrollTo(0,0)}));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit1=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r,l,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({title_err:!1,categoryId_err:!1,pincode_err:!1,post_expiry_date_err:!1,description_err:!1,budget_err:!1,rate_err:!1,city_err:!1,featured_image_err:!1,attachment_err:!1,slider_image_err:!1,available_from_err:!1,available_to_err:!1,delivery_cost_err:!1,warranty_err:!1}),n.state.title.length<=0&&n.setState({title_err:!0}),"--Select--"!=n.state.categoryId&&""!=n.state.categoryId||n.setState({categoryId_err:!0}),n.state.pincode.length<=0&&n.setState({pincode_err:!0}),""!=n.state.post_expiry_date&&void 0!=n.state.post_expiry_date||n.setState({post_expiry_date_err:!0}),n.state.description.length<=0&&n.setState({description_err:!0}),n.state.rate.length<=0&&n.setState({rate_err:!0}),n.state.available_from.length<=0&&n.setState({available_from_err:!0}),n.state.available_to.length<=0&&n.setState({available_to_err:!0}),"--Select--"!=n.state.budget&&""!=n.state.budget||n.setState({budget_err:!0}),"--Select--"!=n.state.city&&""!=n.state.city||n.setState({city_err:!0}),null==n.state.featured_image&&n.setState({featured_image_err:!0}),null==n.state.attachment&&n.setState({attachment_err:!0}),n.state.slider_image.length<=0&&n.setState({slider_image_err:!0}),e.next=17,localStorage.getItem("token");case 17:for(a=e.sent,n.setState({loading:!0}),(r=new FormData).set("title",n.state.title),r.set("categoryId",n.state.categoryId),r.set("budget",n.state.budget),r.set("rate",n.state.rate),r.set("available_from",n.state.available_from),r.set("available_to",n.state.available_to),r.set("city",n.state.city),r.set("pincode",n.state.pincode),r.set("extra",n.state.mat_checked),r.set("post_expiry_date",n.state.post_expiry_date),r.set("description",n.state.description),r.append("featured_image",n.state.featured_image),r.append("attachment",n.state.attachment),l=0,s=Object.keys(n.state.slider_image);l<s.length;l++)c=s[l],r.append("slider_image[]",n.state.slider_image[c]);_.a.post("".concat(E,"/api/work-offers/create"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),n.setState({show_msg:!0,loading:!1}),n.myRef.current.scrollTo(0,0)})).catch((function(e){console.log(e.response.data),Object.entries(e.response.data.error).map((function(t){var a=Object(ee.a)(t,2);a[0],a[1];n.setState({errors:e.response.data.error})})),n.setState({show_errors:!0,loading:!1}),n.myRef.current.scrollTo(0,0)}));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=n.handleSubmit.bind(Object(te.a)(n)),n.state={title:"",title_err:!1,categoryId:"",categoryId_err:!1,productcat:[],cities:[],states:[],budget:"",budget_err:!1,rate:"",rate_err:!1,available_from:"",available_to:"",available_from_err:!1,available_to_err:!1,city:"",city_err:!1,pincode:"",pincode_err:!1,post_expiry_date:"",post_expiry_date_err:!1,description:"",description_err:!1,featured_image:null,attachment:null,slider_image:[],featured_image_err:!1,attachment_err:!1,slider_image_err:!1,checked:!1,mat_checked:0,attachment_preview:null,slider_image_preview:[null],errors:[],show_errors:!1,show_msg:!1,loading:!1,loaded:0,loaded1:0,loaded2:0,configs:[],datepicker_date_format:"",datepicker_time_format:""},n.myRef=r.a.createRef(),n}return Object(m.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.t;n.i18n;return!0===this.state.show_errors&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px",zIndex:1}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),!0===this.state.show_msg&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},l("success.work_ins"))),!0===this.state.loading&&(t=r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},l("header.marketplace")),r.a.createElement("li",{class:"breadcrumb-item active","aria-current":"page"},l("c_work_list.title")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},l("c_work_list.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("c_material_list.request.type_list")),r.a.createElement("small",{class:"form-text text-muted",style:{fontSize:"15px"}},l("c_material_list.request.sub_title")),r.a.createElement("ul",{class:"nav tablist",id:"listing-type",role:"tablist"},r.a.createElement("li",{class:"nav-item",role:"presentation"},r.a.createElement("a",{class:"nav-link active",id:"type-request-tab","data-toggle":"pill",href:"#type-request",role:"tab","aria-controls":"type-request","aria-selected":"true"},l("feeds.search.request"))),r.a.createElement("li",{class:"nav-item",role:"presentation"},r.a.createElement("a",{class:"nav-link",id:"type-offer-tab","data-toggle":"pill",href:"#type-offer",role:"tab","aria-controls":"type-offer","aria-selected":"false"},l("feeds.search.offer"))))))),r.a.createElement("div",{class:"tab-content",id:"type-tabContent",style:{maxWidth:"960px"}},r.a.createElement("div",{class:"tab-pane fade show active",id:"type-request",role:"tabpanel","aria-labelledby":"type-request"},r.a.createElement("form",null,r.a.createElement("div",{class:"row gutters-40"},r.a.createElement("div",{class:"col-md-5 col-lg-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"title"},l("c_material_list.request.input_title")),r.a.createElement("input",{id:"title",style:!0===this.state.title_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange1,name:"title",type:"text",class:"form-control",placeholder:""})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"categoryId"},l("c_material_list.request.category")),r.a.createElement("select",{style:!0===this.state.categoryId_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange2,name:"categoryId",id:"categoryId",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.productcat.map((function(e,t){var a=e.category_id,n=e.category_name;return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"budget"},l("c_work_list.budget")),r.a.createElement("select",{style:!0===this.state.budget_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange3,name:"budget",id:"budget",class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",{value:"Fixed"},"Fixed"),r.a.createElement("option",{value:"Hourly"},"Hourly"),r.a.createElement("option",{value:"per_m2"},"cost/m2")))),r.a.createElement("div",{class:"col-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"rate"},l("c_work_list.rate")),r.a.createElement("input",{id:"rate",style:!0===this.state.rate_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange4,name:"rate",type:"text",class:"form-control",placeholder:"100"})))),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"available_from"},l("c_work_list.work_start")),r.a.createElement("div",{style:!0===this.state.available_from_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange5(e)},name:"available_from",dateFormat:"DD-MM-YYYY",timeFormat:!1})))),r.a.createElement("div",{class:"col-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"available_to"},l("c_work_list.work_end")),r.a.createElement("div",{style:!0===this.state.available_to_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange6(e)},name:"available_from",dateFormat:"DD-MM-YYYY",timeFormat:!1}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"state"},l("feeds.search.state")),r.a.createElement("select",{onChange:this.ChangeCity,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"state",id:"state",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.states.map((function(e,t){var a=e.state_id,n=e.state_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"city"},l("c_material_list.request.city")),r.a.createElement("select",{onClick:this.handleChange7,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"city",id:"city",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.cities.map((function(e,t){var a=e.city_id,n=e.city_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"pincode"},l("c_material_list.request.pincode")),r.a.createElement("input",{style:!0===this.state.pincode_err?{border:"1px solid #eb516d"}:{},id:"pincode",onChange:this.handleChange8,name:"pincode",type:"text",class:"form-control",placeholder:"140603"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"post_expiry_date"},l("c_material_list.request.post_expires_in")),r.a.createElement("div",{style:!0===this.state.post_expiry_date_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange9(e)},name:"post_expiry_date",dateFormat:this.state.datepicker_date_format,timeFormat:this.state.datepicker_time_format}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"material1",onChange:this.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"material1"},l("feeds.search.material"))))),r.a.createElement("div",{class:"col-md-7 col-lg-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"Desc"},l("c_material_list.request.description")),r.a.createElement("textarea",{onChange:this.handleChange10,style:!0===this.state.description_err?{border:"1px solid #eb516d"}:{},name:"description",id:"Desc",class:"form-control"})),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"main"},l("c_material_list.request.main")),r.a.createElement("div",{class:"file-select",style:!0===this.state.featured_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange11,name:"featured_image",type:"file",id:"main"}),r.a.createElement("label",{for:"main"},r.a.createElement("img",{src:this.state.attachment_preview?this.state.attachment_preview:ne.a,alt:""}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg")))),r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group",style:!0===this.state.attachment_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("label",{for:"attachment"},l("c_material_list.request.attachment")),r.a.createElement("div",{class:"file-select"},r.a.createElement("input",{onChange:this.handleChange12,name:"attachment",type:"file",id:"attachment"}),r.a.createElement("label",{for:"attachment"},r.a.createElement("img",{src:ne.a,alt:""}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded1})),r.a.createElement("small",{class:"form-text text-muted"},l("c_material_list.request.attachment_text")))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("c_material_list.request.product_images")),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xl-10"},r.a.createElement("div",{class:"row gutters-14"},r.a.createElement("div",{class:"col-lg-3 col-sm-4 col-6"},r.a.createElement("div",{class:"file-select",style:!0===this.state.slider_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange13,multiple:!0,name:"slider_image[]",type:"file",id:"file1"}),r.a.createElement("label",{for:"file1"},this.fileArray.length<=0?r.a.createElement("img",{src:ne.a,alt:"..."}):this.fileArray.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"100px"},src:a.fileArray.length<=0?ne.a:e,alt:"..."}))})),r.a.createElement("span",{class:"status"},"Upload"),r.a.createElement(re.a,{now:this.state.loaded2})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg"),""==this.state.slider_image?"":r.a.createElement("button",{style:{marginTop:"10px"},onClick:this.removeImg,class:"btn btn-danger"},"Remove"),r.a.createElement("small",{class:"form-text text-muted",style:{fontSize:"13px",marginTop:"10px"}},l("c_material_list.request.product_images_text"))))))))),r.a.createElement("div",{class:"col-xl-3 col-lg-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{class:"clear"}),t||r.a.createElement("button",{onClick:this.handleSubmit,class:"btn btn-success"},"Submit")))))),r.a.createElement("div",{class:"tab-pane fade",id:"type-offer",role:"tabpanel","aria-labelledby":"type-offer"},r.a.createElement("form",null,r.a.createElement("div",{class:"row gutters-40"},r.a.createElement("div",{class:"col-md-5 col-lg-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"title1"},l("c_material_list.request.input_title")),r.a.createElement("input",{id:"title1",style:!0===this.state.title_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange1,name:"title",type:"text",class:"form-control",placeholder:""})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"category1"},l("c_material_list.request.category")),r.a.createElement("select",{style:!0===this.state.categoryId_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange2,name:"categoryId",id:"category1",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.productcat.map((function(e,t){var a=e.category_id,n=e.category_name;return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"budget1"},l("c_work_list.budget")),r.a.createElement("select",{style:!0===this.state.budget_err?{border:"1px solid #eb516d"}:{},onClick:this.handleChange3,name:"budget",id:"budget1",class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",{value:"Fixed"},"Fixed"),r.a.createElement("option",{value:"Hourly"},"Hourly"),r.a.createElement("option",{value:"per_m2"},"cost/m2"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"availablity"},l("c_work_list.availablity")),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-6"},r.a.createElement("div",{style:!0===this.state.available_from_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange5(e)},name:"available_from",dateFormat:"DD-MM-YYYY",timeFormat:!1}))),r.a.createElement("div",{class:"col-6"},r.a.createElement("div",{style:!0===this.state.available_to_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange6(e)},name:"available_to",dateFormat:"DD-MM-YYYY",timeFormat:!1}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"state"},l("feeds.search.state")),r.a.createElement("select",{onChange:this.ChangeCity,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"state",id:"state",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.states.map((function(e,t){var a=e.state_id,n=e.state_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"city"},l("c_material_list.request.city")),r.a.createElement("select",{onClick:this.handleChange7,style:!0===this.state.city_err?{border:"1px solid #eb516d"}:{},name:"city",id:"city",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.cities.map((function(e,t){var a=e.city_id,n=e.city_identifier;if(void 0!==a)return r.a.createElement("option",{value:a},n)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"pincode1"},l("c_material_list.request.pincode")),r.a.createElement("input",{style:!0===this.state.pincode_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange8,name:"pincode",id:"pincode1",type:"text",class:"form-control",placeholder:"140603"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"post_expiry_date"},l("c_material_list.request.post_expires_in")),r.a.createElement("div",{style:!0===this.state.post_expiry_date_err?{border:"1px solid #eb516d"}:{}},r.a.createElement(se.a,{onChange:function(e){return a.handleChange9(e)},name:"post_expiry_date",dateFormat:this.state.datepicker_date_format,timeFormat:this.state.datepicker_time_format}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"material2",onChange:this.handleCheck}),r.a.createElement("label",{className:"form-check-label",htmlFor:"material2"},l("feeds.search.material"))))),r.a.createElement("div",{class:"col-md-7 col-lg-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"Desc1"},l("c_material_list.request.description")),r.a.createElement("textarea",{style:!0===this.state.description_err?{border:"1px solid #eb516d"}:{},onChange:this.handleChange10,name:"description",id:"Desc1",class:"form-control"})),r.a.createElement("div",{class:"row gutters-24"},r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"main1"},l("c_material_list.request.main")),r.a.createElement("div",{class:"file-select",style:!0===this.state.featured_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange11,name:"featured_image",type:"file",id:"main1"}),r.a.createElement("label",{for:"main1"},r.a.createElement("img",{src:this.state.attachment_preview?this.state.attachment_preview:ne.a,alt:""}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg")))),r.a.createElement("div",{class:"col-xl-5 col-sm-6"},r.a.createElement("div",{class:"form-group",style:!0===this.state.attachment_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("label",{for:"attachment1"},l("c_material_list.request.attachment")),r.a.createElement("div",{class:"file-select"},r.a.createElement("input",{onChange:this.handleChange12,type:"file",id:"attachment1"}),r.a.createElement("label",{name:"attachment",for:"attachment1"},r.a.createElement("img",{src:ne.a,alt:""}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded1})),r.a.createElement("small",{class:"form-text text-muted"},l("c_material_list.request.attachment_text")))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("c_material_list.request.product_images")),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xl-10"},r.a.createElement("div",{class:"row gutters-14"},r.a.createElement("div",{class:"col-lg-3 col-sm-4 col-6"},r.a.createElement("div",{class:"file-select",style:!0===this.state.slider_image_err?{border:"1px solid #eb516d"}:{}},r.a.createElement("input",{onChange:this.handleChange13,multiple:!0,name:"slider_image[]",type:"file",id:"file5"}),r.a.createElement("label",{for:"file1"},this.fileArray.length<=0?r.a.createElement("img",{src:ne.a,alt:"..."}):this.fileArray.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"100px"},src:a.fileArray.length<=0?ne.a:e,alt:"..."}))})),r.a.createElement("span",{class:"status"},"Upload"),r.a.createElement(re.a,{now:this.state.loaded2})),r.a.createElement("small",{class:"form-text text-muted"},"jpeg, png, jpg, gif, svg"),""==this.state.slider_image?"":r.a.createElement("button",{style:{marginTop:"10px"},onClick:this.removeImg,class:"btn btn-danger"},"Remove"),r.a.createElement("small",{class:"form-text text-muted",style:{fontSize:"13px",marginTop:"10px"}},l("c_material_list.request.product_images_text"))))))))),r.a.createElement("div",{class:"col-xl-3 col-lg-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{class:"clear"}),t||r.a.createElement("button",{onClick:this.handleSubmit1,class:"btn btn-success"},"Submit")))))))))))))}}]),a}(n.Component),me=Object(b.a)()(ie),de=a(33),ue=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.loadData(),n.loadCity(),n.loadSaved(),n.loadConfig()},n.loadConfig=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,a=t.left,r=t.right;n.setState({left:a,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.loadCity=Object(I.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,localStorage.getItem("i18nextLng");case 5:a=e.sent,_.a.get("".concat(E,"/api/state/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({cities:e.data.data})})).catch((function(e){console.log(e.response)}));case 7:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,localStorage.getItem("token");case 3:a=e.sent,(r=new FormData).set("tb_tender_id",n.props.match.params.id),r.set("tb_quote",n.state.tb_quote),r.set("tb_description",n.state.tb_description),r.set("tb_quantity",n.state.tb_quantity),r.set("tb_city_id",n.state.tb_city_id),r.set("tb_delivery_type",n.state.tb_delivery_type),r.set("tb_delivery_charges",n.state.tb_delivery_charges),r.set("tb_warrenty",n.state.tb_warrenty),r.set("tb_warrenty_type",n.state.tb_warrenty_type),r.append("attachment",n.state.attachment),_.a.post("".concat(E,"/api/bid/create"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),n.setState({show_msg:!0})})).catch((function(e){console.log(e.response.data),n.setState({show_errors:!0})}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange1=function(e){n.setState({tb_quote:e.target.value})},n.handleChange2=function(e){n.setState({tb_quantity:e.target.value})},n.handleChange3=function(e){n.setState({tb_city_id:e.target.value})},n.handleChange4=function(e){n.setState({tb_delivery_type:e.target.value})},n.handleChange5=function(e){n.setState({tb_delivery_charges:e.target.value})},n.handleChange6=function(e){n.setState({tb_warrenty:e.target.value})},n.handleChange7=function(e){n.setState({tb_warrenty_type:e.target.value})},n.handleChange8=function(e){n.setState({tb_description:e.target.value})},n.handleChange9=function(e){return e.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=e.target.files[0].name.split(".").pop()&&"docx"!=e.target.files[0].name.split(".").pop()&&"doc"!=e.target.files[0].name.split(".").pop()&&"jpeg"!=e.target.files[0].name.split(".").pop()&&"png"!=e.target.files[0].name.split(".").pop()&&"jpg"!=e.target.files[0].name.split(".").pop()&&"gif"!=e.target.files[0].name.split(".").pop()&&"svg"!=e.target.files[0].name.split(".").pop()?(n.setState({attachment:null}),alert("File type not supported")):(n.setState({attachment:e.target.files[0],loaded1:50}),void(n.state.loaded1<=100&&setTimeout(function(){this.setState({loaded1:100})}.bind(Object(te.a)(n)),2e3)))},n.save=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,(r=new FormData).set("uft_tender_id",t),_.a.post("".concat(E,"/api/saved/add"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n.setState({refresh:!1}),n.setState({refresh:!0})})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadSaved=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,_.a.get("".concat(E,"/api/saved-icon"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({saved:e.data.data})})).catch((function(e){console.log(e.response)}));case 5:case"end":return e.stop()}}),e)}))),n.loadData=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,_.a.get("".concat(E,"/api/material-offer-detail/").concat(n.props.match.params.id),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({details:e.data[0]}),n.setState({slider:n.state.details.tender_slider_images},(function(){var e=Object.values(n.state.slider);n.setState({imgs:e})}))})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),n.state={details:[],slider:[],cities:[],imgs:[],active:null,tb_quote:0,tb_description:null,tb_quantity:0,tb_city_id:1,tb_delivery_type:null,tb_delivery_charges:0,tb_warrenty:0,tb_warrenty_type:"Days",attachment:null,featured_image:null,img_preview:null,loaded1:0,loaded:0,errors:[],show_errors:!1,show_msg:!1,saved:[],refresh:!1,left:null,right:null},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.refresh!==this.state.refresh&&(this.loadData(),this.loadSaved())}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.t;n.i18n;!0===this.state.show_errors&&(t=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},l("success.all_fields_are_required"))),!0===this.state.show_msg&&(t=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},l("success.mat_bid")));var s=Object.values(this.state.saved);"Request"===this.state.details.tender_type&&(e=r.a.createElement("div",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"delivery-charges"},l("list_details.delivery_charges")),r.a.createElement("input",{onChange:this.handleChange5,id:"delivery-charges",class:"form-control",type:"text",placeholder:"800"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"warranty"},l("list_details.warranty")),r.a.createElement("div",{class:"d-flex input-group"},r.a.createElement("input",{onChange:this.handleChange6,id:"warranty",class:"form-control",type:"text",placeholder:"20"}),r.a.createElement("select",{onChange:this.handleChange7,class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Days"),r.a.createElement("option",null,"Month"))))));var c,o=this.state.details.tender_delivery_type_cost?this.state.details.tender_delivery_type_cost:{};return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},l("header.marketplace")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},this.state.details.tender_category_type," ",this.state.details.tender_type," details"))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,null),r.a.createElement("div",{class:"page-content"},t||null,r.a.createElement("div",{class:"container-fluid"},r.a.createElement("h3",{class:"head3"}," ",this.state.details.tender_category_type," ",this.state.details.tender_type," details"),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row details-view"},r.a.createElement("div",{class:"col-md"},r.a.createElement(de.a,{className:"slider"},r.a.createElement(de.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:E+"/images/marketplace/material/"+this.state.details.tender_featured_image,alt:"First slide"})),this.state.imgs.map((function(e){return r.a.createElement(de.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:E+"/images/marketplace/material/"+e,alt:"First slide"}))}))),r.a.createElement("div",{class:"details-content"},r.a.createElement("div",{class:"head"},r.a.createElement("h4",null,this.state.details.tender_title),r.a.createElement("p",null,this.state.details.tender_type)),r.a.createElement("p",null,this.state.details.tender_description),r.a.createElement("p",null,"Category",r.a.createElement("a",{href:"#",class:"badge"},this.state.details.category)),r.a.createElement("a",{href:E+"/images/marketplace/material/"+this.state.details.tender_attachment,target:"_blank",class:"attachment"},r.a.createElement("i",{class:"icon-paperclip"}),this.state.details.tender_attachment),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Request"===this.state.details.tender_type?l("list_details.volume_need"):l("list_details.budget")),r.a.createElement("td",null,this.state.details.tender_budget?this.state.details.tender_budget+"\u20ac/":this.state.details.tender_quantity," ","pcs")),"Request"!==this.state.details.tender_type?r.a.createElement("tr",null,r.a.createElement("th",null,"Qnt."),r.a.createElement("td",null,this.state.details.tender_quantity)):"",r.a.createElement("tr",null,r.a.createElement("th",null,l("list_details.location")),r.a.createElement("td",null,this.state.details.tender_pincode," ",this.state.details.tender_city)),"Request"!==this.state.details.tender_type?r.a.createElement("tr",null,r.a.createElement("th",null,l("list_details.warranty")),r.a.createElement("td",null,this.state.details.tender_warranty)):"","Request"!==this.state.details.tender_type?r.a.createElement("tr",null,r.a.createElement("th",null,l("list_details.delivery")),r.a.createElement("td",null,Object.keys(o).map((function(e,t){return e}))," ",": ",this.state.left," ",Object.values(o).map((function(e,t){return e}))," ",this.state.right)):"",2===this.state.details.extra?r.a.createElement("tr",null,r.a.createElement("th",null,l("list_details.work")),r.a.createElement("td",null,l("list_details.included"))):"",r.a.createElement("tr",null,r.a.createElement("th",null,l("list_details.expires_in")),r.a.createElement("td",null,this.state.details.tender_expiry_date))))),r.a.createElement("div",{class:"col-md"},r.a.createElement("div",{class:"details-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"row align-items-center"},r.a.createElement("div",{class:"col-5"},r.a.createElement("label",{class:"d-flex "},l("list_details.your_quote"))),r.a.createElement("div",{class:"col-7"},r.a.createElement("label",{class:"d-flex align-items-center"},this.state.left,this.state.right,"/",this.state.details.tender_unit," ",r.a.createElement("input",{onChange:this.handleChange1,class:"form-control",type:"text"}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"row align-items-center"},r.a.createElement("div",{class:"col-5"},r.a.createElement("label",{class:"d-flex"},l("list_details.quantity"))),r.a.createElement("div",{class:"col-7"},r.a.createElement("label",{class:"d-flex align-items-center"},this.state.details.tender_unit," ",r.a.createElement("input",{onChange:this.handleChange2,class:"form-control",type:"text"}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"shipping-from"},l("list_details.shipping_from")),r.a.createElement("select",{onChange:this.handleChange3,id:"shipping-from",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.cities.map((function(e,t){var a=e.state_identifier;if(void 0!==a)return r.a.createElement("option",{value:t},a)})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"delivery-type"},l("list_details.delivery_type")),r.a.createElement("select",{onChange:this.handleChange4,id:"delivery-type",class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Road"),r.a.createElement("option",null,"Flight"),r.a.createElement("option",null,"Ship"))),e||null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"message"},l("list_details.message"),":"),r.a.createElement("textarea",{onChange:this.handleChange8,id:"message",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"attachment"},l("c_material_list.request.attachment")),r.a.createElement("div",{class:"file-select"},r.a.createElement("input",{onChange:this.handleChange9,name:"attachment",type:"file",id:"attachment"}),r.a.createElement("label",{for:"attachment"},r.a.createElement("img",{src:File}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded1})),r.a.createElement("small",{class:"form-text text-muted"},"Max 2 mb pdf, doc, jpeg, png, jpg, gif, svg"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{type:"checkbox",class:"form-check-input",id:"terms"}),r.a.createElement("label",{class:"form-check-label",for:"terms"},l("list_details.i_agree_all")," ",r.a.createElement("a",{href:"#"},l("list_details.terms_of_service"))))),r.a.createElement("button",{class:"btn btn-secondary",type:"submit"},"Submit your bid"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),a.save(a.state.details.tender_id)},class:"btn btn-light",type:"submit"},r.a.createElement("i",{class:"icon-heart"==(c=this.state.details.tender_id,s.map((function(e){if(e.uft_tender_id===c)return"icon-heart"}))).filter((function(e){return e}))?"icon-heart":"icon-heart-o"}),"Save this job")))))))))))}}]),a}(n.Component),pe=Object(b.a)()(ue),he=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.loadData(),n.loadSaved(),n.loadConfig()},n.loadConfig=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,a=t.left,r=t.right;n.setState({left:a,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,localStorage.getItem("token");case 3:a=e.sent,(r=new FormData).set("tb_tender_id",n.props.match.params.id),r.set("tb_quote",n.state.tb_quote),r.set("tb_description",n.state.tb_description),r.set("tb_quantity",n.state.tb_quantity),r.set("tb_city_id",n.state.tb_city_id),r.set("tb_delivery_type",n.state.tb_delivery_type),r.set("tb_delivery_charges",n.state.tb_delivery_charges),r.set("tb_warrenty",n.state.tb_warrenty),r.set("tb_warrenty_type",n.state.tb_warrenty_type),r.append("attachment",n.state.attachment),_.a.post("".concat(E,"/api/bid/create"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),n.setState({show_msg:!0})})).catch((function(e){console.log(e.response.data),n.setState({show_errors:!0})}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange1=function(e){n.setState({tb_quote:e.target.value})},n.handleChange2=function(e){n.setState({tb_description:e.target.value})},n.handleChange3=function(e){return e.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=e.target.files[0].name.split(".").pop()&&"docx"!=e.target.files[0].name.split(".").pop()&&"doc"!=e.target.files[0].name.split(".").pop()&&"jpeg"!=e.target.files[0].name.split(".").pop()&&"png"!=e.target.files[0].name.split(".").pop()&&"jpg"!=e.target.files[0].name.split(".").pop()&&"gif"!=e.target.files[0].name.split(".").pop()&&"svg"!=e.target.files[0].name.split(".").pop()?(n.setState({attachment:null}),alert("File type not supported")):(n.setState({attachment:e.target.files[0],loaded1:50}),void(n.state.loaded1<=100&&setTimeout(function(){this.setState({loaded1:100})}.bind(Object(te.a)(n)),2e3)))},n.loadSaved=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,_.a.get("".concat(E,"/api/saved-icon"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({saved:e.data.data})})).catch((function(e){console.log(e.response)}));case 5:case"end":return e.stop()}}),e)}))),n.save=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:a=e.sent,(r=new FormData).set("uft_tender_id",t),_.a.post("".concat(E,"/api/saved/add"),r,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n.setState({refresh:!1}),n.setState({refresh:!0})})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadData=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/material-offer-detail/").concat(n.props.match.params.id),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e.data[0]),n.setState({details:e.data[0]}),n.setState({slider:n.state.details.tender_slider_images},(function(){var e=Object.values(n.state.slider);n.setState({imgs:e})}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.state={details:[],slider:[],imgs:[],active:null,tb_quote:null,tb_description:null,tb_quantity:0,tb_city_id:0,tb_delivery_type:"Road",tb_delivery_charges:0,tb_warrenty:0,tb_warrenty_type:"Days",attachment:null,featured_image:null,img_preview:null,loaded1:0,loaded:0,errors:[],show_errors:!1,show_msg:!1,saved:[],refresh:!1,left:null,right:null},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.refresh!==this.state.refresh&&(this.loadData(),this.loadSaved())}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.t;a.i18n;!0===this.state.show_errors&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},n("success.all_fields_are_required"))),!0===this.state.show_msg&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},n("success.work_bid")));var l,s=Object.values(this.state.saved);return"Request"===this.state.details.tender_type&&r.a.createElement("div",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"delivery-charges"},n("list_details.delivery_charges")),r.a.createElement("input",{id:"delivery-charges",class:"form-control",type:"text",placeholder:"800"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"warranty"},n("list_details.warranty")),r.a.createElement("div",{class:"d-flex input-group"},r.a.createElement("input",{id:"warranty",class:"form-control",type:"text",placeholder:"20"}),r.a.createElement("select",{class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Days"),r.a.createElement("option",null,"Months"))))),r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("header.marketplace")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},this.state.details.tender_category_type," ",this.state.details.tender_type," details"))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,null),r.a.createElement("div",{class:"page-content"},e||null,r.a.createElement("div",{class:"container-fluid"},r.a.createElement("h3",{class:"head3"},this.state.details.tender_category_type," ",this.state.details.tender_type," details"),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row details-view"},r.a.createElement("div",{class:"col-md"},r.a.createElement(de.a,{className:"slider"},r.a.createElement(de.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:E+"/images/marketplace/material/"+this.state.details.tender_featured_image,alt:"First slide"})),this.state.imgs.map((function(e){return r.a.createElement(de.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:E+"/images/marketplace/material/"+e,alt:"First slide"}))}))),r.a.createElement("div",{class:"details-content"},r.a.createElement("div",{class:"head"},r.a.createElement("h4",null,this.state.details.tender_title),r.a.createElement("p",null,this.state.details.tender_type)),r.a.createElement("p",null,this.state.details.tender_description),r.a.createElement("p",null,"Category",r.a.createElement("a",{href:"#",class:"badge"},this.state.details.category)),r.a.createElement("a",{href:E+"/images/marketplace/material/"+this.state.details.tender_attachment,target:"_blank",class:"attachment"},r.a.createElement("i",{class:"icon-paperclip"}),this.state.details.tender_attachment),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,n("list_details.budget")),r.a.createElement("td",null,this.state.details.tender_budget)),"Request"===this.state.details.tender_type?r.a.createElement("tr",null,r.a.createElement("th",null,n("list_details.rate")),r.a.createElement("td",null,this.state.left," ",this.state.details.tender_rate," ",this.state.right)):"",r.a.createElement("tr",null,r.a.createElement("th",null,n("list_details.location")),r.a.createElement("td",null,this.state.details.tender_pincode," ",this.state.details.tender_city)),"Request"===this.state.details.tender_type?r.a.createElement("tr",null,r.a.createElement("th",null,n("c_work_list.work_start")),r.a.createElement("td",null,this.state.details.tender_available_from)):"","Request"===this.state.details.tender_type?r.a.createElement("tr",null,r.a.createElement("th",null,n("c_work_list.work_end")),r.a.createElement("td",null,this.state.details.tender_available_to)):r.a.createElement("tr",null,r.a.createElement("th",null,n("c_work_list.availablity")),r.a.createElement("td",null,this.state.details.tender_available_from," -"," ",this.state.details.tender_available_to)),1===this.state.details.extra?r.a.createElement("tr",null,r.a.createElement("th",null,n("feeds.search.material")),r.a.createElement("td",null,n("list_details.included"))):"",r.a.createElement("tr",null,r.a.createElement("th",null,n("list_details.expires_in")),r.a.createElement("td",null,this.state.details.tender_expiry_date))))),r.a.createElement("div",{class:"col-md"},r.a.createElement("div",{class:"details-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"row align-items-center"},r.a.createElement("div",{class:"col-5"},r.a.createElement("label",{class:"d-flex "},n("list_details.your_quote"))),r.a.createElement("div",{class:"col-7"},r.a.createElement("label",{class:"d-flex align-items-center"},this.state.left,this.state.right,"/",this.state.details.tender_budget," ",r.a.createElement("input",{onChange:this.handleChange1,class:"form-control",type:"text"}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"message"},n("list_details.message"),":"),r.a.createElement("textarea",{onChange:this.handleChange2,id:"message",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"attachment"},n("c_material_list.request.attachment")),r.a.createElement("div",{class:"file-select"},r.a.createElement("input",{onChange:this.handleChange3,name:"attachment",type:"file",id:"attachment"}),r.a.createElement("label",{for:"attachment"},r.a.createElement("img",{src:File}),r.a.createElement("span",{class:"status"},"Upload status"),r.a.createElement(re.a,{now:this.state.loaded1})),r.a.createElement("small",{class:"form-text text-muted"},"Max 2 mb pdf, doc, jpeg, png, jpg, gif, svg"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{type:"checkbox",class:"form-check-input",id:"terms"}),r.a.createElement("label",{class:"form-check-label",for:"terms"},n("list_details.i_agree_all")," ",r.a.createElement("a",{href:"#"},n("list_details.terms_of_service"))))),r.a.createElement("button",{class:"btn btn-secondary",type:"submit"},"Submit your bid"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),t.save(t.state.details.tender_id)},class:"btn btn-light",type:"submit"},r.a.createElement("i",{class:"icon-heart"==(l=this.state.details.tender_id,s.map((function(e){if(e.uft_tender_id===l)return"icon-heart"}))).filter((function(e){return e}))?"icon-heart":"icon-heart-o"}),"Save this job")))))))))))}}]),a}(n.Component),ge=Object(b.a)()(he),fe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.loadData()},n.loadData=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/saved"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n.setState({jobs:e.data.data,loaded:!0})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.remove=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.delete("".concat(E,"/api/saved/remove/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n.setState({removed:!1}),n.setState({removed:!0})})).catch((function(e){return 404===e.response.status?alert("Saved job doesn't belong to the user"):alert("Some issue occured")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={jobs:[],removed:!1,loaded:!1},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.removed!==this.state.removed&&this.loadData()}},{key:"url",value:function(e,t){return"Material"===t?"material-offer-detail":"Work"===t?"work-detail":null}},{key:"render",value:function(){var e=this,t=this.props,a=t.t;t.i18n;return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("header.marketplace")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("feeds.saved_job"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"feeds",style:{maxWidth:"100%"}},!0===this.state.loaded&&this.state.jobs.length<=0?r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):!1===this.state.loaded&&this.state.jobs.length<=0?r.a.createElement("div",{className:"item"},r.a.createElement("h3",null,"No ",a("feeds.saved_job")," ")):this.state.jobs.map((function(t){return r.a.createElement("div",{className:"item",key:t[0].tender_id},r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{src:"".concat(E,"/images/marketplace/material/").concat(t[0].tender_featured_image),alt:"featured"})),r.a.createElement("div",{className:"content-box"},r.a.createElement("h3",null,r.a.createElement(c.b,{to:{pathname:"/".concat(e.url(t[0].tender_type,t[0].tender_category_type),"/").concat(t[0].tender_id)},style:{textDecoration:"none",color:"black"}},t[0].tender_title)),r.a.createElement("p",null,t[0].tender_description,"."),r.a.createElement("p",{className:"m-0"},r.a.createElement("span",{className:"badge badge-secondary"},t[0].tender_type),r.a.createElement("span",{className:"badge badge-secondary"},t[0].tender_category_type),r.a.createElement("span",{className:"badge badge-secondary"},2===t[0].extra?"Work included":1===t[0].extra?"Material included":null)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"cl-light"},"Budget"),r.a.createElement("span",null,t[0].tender_budget,"\u20ac/pcs")),r.a.createElement("li",null,r.a.createElement("span",{className:"cl-light"},"qnt."),r.a.createElement("span",null,t[0].tender_quantity?t[0].tender_quantity:t[0].tender_rate)),r.a.createElement("li",null,r.a.createElement("span",{className:"cl-light"},"Time left"),r.a.createElement("span",null,t[0].tender_expiry_date.substring(0,24)))),r.a.createElement("a",{id:t[0].tender_id,onClick:function(){return e.remove(t[0].tender_id)},className:"add-favorites"},r.a.createElement("i",{class:"icon-heart"}))))})))))))))}}]),a}(n.Component),_e=Object(b.a)()(fe),Ee=a(12),ve=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e,n;Object(i.a)(this,a);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(n=t.call.apply(t,[this].concat(s))).state=(e={logo:null,logo_preview:null,work:"",insurance:"",agreement_material_guarantee:"",agreement_work_guarantee:"",agreement_insurances:"",agreement_panelty:"",first_name:"",last_name:"",company_id:"",company_website:"",address:"",email:"",phone:"",zip:""},Object(Ee.a)(e,"company_id",""),Object(Ee.a)(e,"company_website",""),Object(Ee.a)(e,"password",""),Object(Ee.a)(e,"old_password",""),Object(Ee.a)(e,"info",[]),Object(Ee.a)(e,"success",Boolean),Object(Ee.a)(e,"errors",[]),Object(Ee.a)(e,"translated",!1),e),n.componentDidMount=function(){n.loadData(),n.myRef=r.a.createRef()},n.loadData=Object(I.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,_.a.get("".concat(E,"/api/account"),{headers:{Authorization:"Bearer ".concat(t)}});case 5:a=e.sent,r=a.data,n.setState({info:r});case 8:case"end":return e.stop()}}),e)}))),n.handleChange1=function(e){n.setState({logo:null}),"jpeg"==e.target.files[0].name.split(".").pop()||"png"==e.target.files[0].name.split(".").pop()||"jpg"==e.target.files[0].name.split(".").pop()||"gif"==e.target.files[0].name.split(".").pop()||"svg"==e.target.files[0].name.split(".").pop()?n.setState({logo:e.target.files[0],logo_preview:URL.createObjectURL(e.target.files[0])}):(n.setState({logo:null}),alert("File type not supported"))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(Ee.a)({},a,r))},n.handleSubmit=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).set("company_logo",n.state.logo),a.set("first_name",n.state.first_name),a.set("last_name",n.state.last_name),a.set("address",n.state.address),a.set("email",n.state.email),a.set("phone",n.state.phone),a.set("zip",n.state.zip),a.set("company_id",n.state.company_id),a.set("company_website",n.state.company_website),a.set("password",n.state.password),a.set("old_password",n.state.old_password),e.next=15,localStorage.getItem("token");case 15:r=e.sent,_.a.post("".concat(E,"/api/storeDetails"),a,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){n.setState({success:!0}),n.myRef.current.scrollTo(0,0)})).catch((function(e){console.log(e.response),n.setState({errors:e.response.data.error}),n.setState({success:!1}),n.myRef.current.scrollTo(0,0)}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePropDetails=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).set("work",n.state.work),a.set("insurance",n.state.insurance),e.next=6,localStorage.getItem("token");case 6:r=e.sent,_.a.post("".concat(E,"/api/storePropDetails"),a,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){n.setState({success:!0}),n.myRef.current.scrollTo(0,0)})).catch((function(e){console.log(e.response),n.setState({errors:"fields required",success:!1}),n.myRef.current.scrollTo(0,0)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAgreeDetails=function(){var e=Object(I.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).set("agreement_work_guarantee",n.state.agreement_work_guarantee),a.set("agreement_material_guarantee",n.state.agreement_material_guarantee),a.set("agreement_insurances",n.state.agreement_insurances),a.set("agreement_panelty",n.state.agreement_panelty),e.next=8,localStorage.getItem("token");case 8:r=e.sent,_.a.post("".concat(E,"/api/storeAgreeDetails"),a,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){n.setState({success:!0}),n.myRef.current.scrollTo(0,0)})).catch((function(e){console.log(e.response),n.setState({errors:"fields required",success:!1}),n.myRef.current.scrollTo(0,0)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeLanguage=function(e){z.changeLanguage(e.target.value),localStorage.setItem("_lng",e.target.value),n.setState({translated:!0}),n.myRef.current.scrollTo(0,0)},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t;return!1===this.state.success&&(t=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px",zIndex:1}},"Passwords don't match"===this.state.errors?"Passwords don't match":this.state.errors)),!0===this.state.success&&(t=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},"Successfully Updated!")),!0===this.state.translated&&(t=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},"Translation successful!")),r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Marketplace"),r.a.createElement(B.a,null,(function(e){return r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},e("account.title"))})))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},t||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h3",{style:{paddingBottom:"1%"},className:"head3"},e("account.title"))})),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"form-group",style:{width:"30%"}},r.a.createElement("div",{className:"file-select file-sel inline"},r.a.createElement("input",{onChange:this.handleChange1,type:"file",id:"attachment1"}),r.a.createElement("div",{className:"selected-img",style:{display:"none"}},r.a.createElement("img",{src:this.state.logo_preview,alt:""}),r.a.createElement("span",null,"remove")),r.a.createElement("label",{for:"attachment1"},r.a.createElement("img",{src:null===this.state.info.company_logo?ne.a:E+"/images/marketplace/company_logo/"+this.state.info.company_logo,alt:""}),r.a.createElement("span",{className:"status"},"Upload your company logo")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"first_name"},e("account.first_name"))})),r.a.createElement("input",{onChange:this.handleChange,id:"first_name",name:"first_name",className:"form-control",type:"text",placeholder:this.state.info.first_name}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"first_name"},e("account.last_name"))})),r.a.createElement("input",{name:"last_name",placeholder:this.state.info.last_name,onChange:this.handleChange,id:"last_name",className:"form-control",type:"text"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"first_name"},e("account.address"))})),r.a.createElement("input",{onChange:this.handleChange,id:"street1",name:"address",className:"form-control",type:"text",placeholder:this.state.info.address}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"zip"},e("account.zip"))})),r.a.createElement("input",(e={name:"zip",placeholder:"Enter zip code",onChange:this.handleChange,id:"zip"},Object(Ee.a)(e,"placeholder",this.state.info.zip),Object(Ee.a)(e,"className","form-control"),Object(Ee.a)(e,"type","text"),e)))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 "},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"phone"},e("account.phone"))})),r.a.createElement("input",{name:"phone",placeholder:this.state.info.phone,onChange:this.handleChange,id:"phone",className:"form-control",type:"text"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"email"},e("account.email"))})),r.a.createElement("input",{name:"email",onChange:this.handleChange,id:"email",placeholder:this.state.info.email,className:"form-control",type:"text"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company_id"},"Customer ID"),r.a.createElement("input",{name:"company_id",onChange:this.handleChange,id:"company_id",placeholder:this.state.info.company_id,className:"form-control",type:"text"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company_website"},"Customer Website"),r.a.createElement("input",{name:"company_website",onChange:this.handleChange,id:"company_website",placeholder:this.state.info.company_website,className:"form-control",type:"text"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 "},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"password"},e("account.old_password"))})),r.a.createElement("input",{name:"old_password",onChange:this.handleChange,id:"password",placeholder:"Enter current password",className:"form-control",type:"password"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"password"},e("account.password"))})),r.a.createElement("input",{name:"password",onChange:this.handleChange,id:"password",placeholder:"Enter new password",className:"form-control",type:"password"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 "},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"language"},e("account.language"))})),r.a.createElement("select",{value:localStorage.getItem("_lng"),onChange:this.changeLanguage,name:"language",id:"language",class:"form-control"},r.a.createElement("option",{value:"en"},"EN"),r.a.createElement("option",{value:"fi"},"FI"))))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Save changes"))))))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h3",{style:{paddingBottom:"1%"},className:"head3"},e("account.proposal_guarantee"))})),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.handlePropDetails},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"work"},e("myproposal.guarantees_for_work"))})),r.a.createElement("textarea",{maxLength:"162",id:"work",onChange:this.handleChange,name:"work",placeholder:this.state.info.work,className:"form-control"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"insurance"},e("myproposal.insurance"))})),r.a.createElement("textarea",{maxLength:"162",id:"insurance",onChange:this.handleChange,name:"insurance",placeholder:this.state.info.insurance,className:"form-control"})))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Save changes"))))))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("h3",{style:{paddingBottom:"1%"},className:"head3"},e("account.agreement_guarantee"))})),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.handleAgreeDetails},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"materials"},e("myagreement.materials_quarantees")," ")})),r.a.createElement("textarea",{placeholder:this.state.info.agreement_material_guarantee,onChange:this.handleChange,name:"agreement_material_guarantee",style:{height:"70px"},id:"materials",className:"form-control"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"work-quarantees"},e("myagreement.work_quarantees"))})),r.a.createElement("textarea",{placeholder:this.state.info.agreement_work_guarantee,onChange:this.handleChange,name:"agreement_work_guarantee",style:{height:"70px"},id:"work-quarantees",className:"form-control"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"agreement-insurances"},e("myagreement.agreement_insurances"))})),r.a.createElement("textarea",{placeholder:this.state.info.agreement_insurances,onChange:this.handleChange,name:"agreement_insurances",style:{height:"70px"},id:"agreement_insurances",className:"form-control"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,null,(function(e){return r.a.createElement("label",{for:"panelty-terms"},e("myagreement.panelty_terms"))})),r.a.createElement("textarea",{placeholder:this.state.info.agreement_panelty,onChange:this.handleChange,name:"agreement_panelty",style:{height:"70px"},id:"panelty-terms",className:"form-control"})))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Save changes"))))))))))}}]),a}(n.Component),be=a(59),ye=a.n(be),Ne=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tb_message:"",agreed:!1},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleCheck=function(){e.setState({agreed:!e.state.agreed})},e.handleSubmit=Object(I.a)(O.a.mark((function t(){var a,n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,(n=new FormData).set("tb_message",e.state.tb_message),t.next=7,_.a.post("".concat(E,"/api/bid/accept/").concat(e.props.id,"/").concat(e.refs.tb_user_id.value.trim()),n,{headers:{Authorization:"Bearer ".concat(a)}});case 7:r=t.sent,window.location.reload(),console.log(r);case 10:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"accept",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("input",{ref:"tb_user_id",name:"tb_user_id",id:"tb_user_id",class:"form-control",type:"hidden"}),r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("div",{className:"profile flex"},r.a.createElement("img",{src:this.props.avatar}),r.a.createElement("div",{className:"content"},r.a.createElement("h4",{id:"name"}),r.a.createElement("p",null,r.a.createElement("b",null,t("modals.accept.amount")," ",this.props.left,r.a.createElement("b",{id:"bid"}),this.props.right))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{name:"tb_message",onChange:this.handleChange,id:"message",className:"form-control",placeholder:"Your message"})),r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{onClick:this.handleCheck,type:"checkbox",className:"form-check-input",id:"agreement"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"agreement"},t("modals.accept.check")))),r.a.createElement("button",{type:"button",disabled:!this.state.agreed,onClick:this.handleSubmit,className:"btn btn-outline-dark mt-3","data-dismiss":"modal","aria-label":"Close"},"Assign contract"))))))))}}]),a}(n.Component),ke=Object(b.a)()(Ne),xe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tb_message:"",tb_reason:"",tb_feedback:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleCheck=function(){e.setState({agreed:!e.state.agreed})},e.handleSubmit=Object(I.a)(O.a.mark((function t(){var a,n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,(n=new FormData).set("tb_message",e.state.tb_message),n.set("tb_reason",e.state.tb_reason),n.set("tb_feedback",e.state.tb_feedback),t.next=9,_.a.post("".concat(E,"/api/bid/decline/").concat(e.props.id,"/").concat(e.refs.tb_user_id.value.trim()),n,{headers:{Authorization:"Bearer ".concat(a)}});case 9:r=t.sent,window.location.reload(),console.log(r);case 12:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return r.a.createElement("div",null,r.a.createElement("div",{class:"modal fade",id:"decline",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-11"},r.a.createElement("input",{ref:"tb_user_id",name:"tb_user_id",id:"tb_user_id",class:"form-control",type:"hidden"}),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"reason"},t("modals.decline.reason")),r.a.createElement("select",{name:"tb_reason",onChange:this.handleChange,id:"reason",class:"form-control"},r.a.createElement("option",null,"Reason"),r.a.createElement("option",null,"Reason"),r.a.createElement("option",null,"Reason"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"message1"},t("modals.decline.message1")),r.a.createElement("textarea",{name:"tb_message",onChange:this.handleChange,id:"message1",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"feedback"},t("modals.decline.feedback")),r.a.createElement("input",{name:"tb_feedback",onChange:this.handleChange,id:"feedback",class:"form-control",type:"text"})),r.a.createElement("button",{onClick:this.handleSubmit,type:"button",class:"btn btn-outline-dark mt-3","data-dismiss":"modal","aria-label":"Close"},"Confirm"))))))))}}]),a}(n.Component),we=Object(b.a)()(xe),Se=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={detail:[],slider:[],imgs:[],bids:[],deleted:!1,loaded:!1,left:null,right:null},e.componentDidMount=function(){e.loadData(),e.loadBids(),e.loadConfig()},e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadData=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/material-offer-detail/").concat(e.props.match.params.id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data;e.setState({detail:a[0]}),e.setState({slider:e.state.detail.tender_slider_images},(function(){var t=Object.values(e.state.slider);e.setState({imgs:t})}))})).catch((function(t){e.props.history.push("/feeds")}));case 4:case"end":return t.stop()}}),t)}))),e.loadBids=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/bid/").concat(e.props.match.params.id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({bids:t.data.data,loaded:!0})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return n=t.sent,t.next=5,_.a.delete("".concat(E,"/api/list-detail/remove/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:200===t.sent.status&&e.setState({deleted:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.t;a.i18n;return!0===this.state.deleted&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},"Deleted")),r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("header.marketplace")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},this.state.detail.tender_category_type," ",this.state.detail.tender_type))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},this.state.detail.tender_category_type," ",this.state.detail.tender_type),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mt-4"}),r.a.createElement("div",{style:{maxWidth:"1145px"}},r.a.createElement("div",{className:"row gutters-60"},r.a.createElement("div",{className:"col-xl-4 col-lg-5"},r.a.createElement(de.a,{className:"slider"},this.state.imgs.map((function(e,t){return r.a.createElement(de.a.Item,{key:t},r.a.createElement("img",{src:E+"/images/marketplace/material/"+e,alt:"First slide"}))})))),r.a.createElement("div",{className:"col-xl-8 col-lg-7"},r.a.createElement("div",{className:"mt-2"}),r.a.createElement("div",{className:"details-content"},r.a.createElement("div",{className:"head"},r.a.createElement("a",{href:"#",className:"btn-edit"},"Edit",r.a.createElement("i",{className:"icon-edit"})),r.a.createElement("h4",null,this.state.detail.tender_title),r.a.createElement("p",null,this.state.detail.tender_type)),r.a.createElement("p",null,this.state.detail.tender_description),r.a.createElement("p",null,"Category",r.a.createElement("a",{href:"#",className:"badge"},this.state.detail.category)),r.a.createElement("a",{href:E+"/images/marketplace/material/"+this.state.detail.tender_attachment,target:"_blank",class:"attachment"},r.a.createElement("i",{className:"icon-paperclip"}),this.state.detail.tender_attachment),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,this.state.detail.tender_budget?n("list_details.budget"):n("list_details.quantity")),r.a.createElement("td",null,this.state.detail.tender_budget?this.state.detail.tender_budget:this.state.detail.tender_quantity)),r.a.createElement("tr",null,r.a.createElement("th",null,this.state.detail.tender_rate?n("list_details.rate"):n("invoice.unit")),r.a.createElement("td",null,this.state.left,this.state.detail.tender_rate?this.state.detail.tender_rate:this.state.detail.tender_unit,this.state.left)),r.a.createElement("tr",null,r.a.createElement("th",null,n("list_details.location")),r.a.createElement("td",null,this.state.detail.tender_pincode," ",this.state.detail.tender_city)),2===this.state.detail.extra?r.a.createElement("tr",null,r.a.createElement("th",null,n("list_details.work")),r.a.createElement("td",null,n("list_details.included"))):1===this.state.detail.extra?r.a.createElement("tr",null,r.a.createElement("th",null,n("feeds.search.material")),r.a.createElement("td",null,n("list_details.included"))):null,r.a.createElement("tr",null,r.a.createElement("th",null,this.state.detail.tender_available_from?n("c_work_list.work_start"):null),r.a.createElement("td",null,this.state.detail.tender_available_from?this.state.detail.tender_available_from:null)))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(e){return t.handleDelete(t.state.detail.tender_id)},className:"btn btn-light"},r.a.createElement("i",{className:"icon-trash"}),"Delete"),r.a.createElement("div",{class:"hr mg-30"}),r.a.createElement("h3",null,"Bids on job"),r.a.createElement("div",{class:"table-responsive-lg",style:{maxWidth:"870px"}},r.a.createElement("table",{class:"table table-noborder"},r.a.createElement("tbody",null,!0===this.state.loaded&&0===this.state.bids.length?r.a.createElement("h3",null,"No bids yet"):!1===this.state.loaded?r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):this.state.bids.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("div",{class:"profile flex"},r.a.createElement("img",{src:ye.a}),r.a.createElement("div",{class:"content"},r.a.createElement("h4",null,e.full_name),r.a.createElement("p",null,"Designation/short intro")))),r.a.createElement("td",null,r.a.createElement("strong",null,t.state.left,e.tb_quote,t.state.right)),r.a.createElement("td",{style:{width:"140px"}},r.a.createElement(ke,{key:a,id:t.props.match.params.id,avatar:ye.a,left:t.state.left,right:t.state.right}),r.a.createElement("a",{href:"#",class:"btn btn-outline-dark open-AcceptDialog","data-user_id":e.tb_user_id,"data-id":e.full_name,"data-bid":e.tb_quote,"data-toggle":"modal","data-target":"#accept"},"Accept")),r.a.createElement("td",{style:{width:"140px"}},r.a.createElement(we,{id:t.props.match.params.id}),r.a.createElement("a",{href:"#",class:"btn btn-gray open-DeclineDialog","data-user_id":e.tb_user_id,"data-toggle":"modal","data-target":"#decline"},"Decline")))}))))))))))))}}]),a}(n.Component),Ce=Object(b.a)()(Se),je=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).feeds_search=[],e.state={feeds:[],status:"",search:"",proposal_submitted:!1,left:null,right:null},e.componentDidMount=function(){e.loadNotif(),e.loadConfig()},e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadNotif=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/contracts"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&(e.setState({feeds:n.data.data}),e.feeds_search=e.state.feeds);case 7:case"end":return t.stop()}}),t)}))),e.handleStatus=function(){var t=Object(I.a)(O.a.mark((function t(a,n){var r,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return r=t.sent,t.next=5,_.a.post("".concat(E,"/api/contracts/status/").concat(a,"/").concat(n),null,{headers:{Authorization:"Bearer ".concat(r)}});case 5:l=t.sent,console.log(l),200===l.status&&3===n&&e.setState({proposal_submitted:!0});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState({feeds:e.feeds_search,status:t.target.value},(function(){"--Select--"==e.state.status&&window.location.reload(),e.setState((function(t){return{feeds:t.feeds.filter((function(t){return t.tender_status==e.state.status}))}}))}))},e.handleSearch=function(t){e.setState({feeds:e.feeds_search,search:t.target.value},(function(){"--Select--"==e.state.search&&window.location.reload(),e.setState((function(t){return{feeds:t.feeds.filter((function(t){return"Work"==e.state.search||"Material"==e.state.search?t.tender_category_type.includes(e.state.search):t.tender_type.includes(e.state.search)}))}}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.t;a.i18n;!0===this.state.proposal_submitted&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},"Proposal Requested"));var l=this.state.feeds.map((function(e){return r.a.createElement("div",{class:"card mb-1"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-4"},r.a.createElement("p",null,e.tender_title,r.a.createElement("br",null),r.a.createElement("b",{class:"fw-500"},e.sender),r.a.createElement("br",null),r.a.createElement("span",{class:"date"},"Started: ",e.created_at," ")),r.a.createElement("p",null,4===e.tender_status?r.a.createElement("span",{class:"badge badge-tag badge-danger"},"Pending"):3===e.tender_status?r.a.createElement("span",{class:"badge badge-tag badge-danger"},"Complete"):5===e.tender_status?r.a.createElement("span",{class:"badge badge-tag badge-danger"},"Cancel"):6===e.tender_status?r.a.createElement("div",null,r.a.createElement("span",{class:"badge badge-tag badge-info"},"Ongoing"),r.a.createElement("span",{class:"badge badge-tag badge-secondary"},"Sent")):r.a.createElement("span",{class:"badge badge-tag badge-info"},"Ongoing"))),r.a.createElement("div",{class:"col-lg-4"},r.a.createElement("b",{class:"fw-500"},t.state.left,e.tender_quantity?e.tender_quantity:e.tender_rate?e.tender_rate:e.tender_cost_per_unit,t.state.right,"/"," ",e.tender_budget?e.tender_budget:e.tender_unit),r.a.createElement("br",null),r.a.createElement("span",{class:"date"},e.tender_available_from," - ",e.tender_available_to)),r.a.createElement("div",{class:"col-lg-4"},(3!==e.bid_status||1===e.bid_status)&&e.sender_isLogged&&2!==e.bid_status&&e.sender_isLogged&&5!==e.tender_status&&e.sender_isLogged&&6!==e.tender_status?r.a.createElement("button",{href:"#",onClick:function(){return t.handleStatus(e.notification_bid_id,3)},class:"btn btn-outline-dark mt-3 mr-5"},n("my_contracts.request_proposal")):null,3!==e.bid_status||6===e.tender_status||e.sender_isLogged?null:r.a.createElement(c.b,{class:"btn btn-outline-dark mt-3 mr-5",to:{pathname:"/business-propsal-create/".concat(e.notification_bid_id,"/").concat(e.notification_sender_id)}},n("my_contracts.submit_proposal")),r.a.createElement("button",{href:"#",onClick:function(){return t.handleStatus(e.notification_bid_id,4)},class:"btn btn-gray mt-3"},n("my_contracts.cancel"))))))}));return r.a.createElement("div",null,r.a.createElement(F,{active:"market"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("header.marketplace")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("my_contracts.title")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(W,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},e||null,r.a.createElement("h3",{className:"head3"},n("my_contracts.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{class:"filter"},r.a.createElement("div",{class:"row align-items-center"},r.a.createElement("div",{class:"col-xl col-md-6 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"type1"},n("my_contracts.search.type1")," "),r.a.createElement("select",{onChange:this.handleSearch,id:"type1",class:"form-control"},r.a.createElement("option",null,"Work"),r.a.createElement("option",null,"Material")))),r.a.createElement("div",{class:"col-xl col-md-6 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"type2"},n("my_contracts.search.type2")," "),r.a.createElement("select",{onChange:this.handleSearch,id:"type2",class:"form-control"},r.a.createElement("option",null,"Offer"),r.a.createElement("option",null,"Request")))),r.a.createElement("div",{class:"col-xl-3 col-md-6 col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"Sort"},n("my_contracts.search.sort_by")),r.a.createElement("select",{onChange:this.handleChange,id:"Sort",class:"form-control"},r.a.createElement("option",{value:"1"},"Ongoing"),r.a.createElement("option",{value:"3"},"Completed"),r.a.createElement("option",{value:"4"},"Pending")))),r.a.createElement("div",{class:"col-xl col-md-6 col-sm-6"},r.a.createElement("label",{class:"d-none d-sm-block"},"\xa0"),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{class:"form-check-label",for:"exampleCheck1"},n("my_contracts.search.closed_contract"))))))))),l))))}}]),a}(n.Component),Oe=Object(b.a)()(je),Ie=a(30),Ae=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",password_confirmation:"",status:null},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleSubmit=function(t){if(t.preventDefault(),e.state.password!==e.state.password_confirmation)return alert("passwords don't match");var a=new FormData;a.set("email",e.state.email),a.set("token",e.props.match.params.token),a.set("password",e.state.password),a.set("password_confirmation",e.state.password_confirmation),_.a.post("".concat(E,"/api/password/reset"),a).then((function(t){e.props.history.push("/")})).catch((function(t){console.log(t),e.setState({status:422})}));var n,r=Object(Ie.a)(a.entries());try{for(r.s();!(n=r.n()).done;){var l=n.value;console.log(l[0]+", "+l[1])}}catch(s){r.e(s)}finally{r.f()}},e}return Object(m.a)(a,[{key:"render",value:function(){var e;return 422===this.state.status&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},"Please try again...")),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:g.a,alt:"logo"})),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"head"},r.a.createElement("h3",null,"Reset password")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange,name:"email",type:"email",placeholder:"Email id",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange,name:"password",type:"password",placeholder:"password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",onChange:this.handleChange,name:"password_confirmation",type:"password",placeholder:"confirm password",required:!0})),r.a.createElement(p,{title:"Reset"}),r.a.createElement("div",{style:{fontSize:"13px",marginTop:"15px"}},e||null))))))}}]),a}(n.Component);var De=function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:g.a,alt:"logo"})),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"head"},r.a.createElement("h3",null,"Thanks for confirmation")),r.a.createElement(c.b,{className:"back-link",to:"/"},"back to login")))))},Te=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={pms_token:null},e.componentDidMount=function(){Y()(".sidebar-toggle").click((function(){Y()(".main-content").toggleClass("show-sidebar")})),Y()(".main-content").click((function(e){Y()(e.target).is(".main-content")&&Y()(this).removeClass("show-sidebar")})),Y()(".sidebar .nav .nav-item .nav-link").click((function(){if(!Y()(this).parent().hasClass("open"))return Y()(".sidebar .nav .nav-item").removeClass("open"),Y()(this).parent().addClass("open"),Y()(".sidebar .nav .nav-item .sub-nav").slideUp(),void Y()(this).next().slideDown(".sub-nav");Y()(".sidebar .nav .nav-item").removeClass("open"),Y()(this).next().slideUp(".sub-nav")})),Y()(document).ready((function(){Y()(window).outerWidth();var e=Y()(".main-content");if(e.length){var t="calc(100vh - "+Math.floor(e.offset().top)+"px)";e.css("height",t)}function a(){var e=Y()(".sidebar .nav"),t=Y()(".sidebar .scroll"),a=e.outerHeight(!0),n=e.prop("scrollHeight"),r=a*a/n,l=navigator.userAgent;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(l)&&e.css({margin:0,width:"100%"}),t.height(r),Math.round(e.height())<=Math.round(t.height())?t.hide():t.show(),e.on("scroll",(function(){t.css({top:e.scrollTop()/a*r})}))}Y()(window).resize((function(){a()})),Y()(".sidebar .nav").on("scroll mouseout mouseover",(function(){a()})),a()}))},e.loadToken=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/prousers/token/user"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({pms_token:t.data.token}),window.location.href="".concat(E,"/pms/sso?token=").concat(e.state.pms_token)})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"wraper"},r.a.createElement("div",{className:"scroll"}),r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"/business-dashboard"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/business-dashboard"},r.a.createElement("i",{className:"icon-dashboard"}),t("sidebar.pro_desk"))),r.a.createElement("li",{className:"/mycustomers"===this.props.dataFromParent||"/customers-list"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{className:"icon-fillter"}),t("b_sidebar.cus.customers")),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/mycustomers"},t("b_sidebar.cus.create_customers"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/customers-list"},t("sidebar.create_listing"))))),r.a.createElement("li",{className:"/propsal-projectplanning"===this.props.dataFromParent||"/myproposal"===this.props.dataFromParent||"/business-propsal-create"===this.props.dataFromParent||"/proposal-listing"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{class:"icon-edit-file"}),t("b_sidebar.proposal.proposal")),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/propsal-projectplanning"},t("b_sidebar.proposal.template"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/myproposal"},t("b_sidebar.proposal.proposal"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/proposal-listing"},t("b_sidebar.proposal.listing"))))),r.a.createElement("li",{className:"/myagreement"===this.props.dataFromParent||"/myagreement"===this.props.dataFromParent||"/business-agreement-create"===this.props.dataFromParent||"/agreement-listing"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{class:"icon-materials"}),t("b_sidebar.agreement.agreement")),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/myagreement"},t("b_sidebar.agreement.agreement"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/agreement-listing"},t("b_sidebar.proposal.listing"))))),r.a.createElement("li",{className:"/saved"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(c.b,{onClick:this.loadToken,className:"nav-link"},r.a.createElement("i",{class:"icon-work"}),t("b_sidebar.project.project"))),r.a.createElement("li",{className:"/invoice"===this.props.dataFromParent||"/invoice-list"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{className:"icon-jobs"}),t("b_sidebar.invoice.invoice")),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/invoice"},t("b_sidebar.invoice.create_invoice"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/invoice-list"},t("b_sidebar.invoice.invoice_listing"))))),r.a.createElement("li",{className:"/saved"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/business-dashboard"},r.a.createElement("i",{class:"icon-chat"}),t("b_sidebar.messaging.messaging"))),r.a.createElement("li",{className:"/myresources"===this.props.dataFromParent||"/resource-list"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{className:"icon-work"}),t("b_sidebar.resources.resources")),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/myresources"},t("b_sidebar.resources.create_resources"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/resource-list"},t("b_sidebar.resources.resource_listing"))))),r.a.createElement("li",{className:"/myphases"===this.props.dataFromParent||"/phase-list"===this.props.dataFromParent?"nav-item active":"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement("i",{className:"icon-edit-file"}),t("b_sidebar.phase.phases")),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/myphases"},t("b_sidebar.phase.create"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/phase-list"},t("b_sidebar.phase.listing"))))))))}}]),a}(n.Component),Me=Object(b.a)()(Te),Re=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={proposal:[],agreement:[],resource:[],invoice:[],request:[]},e.componentDidMount=function(){e.myProposal(),e.myAgreement(),e.myResource(),e.myInvoice(),e.myRequests()},e.myProposal=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/dashboard_bussiness/proposal"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({proposal:t.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.myAgreement=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/dashboard_bussiness/agreement"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({agreement:t.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.myResource=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/dashboard_bussiness/resources"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({resource:t.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.myInvoice=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/dashboard_bussiness/invoice"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({invoice:t.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.myRequests=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/dashboard_bussiness/requests"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({request:t.data.data})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{class:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{class:"breadcrumb"},r.a.createElement("li",{class:"breadcrumb-item active","aria-current":"page"},t("mycustomer.heading")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"head3"},t("bussiness_dashboard.heading")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-edit-file"}),t("bussiness_dashboard.proposals")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.proposal.total))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,t("bussiness_dashboard.Open")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.proposal.open)),r.a.createElement("li",null,t("bussiness_dashboard.Old")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.proposal.old)),r.a.createElement("li",null,t("bussiness_dashboard.Expired")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.proposal.expired)))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-materials"}),t("bussiness_dashboard.agreements")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.agreement.total))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,t("bussiness_dashboard.Open")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.agreement.open)),r.a.createElement("li",null,t("bussiness_dashboard.Old")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.agreement.old)),r.a.createElement("li",null,t("bussiness_dashboard.Expired")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.agreement.expired)))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-work"}),t("bussiness_dashboard.projects")," ",r.a.createElement("span",{className:"badge badge-light"},"10"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,t("bussiness_dashboard.Open")," ",r.a.createElement("span",{className:"badge badge-light"},"60")),r.a.createElement("li",null,t("bussiness_dashboard.Old")," ",r.a.createElement("span",{className:"badge badge-light"},"40")),r.a.createElement("li",null,t("bussiness_dashboard.Expired")," ",r.a.createElement("span",{className:"badge badge-light"},"20")))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-jobs"}),t("bussiness_dashboard.billing")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.invoice.total))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,t("bussiness_dashboard.Open")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.invoice.open)),r.a.createElement("li",null,t("bussiness_dashboard.Old")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.invoice.old)),r.a.createElement("li",null,t("bussiness_dashboard.Expired")," ",r.a.createElement("span",{className:"badge badge-light"}," ",this.state.invoice.expired)))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-work"}),t("bussiness_dashboard.resources")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.resource.total))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,t("bussiness_dashboard.customers")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.resource.customer)),r.a.createElement("li",null,t("bussiness_dashboard.resources")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.resource.resource)),r.a.createElement("li",null,t("bussiness_dashboard.Expired")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.resource.expired)))))),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6"},r.a.createElement("div",{className:"card db-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,r.a.createElement("i",{className:"icon-offce-details"}),t("bussiness_dashboard.requests")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.request.total))),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,t("bussiness_dashboard.Open")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.request.open)),r.a.createElement("li",null,t("bussiness_dashboard.Old")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.request.old)),r.a.createElement("li",null,t("bussiness_dashboard.Expired")," ",r.a.createElement("span",{className:"badge badge-light"},this.state.request.expired)))))))))))}}]),a}(n.Component),qe=Object(b.a)()(Re),ze=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={first_name:"",last_name:"",phone:"",email:"",company:"",type:"",permission:0,success:0,errors:[],permissions:[]},e.componentDidMount=function(t){e.myRef=r.a.createRef(),e.loadData(),e.loadPermission()},e.loadPermission=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/resourcePermission"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&e.setState({permissions:n.data.data});case 7:case"end":return t.stop()}}),t)}))),e.loadData=Object(I.a)(O.a.mark((function t(){var a,n,r,l,s,c,o,i,m;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.match.params.id){t.next=8;break}return t.next=3,localStorage.getItem("token");case 3:return a=t.sent,t.next=6,_.a.get("".concat(E,"/api/resource/").concat(e.props.match.params.id),{headers:{Authorization:"Bearer ".concat(a)}});case 6:200===(n=t.sent).status&&(r=n.data.data,l=r.first_name,s=r.last_name,c=r.phone,o=r.email,i=r.company,m=r.type,e.setState({first_name:l,last_name:s,email:o,company:i,type:m,phone:c}));case 8:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,(r=new FormData).set("first_name",e.state.first_name),r.set("last_name",e.state.last_name),r.set("phone",e.state.phone),r.set("email",e.state.email),r.set("company",e.state.company),r.set("type",e.state.type),r.set("permission",e.state.permission),_.a.post("".concat(E,"/api/resources"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({success:1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({success:2}),e.myRef.current.scrollTo(0,0)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:return n=t.sent,r={first_name:e.state.first_name,last_name:e.state.last_name,phone:e.state.phone,email:e.state.email,company:e.state.company,type:e.state.type},t.next=7,_.a.put("".concat(E,"/api/resource/update/").concat(e.props.match.params.id),null,{params:r,headers:{Authorization:"Bearer ".concat(n)}});case 7:200===t.sent.status&&(e.setState({success:1}),e.myRef.current.scrollTo(0,0));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.t;t.i18n;return 1===this.state.success?e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},this.props.match.params.id?a("success.res_upd"):a("success.res_ins")):2===this.state.success&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{class:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("invoice.heading")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3",style:{paddingBottom:"1%"}},a("b_sidebar.resources.create_resources")),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.props.match.params.id?this.handleUpdate:this.handleSubmit},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"first_name"},a("account.first_name")),r.a.createElement("input",{id:"first_name",name:"first_name",onChange:this.handleChange,className:"form-control",type:"text",value:this.state.first_name}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"last_name"},a("account.last_name")),r.a.createElement("input",{id:"last_name",name:"last_name",onChange:this.handleChange,className:"form-control",type:"text",value:this.state.last_name}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email"},a("account.email")),r.a.createElement("input",{id:"email",name:"email",onChange:this.handleChange,className:"form-control",type:"email",value:this.state.email}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company"},a("account.company")),r.a.createElement("input",{id:"company",name:"company",onChange:this.handleChange,className:"form-control",type:"text",value:this.state.company}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"type"},a("account.type")),r.a.createElement("select",{onChange:this.handleChange,name:"type",id:"type",class:"form-control",placeholder:this.state.type},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",{value:"Sub Contractor"},"Sub Contractor"),r.a.createElement("option",{value:"Supplier"},"Supplier")))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company"},a("account.phone")),r.a.createElement("input",{id:"phone",name:"phone",onChange:this.handleChange,className:"form-control",type:"number",value:this.state.phone}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"permission"},a("account.permission")),r.a.createElement("select",{onChange:this.handleChange,name:"permission",id:"permission",class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.permissions.map((function(e,t){var a=e.role_name,n=e.id;return r.a.createElement("option",{value:n},a)})))))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Create"))))))))))}}]),a}(n.Component),Pe=Object(b.a)()(ze),Fe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).feeds_search=[],e.state={resources:[],search:null,type:""},e.componentDidMount=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadResources();case 1:case"end":return t.stop()}}),t)}))),e.loadResources=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/resources-list"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data.data;e.feeds_search=a,e.setState({resources:a})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.delete("".concat(E,"/api/resource/delete/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===e.sent.status&&window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.searchSpace=function(t){var a=t.target.value;e.setState({search:a})},e.handleChange=function(t){e.setState({resources:e.feeds_search}),e.setState({type:t.target.value},(function(){"--Select--"==e.state.type&&window.location.reload(),e.setState((function(t){return{resources:t.resources.filter((function(t){return t.type.includes(e.state.type)}))}}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.resources.filter((function(t){return null==e.state.search||t.first_name.toLowerCase().includes(e.state.search.toLowerCase())||t.company.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})).map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2".concat(t.id)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2".concat(t.id)}))),r.a.createElement("td",{"data-label":"First Name: "},t.first_name),r.a.createElement("td",{"data-label":"Last Name: "},t.last_name),r.a.createElement("td",{"data-label":"Last Name: "},t.phone),r.a.createElement("td",{"data-label":"Email: "},t.email),r.a.createElement("td",{"data-label":"Company: "},t.company),r.a.createElement("td",{"data-label":"Type: "},t.type),r.a.createElement("td",{"data-label":"Status: "},1===t.status?"Active":"Inactive"),r.a.createElement("td",{"data-label":"View: "},r.a.createElement(c.b,{to:{pathname:"myresources/".concat(t.id)},className:"btn btn-info"},r.a.createElement("i",{className:"icon-edit"}),"Details")),r.a.createElement("td",{"data-label":"Delete: "},r.a.createElement("button",{onClick:function(a){return e.handleDelete(t.id)},className:"btn btn-light"},r.a.createElement("i",{className:"icon-trash"}),"Delete")))})));return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("invoice.heading")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},a("mycustomer.resource_company")),r.a.createElement("input",{id:"name",onChange:this.searchSpace,type:"text",className:"form-control"}))),r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},a("mycustomer.resource_type")),r.a.createElement("select",{name:"type",id:"type",onChange:this.handleChange,className:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Sub Contractor"),r.a.createElement("option",null,"Supplier"),r.a.createElement("option",null,"Client")))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("c_material_list.listing.my_listings")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/myresources"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("account.first_name")),r.a.createElement("th",null,a("account.last_name")),r.a.createElement("th",null,a("account.phone")),r.a.createElement("th",null,a("account.email")),r.a.createElement("th",null,a("account.company")),r.a.createElement("th",null,a("account.type")),r.a.createElement("th",null,a("account.status")))),r.a.createElement("tbody",null,n)))))))))}}]),a}(n.Component),Be=Object(b.a)()(Fe),Le=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={template_name:"",type:"",error:Boolean,msg:""},e.handleTemplateName=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleSubmit=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,(n=new FormData).set("items",e.props.data.items),n.set("est_time",e.props.data.est_time),n.set("sub_total",e.props.data.sub_total),n.set("tax",e.props.data.tax),n.set("profit",e.props.data.profit),n.set("items_cost",e.props.data.items_cost),n.set("template_name",e.state.template_name),n.set("type",e.state.type),n.set("total",e.props.data.total),n.set("tax_calc",e.props.data.tax_calc),n.set("profit_calc",e.props.data.profit_calc),n.set("seperate",0),_.a.post("".concat(E,"/api/pro-plan/create"),n,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({error:!1,msg:"Saved successfully!"}),console.log(t)})).catch((function(t){e.setState({error:!0,msg:t.response.data.error}),console.log(t.response.data)}));case 17:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.msg&&(alert(this.state.msg),window.location.reload()),r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"save",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("div",{className:"profile flex"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Enter a unique plan name")))),r.a.createElement("div",{className:"form-group "},r.a.createElement("input",{className:"form-control",placeholder:"....",name:"template_name",onChange:this.handleTemplateName})),r.a.createElement("div",{className:"form-group "},r.a.createElement("select",{onChange:this.handleTemplateName,name:"type",class:"form-control"},r.a.createElement("option",null,"--Type--"),r.a.createElement("option",null,"Work"),r.a.createElement("option",null,"Material"))),r.a.createElement("button",{type:"button",className:"btn btn-outline-dark mt-3","data-dismiss":"modal","aria-label":"Close",onClick:this.handleSubmit},"Save"))))))))}}]),a}(n.Component),Ye=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={template_names:[],name:""},e.componentDidMount=function(){e.loadNames()},e.handleName=function(t){e.setState({name:t.target.value})},e.SendName=function(){e.props.onSelectedName(e.state.name)},e.loadNames=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/pro-plan/names/all"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&e.setState({template_names:n.data.data});case 7:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"open",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("div",{className:"profile flex"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Select a template")))),r.a.createElement("div",{className:"form-group "},r.a.createElement("select",{onChange:this.handleName,name:"type",class:"form-control"},r.a.createElement("option",null,"--Name--"),this.state.template_names.map((function(e,t){var a=e.template_name;return r.a.createElement("option",{value:a},a)})))),r.a.createElement("button",{type:"button",className:"btn btn-outline-dark mt-3","data-dismiss":"modal","aria-label":"Close",onClick:this.SendName},"Open"))))))))}}]),a}(n.Component),We=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={rows:[],area:[],phases:[],row_phase:[],phase:"",items:"",est_time:0,sub_total:0,tax:0,profit:0,tax_calc:0,profit_calc:0,items_cost:0,total:0,type:"",loaded:0,template_name:"",id:0,left:null,right:null},e.componentDidMount=function(){e.loadArea(),e.loadConfig()},e.handleTemplate=function(t){e.setState({loaded:1,template_name:t})},e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.saveData=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({items:e.itemsInput.value,est_time:e.est_timeInput.value,sub_total:e.sub_totalInput.value,tax:e.taxInput.value,profit:e.profitInput.value,tax_calc:e.tax_calcInput.value,profit_calc:e.profit_calcInput.value,items_cost:e.items_costInput.value,total:e.totalInput.value});case 1:case"end":return t.stop()}}),t)}))),e.updateData=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.saveData(),t.next=3,localStorage.getItem("token");case 3:a=t.sent,n={items:e.state.items,est_time:e.state.est_time,sub_total:e.state.sub_total,tax:e.state.tax,profit:e.state.profit,items_cost:e.state.items_cost,total:e.state.total,tax_calc:e.state.tax_calc,profit_calc:e.state.profit_calc},_.a.put("".concat(E,"/api/pro-plan/update/").concat(e.state.template_name),null,{params:n,headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({error:!1,msg:"Updated successfully!"}),alert(e.state.msg),window.location.reload()})).catch((function(t){e.setState({error:!0,msg:t.response.data.error}),alert("Error occured"),window.location.reload()}));case 6:case"end":return t.stop()}}),t)}))),e.loadTemplate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o,i,m,d,u,p,h,g,f,v;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return n=t.sent,t.next=5,_.a.get("".concat(E,"/api/pro-plan/template/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:200===(r=t.sent).status&&(l=r.data,s=l.type,c=l.items,o=l.est_time,i=l.sub_total,m=l.tax,d=l.profit,u=l.tax_calc,p=l.profit_calc,h=l.items_cost,g=l.template_name,f=l.total,v=l.id,e.setState({row_phase:JSON.parse(c),type:s,est_time:o,sub_total:i,tax:m,profit:d,tax_calc:u,profit_calc:p,items_cost:h,template_name:g,total:f,id:v}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadArea=Object(I.a)(O.a.mark((function t(){var a,n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,n=localStorage.getItem("_lng"),t.next=6,_.a.get("".concat(E,"/api/pro-plan/area/").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 6:200===(r=t.sent).status&&e.setState({area:r.data.data});case 8:case"end":return t.stop()}}),t)}))),e.changePhase=function(t){e.setState({phases:[]});var a=localStorage.getItem("token"),n=localStorage.getItem("_lng");_.a.get("".concat(E,"/api/pro-plan/phase/").concat(t.target.value,"/").concat(n),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({phases:t.data})})).catch((function(e){console.log(e.response)}))},e.handleSelect=function(t){e.setState({phase:t.target.value})},e.removeTemplate=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.delete("".concat(E,"/api/pro-plan/delete/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===e.sent.status&&(alert("deleted"),window.location.reload());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.handleAppend=function(t){t.preventDefault();var a=e.state.rows,n=e.state.row_phase;if(e.state.phase){a.push(e.state.phase);var r="".concat(e.state.phase,",",0,",",0,",",0).split(","),l={};["items","dur","cost","mat"].forEach((function(e,t){return l[e]=r[t]})),n.push(l),e.setState({rows:a,row_phase:n})}},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.loaded!==this.state.loaded&&this.loadTemplate(this.state.template_name)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,{items:this.state.items,est_time:this.state.est_time,sub_total:this.state.sub_total,tax:this.state.tax,profit:this.state.profit,tax_calc:this.state.tax_calc,profit_calc:this.state.profit_calc,items_cost:this.state.items_cost,total:this.state.total});return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},a("b_sidebar.proposal.proposal")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("project_planning.heading")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("project_planning.heading")),r.a.createElement("div",{className:"card",style:{maxWidth:"1150px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("input",{type:"hidden",ref:function(t){e.itemsInput=t},id:"items"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.est_timeInput=t},id:"est_time"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.sub_totalInput=t},id:"sub_total"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.taxInput=t},id:"tax"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.profitInput=t},id:"profit"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.tax_calcInput=t},id:"tax_calc"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.profit_calcInput=t},id:"profit_calc"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.items_costInput=t},id:"items_cost"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.totalInput=t},id:"total"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a("project_planning.area")),r.a.createElement("select",{onChange:this.changePhase,className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.area.map((function(e,t){var a=e.area_id,n=e.area_identifier;return r.a.createElement("option",{value:a},n)}))))),r.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-8 col-sm-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a("project_planning.phase")),r.a.createElement("div",{className:"flex-group"},r.a.createElement("select",{onChange:this.handleSelect,name:"phase",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.phases.map((function(e,t){var a=e.aw_id,n=e.aw_identifier;if(void 0!==a)return r.a.createElement("option",{value:n},n)}))),r.a.createElement("button",{onClick:this.handleAppend,className:"btn btn-primary"},"Add"),1===this.state.loaded?r.a.createElement("button",{onClick:function(){return e.removeTemplate(e.state.id)},className:"btn btn-danger"},"Delete"):null))),r.a.createElement("div",{className:"col-xl-4 col-lg-3 col-md-4 col-sm-12"},r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("label",{className:"d-xl-none"},"\xa0"),r.a.createElement("div",{className:"dropdown mt-2"},r.a.createElement("a",{className:"btn btn-light dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},a("project_planning.template")),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},1===this.state.loaded?r.a.createElement("button",{onClick:this.updateData,className:"dropdown-item clk"},a("project_planning.upd_curr")):r.a.createElement("button",{onClick:this.saveData,"data-toggle":"modal","data-target":"#save",className:"dropdown-item clk"},a("project_planning.save_curr")),r.a.createElement("button",{"data-toggle":"modal","data-target":"#open",className:"dropdown-item"},a("project_planning.save_temp")))))))),r.a.createElement("div",{className:"mt-4"}),r.a.createElement("h6",{className:"head6"},a("project_planning.new_task")),r.a.createElement("div",{className:"table-responsive scroller"},r.a.createElement(Le,{data:n}),r.a.createElement(Ye,{onSelectedName:this.handleTemplate}),r.a.createElement("table",{id:"mytable",className:"table table-bordered table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-right"},r.a.createElement("th",{className:"text-left"},a("project_planning.items")),r.a.createElement("th",null,a("project_planning.duration")),r.a.createElement("th",null,a("project_planning.cost_hr")),r.a.createElement("th",null,a("project_planning.total_cost")))),r.a.createElement("tbody",null,this.state.row_phase.map((function(t,a){return r.a.createElement(Ue,{phase:t,key:a,items:e.state.items})})),r.a.createElement("tr",{style:{lineHeight:"30px",fontWeight:"bold"},className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},a("project_planning.est_time")),r.a.createElement("td",{"data-label":"Duration(hrs): ",id:"1result"},this.state.est_time),r.a.createElement("td",{"data-label":"Cost/hr: "}),r.a.createElement("td",{"data-label":"Total cost: "})),r.a.createElement("tr",null,r.a.createElement("td",{"data-label":"Items: "},"\xa0"),r.a.createElement("td",{"data-label":"Duration(hrs): "}),r.a.createElement("td",{"data-label":"Cost/hr: "}),r.a.createElement("td",{"data-label":"Total cost: "})),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "}),r.a.createElement("td",{"data-label":"Duration(hrs): "},this.state.left," ",a("project_planning.sub_total")," ",this.state.right),r.a.createElement("td",{"data-label":"Cost/hr: ",id:"2result"},this.state.sub_total),r.a.createElement("td",{"data-label":"Total cost: ",id:"3result"},this.state.items_cost)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},a("project_planning.tax"),"%"),r.a.createElement("td",{"data-label":"Duration(hrs): ",className:"tax",contenteditable:"true"},this.state.tax),r.a.createElement("td",{colSpan:"2","data-label":"Total cost: ",className:"tax_res"},this.state.tax_calc)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},a("project_planning.profit"),"%"),r.a.createElement("td",{"data-label":"Duration(hrs): ",className:"profit",contenteditable:"true"},this.state.profit),r.a.createElement("td",{"data-label":"Duration(hrs): "}),r.a.createElement("td",{"data-label":"Total cost: ",className:"profit_res"},this.state.profit_calc)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},this.state.left," ",a("project_planning.total")," ",this.state.right),r.a.createElement("td",{colSpan:"3","data-label":"Duration(hrs): ",className:"total"},this.state.total)))))))))))}}]),a}(n.Component),Ue=function(e){return r.a.createElement("tr",{className:"text-right i-val customerIDCell"},r.a.createElement("td",{"data-value":e.phase.items,className:"text-left ","data-label":"Items: "},r.a.createElement("span",{class:"remove-row",id:"myRemove"},"\xd7"),e.phase.items),r.a.createElement("td",{className:"duration ",contenteditable:"true","data-label":"Duration(hrs): "},e.phase.dur),r.a.createElement("td",{className:"cost_hr ",contenteditable:"true","data-label":"Cost/hr: "},e.phase.cost),r.a.createElement("td",{className:"mat_cost","data-label":"Total cost: "},e.phase.mat))},Ge=Object(b.a)()(We),Ze=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={feeds:[],notification_bid_id:0,notification_sender_id:0,drafts:[],proposal_client_id:0,proposal_request_id:0,draft:""},e.componentDidMount=function(){e.loadNotif(),e.loadDrafts()},e.loadNotif=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/contracts"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&e.setState({feeds:n.data.data});case 7:case"end":return t.stop()}}),t)}))),e.loadDrafts=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/proposal/get/drafts"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&e.setState({drafts:n.data});case 7:case"end":return t.stop()}}),t)}))),e.handleNameChange=function(t){var a=t.target.options.selectedIndex,n=e.state.feeds[a-1],r=n.notification_bid_id,l=n.notification_sender_id;e.setState({notification_bid_id:r,notification_sender_id:l})},e.handleNameChange1=function(t){var a=t.target.options.selectedIndex,n=e.state.drafts[a-1],r=n.proposal_client_id,l=n.proposal_request_id,s=n.draft;e.setState({proposal_client_id:r,proposal_request_id:l,draft:s})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},t("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},t("b_sidebar.proposal.proposal")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},t("c_material_list.listing.create")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{maxWidth:"1120px",maxHeight:"70vh"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"nav tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/business-propsal-create"},t("myproposal.scratch"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"collapse",href:"#request",role:"button","aria-expanded":"false","aria-controls":"request"},t("myproposal.prop_request"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"collapse",href:"#draft",role:"button","aria-expanded":"false","aria-controls":"draft"},t("myproposal.prop_upd")))),r.a.createElement("div",{className:"collapse",id:"request"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-visible"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"select-proposal"}),"Select proposal / agreement",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("select",{onChange:this.handleNameChange,id:"select-agreement",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.feeds.map((function(e,t){e.notification_status;var a=e.tender_title,n=e.bid_status,l=e.sender_isLogged;return 3!==n||l?null:r.a.createElement("option",null,a)})))),r.a.createElement("div",{className:"col-md-4 mt-md-0 mt-4"},r.a.createElement(c.b,{className:"btn btn-blue",to:{pathname:"/business-propsal-create/".concat(this.state.notification_bid_id,"/").concat(this.state.notification_sender_id)}},"Create Proposal")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement("div",{className:"collapse",id:"draft"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-visible"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"select-proposal"}),"Select proposal / agreement",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("select",{onChange:this.handleNameChange1,id:"select-agreement",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.drafts.map((function(e,t){e.proposal_request_id,e.proposal_client_type;var a=e.proposal_names;return r.a.createElement("option",null,"".concat(a))})))),r.a.createElement("div",{className:"col-md-4 mt-md-0 mt-4"},r.a.createElement(c.b,{className:"btn btn-blue",to:{pathname:"/business-propsal-create/".concat(this.state.proposal_request_id,"/").concat(this.state.proposal_client_id,"/").concat(this.state.draft)}},"Update Proposal")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))))))))}}]),a}(n.Component),Je=Object(b.a)()(Ze),He=a(31),Ve=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={first_name:"",last_name:"",address:"",email:"",phone:"",zip:"",company_id:"",company_website:"",password:"",old_password:"",info:[],success:Boolean,errors:[]},e.componentDidMount=function(){e.loadData()},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.loadData=Object(I.a)(O.a.mark((function t(){var a,n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),t.next=3,_.a.get("".concat(E,"/api/account"),{headers:{Authorization:"Bearer ".concat(a)}});case 3:n=t.sent,r=n.data,e.setState({info:r}),e.props.onInfo(e.state.info);case 7:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).set("first_name",e.state.first_name),n.set("last_name",e.state.last_name),n.set("address",e.state.address),n.set("email",e.state.email),n.set("phone",e.state.phone),n.set("zip",e.state.zip),n.set("company_id",e.state.company_id),n.set("company_website",e.state.company_website),t.next=12,localStorage.getItem("token");case 12:r=t.sent,_.a.post("".concat(E,"/api/storeDetails"),n,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return alert("Updated")})).catch((function(e){return window.location.reload()}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"modal fade",id:"edit-info",tabindex:"-1",role:"dialog","aria-labelledby":"editInfoModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"editInfoModalLabel"},"Edit Business Information"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"f-name"},"First Name"),r.a.createElement("input",{id:"f-name",onChange:this.handleChange,name:"first_name",class:"form-control",type:"text",placeholder:this.state.info.first_name}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"l-name"},"Last Name"),r.a.createElement("input",{id:"l-name",onChange:this.handleChange,name:"last_name",class:"form-control",type:"text",placeholder:this.state.info.last_name}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"address"},"Address"),r.a.createElement("input",{id:"address",onChange:this.handleChange,name:"address",class:"form-control",type:"text",placeholder:this.state.info.address}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"zip"},"Zip"),r.a.createElement("input",{id:"zip",onChange:this.handleChange,name:"zip",class:"form-control",type:"text",placeholder:this.state.info.zip}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"phone"},"Phone"),r.a.createElement("input",{id:"phone",onChange:this.handleChange,name:"phone",class:"form-control",type:"text",placeholder:this.state.info.phone}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{id:"email",onChange:this.handleChange,name:"email",class:"form-control",type:"email",placeholder:this.state.info.email}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company_id"},"Customer ID"),r.a.createElement("input",{name:"company_id",onChange:this.handleChange,id:"company_id",placeholder:this.state.info.company_id,className:"form-control",type:"text"}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company_website"},"Customer Website"),r.a.createElement("input",{name:"company_website",onChange:this.handleChange,id:"company_website",placeholder:this.state.info.company_website,className:"form-control",type:"text"})))),r.a.createElement("button",{type:"submit",class:"btn btn-primary mt-3"},"Submit")))))))}}]),a}(n.Component),Qe={rows:[],area:[],phases:[],row_phase:[],phase:"",items:"",est_time:0,sub_total:0,tax:0,profit:0,tax_calc:0,profit_calc:0,items_cost:0,total:0,type:"",loaded:!1,template_name:"",template_names:[],id:0},Xe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={rows:[],area:[],phases:[],row_phase:[],phase:"",items:"",est_time:0,sub_total:0,tax:0,profit:0,tax_calc:0,profit_calc:0,items_cost:0,total:0,type:"",loaded:!1,template_name:"",template_names:[],id:0},e.saveData=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({items:e.itemsInput.value,est_time:e.est_timeInput.value,sub_total:e.sub_totalInput.value,tax:e.taxInput.value,profit:e.profitInput.value,tax_calc:e.tax_calcInput.value,profit_calc:e.profit_calcInput.value,items_cost:e.items_costInput.value,total:e.totalInput.value});case 1:case"end":return t.stop()}}),t)}))),e.handleItemsAdd=function(){if(0===e.state.id){var t=localStorage.getItem("token"),a={items:e.itemsInput.value,est_time:e.est_timeInput.value,sub_total:e.sub_totalInput.value,tax:e.taxInput.value,profit:e.profitInput.value,tax_calc:e.tax_calcInput.value,profit_calc:e.profit_calcInput.value,items_cost:e.items_costInput.value,total:e.totalInput.value,type:e.props.onType,seperate:1,template_name:"".concat(+new Date,"_").concat(e.props.onType)};_.a.post("".concat(E,"/api/pro-plan/create"),a,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){e.setState({id:t.data}),e.props.onSelectWorkTemplate(e.itemsInput.value,e.totalInput.value,e.props.onType,e.state.template_name,e.state.id),console.log(t)})).catch((function(e){console.log(e.response.data)}))}else e.props.onSelectWorkTemplate(e.itemsInput.value,e.totalInput.value,e.props.onType,e.state.template_name,e.state.id)},e.updateData=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.saveData(),e.props.onSelectWorkTemplate(e.itemsInput.value,e.totalInput.value,e.props.onType,e.state.template_name),t.next=4,localStorage.getItem("token");case 4:n=t.sent,r={items:e.state.items,est_time:e.state.est_time,sub_total:e.state.sub_total,tax:e.state.tax,profit:e.state.profit,items_cost:e.state.items_cost,total:e.state.total,tax_calc:e.state.tax_calc,profit_calc:e.state.profit_calc},_.a.put("".concat(E,"/api/pro-plan/update/").concat(e.state.template_name),null,{params:r,headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({error:!1,msg:"Updated successfully!"}),alert(e.state.msg),window.location.reload()})).catch((function(t){e.setState({error:!0,msg:t.response.data.error}),alert("Error occured"),window.location.reload()}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleName=function(t){"--Name--"!==t.target.value&&(e.setState({template_name:t.target.value,loaded:!0}),e.loadTemplate(t.target.value))},e.loadTemplate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o,i,m,d,u,p,h,g,f,v;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return n=t.sent,t.next=5,_.a.get("".concat(E,"/api/pro-plan/template/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:200===(r=t.sent).status&&(l=r.data,s=l.type,c=l.items,o=l.est_time,i=l.sub_total,m=l.tax,d=l.profit,u=l.tax_calc,p=l.profit_calc,h=l.items_cost,g=l.template_name,f=l.total,v=l.id,e.setState({row_phase:JSON.parse(c),type:s,est_time:o,sub_total:i,tax:m,profit:d,tax_calc:u,profit_calc:p,items_cost:h,template_name:g,total:f,id:v}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadNames=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return n=t.sent,t.next=5,_.a.get("".concat(E,"/api/pro-plan/names/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:200===(r=t.sent).status&&e.setState({template_names:r.data.data});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadArea=Object(I.a)(O.a.mark((function t(){var a,n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,n=localStorage.getItem("_lng"),t.next=6,_.a.get("".concat(E,"/api/pro-plan/area/").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 6:200===(r=t.sent).status&&e.setState({area:r.data.data});case 8:case"end":return t.stop()}}),t)}))),e.changePhase=function(t){e.setState({phases:[]});var a=localStorage.getItem("token"),n=localStorage.getItem("_lng");_.a.get("".concat(E,"/api/pro-plan/phase/").concat(t.target.value,"/").concat(n),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({phases:t.data})})).catch((function(e){console.log(e.response)}))},e.handleSelect=function(t){e.setState({phase:t.target.value})},e.handleAppend=function(t){t.preventDefault();var a=e.state.rows,n=e.state.row_phase;if(e.state.phase){a.push(e.state.phase);var r="".concat(e.state.phase,",",0,",",0,",",0).split(","),l={};["items","dur","cost","mat"].forEach((function(e,t){return l[e]=r[t]})),n.push(l),e.setState({rows:a,row_phase:n,loaded:!0})}},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.onType!==e.onType&&(this.setState(Qe),this.setState({row_phase:[]}),this.loadNames(this.props.onType),this.loadArea()),this.props.tempName!==e.tempName&&(this.setState(Qe),this.setState({loaded:!0}),this.loadNames(this.props.onType),this.loadArea(),this.loadTemplate(this.props.tempName))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t;t.i18n;return r.a.createElement("div",null,r.a.createElement("div",{class:"modal fade",id:"add-plan",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},a("modals.project_plan.heading")),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("input",{type:"hidden",ref:function(t){e.itemsInput=t},id:"items"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.est_timeInput=t},id:"est_time"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.sub_totalInput=t},id:"sub_total"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.taxInput=t},id:"tax"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.profitInput=t},id:"profit"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.tax_calcInput=t},id:"tax_calc"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.profit_calcInput=t},id:"profit_calc"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.items_costInput=t},id:"items_cost"}),r.a.createElement("input",{type:"hidden",ref:function(t){e.totalInput=t},id:"total"}),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,a("modals.project_plan.select_area")),r.a.createElement("select",{onChange:this.changePhase,className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.area.map((function(e,t){var a=e.area_id,n=e.area_identifier;return r.a.createElement("option",{value:a},n)}))))),r.a.createElement("div",{class:"col-md"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,a("modals.project_plan.template_name")),r.a.createElement("div",{class:"flex-group"},r.a.createElement("select",{onChange:this.handleName,name:"type",class:"form-control"},r.a.createElement("option",null,"--Name--"),this.state.template_names.map((function(e,t){var a=e.template_name;return r.a.createElement("option",{value:a},a)})))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,a("modals.project_plan.add_work_phase")),r.a.createElement("div",{class:"flex-group"},r.a.createElement("select",{onChange:this.handleSelect,name:"phase",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.phases.map((function(e,t){var a=e.aw_id,n=e.aw_identifier;if(void 0!==a)return r.a.createElement("option",{value:n},n)}))),r.a.createElement("button",{onClick:this.handleAppend,class:"btn btn-primary"},a("modals.project_plan.add")))))),r.a.createElement("p",null,a("modals.project_plan.note")," "),r.a.createElement("div",{class:"table-responsive-sm scroller mt-3"},r.a.createElement("table",{id:"mytable",className:"table table-bordered table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-right"},r.a.createElement("th",{className:"text-left"},a("modals.project_plan.items")),r.a.createElement("th",null,a("modals.project_plan.duration")),r.a.createElement("th",null,a("modals.project_plan.cost_hr")),r.a.createElement("th",null,a("modals.project_plan.total_cost")))),r.a.createElement("tbody",null,this.state.row_phase.map((function(t,a){return r.a.createElement(Ke,{phase:t,key:a,items:e.state.items})})),r.a.createElement("tr",{style:{lineHeight:"30px",fontWeight:"bold"},className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},a("project_planning.est_time")),r.a.createElement("td",{"data-label":"Duration(hrs): ",id:"1result"},this.state.est_time),r.a.createElement("td",{"data-label":"Cost/hr: "}),r.a.createElement("td",{"data-label":"Total cost: "})),r.a.createElement("tr",null,r.a.createElement("td",{"data-label":"Items: "},"\xa0"),r.a.createElement("td",{"data-label":"Duration(hrs): "}),r.a.createElement("td",{"data-label":"Cost/hr: "}),r.a.createElement("td",{"data-label":"Total cost: "})),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "}),r.a.createElement("td",{"data-label":"Duration(hrs): "},this.props.left," ",a("project_planning.sub_total")," ",this.props.right),r.a.createElement("td",{"data-label":"Cost/hr: ",id:"2result"},this.state.sub_total),r.a.createElement("td",{"data-label":"Total cost: ",id:"3result"},this.state.items_cost)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},a("project_planning.tax"),"%"),r.a.createElement("td",{"data-label":"Duration(hrs): ",className:"tax",contenteditable:"true"},this.state.tax),r.a.createElement("td",{colSpan:"2","data-label":"Total cost: ",className:"tax_res"},this.state.tax_calc)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},a("project_planning.profit"),"%"),r.a.createElement("td",{"data-label":"Duration(hrs): ",className:"profit",contenteditable:"true"},this.state.profit),r.a.createElement("td",{"data-label":"Duration(hrs): "}),r.a.createElement("td",{"data-label":"Total cost: ",className:"profit_res"},this.state.profit_calc)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{"data-label":"Items: "},this.props.left," ",a("project_planning.total")," ",this.props.right),r.a.createElement("td",{colSpan:"3","data-label":"Duration(hrs): ",className:"total"},this.state.total)))),r.a.createElement("button",{onClick:this.handleItemsAdd,"data-dismiss":"modal","aria-label":"Close",disabled:!this.state.loaded,type:"button",class:"btn btn-primary mt-3 clk1"},a("modals.project_plan.add_to_proposal")),r.a.createElement("button",{style:{float:"right"},"data-dismiss":"modal","aria-label":"Close",disabled:!this.state.loaded,type:"button",onClick:this.updateData,class:"btn btn-success mt-3 clk"},a("modals.project_plan.update_proposal"))))))))}}]),a}(n.Component),Ke=function(e){return r.a.createElement("tr",{className:"text-right i-val customerIDCell"},r.a.createElement("td",{"data-value":e.phase.items,className:"text-left ","data-label":"Items: "},r.a.createElement("span",{class:"remove-row",id:"myRemove"},"\xd7"),e.phase.items),r.a.createElement("td",{className:"duration ",contenteditable:"true","data-label":"Duration(hrs): "},e.phase.dur),r.a.createElement("td",{className:"cost_hr ",contenteditable:"true","data-label":"Cost/hr: "},e.phase.cost),r.a.createElement("td",{className:"mat_cost","data-label":"Total cost: "},e.phase.mat))},$e=Object(b.a)()(Xe),et=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.businessInfo,a=e.userInfo,n=e.t;e.i18n;return r.a.createElement("div",{className:"modal fade",id:"preview-info",tabindex:"-1",role:"dialog","aria-labelledby":"previewModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-xl modal-dialog-centered preview-modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"pdf-section"},r.a.createElement("div",{className:"pdf-header"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:E+"/images/marketplace/company_logo/"+t.company_logo,alt:"logo"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,r.a.createElement("b",null,t.company_id),r.a.createElement("br",null),r.a.createElement("b",null,"".concat(t.first_name," ").concat(t.last_name)),r.a.createElement("br",null),r.a.createElement("b",null,t.email),r.a.createElement("br",null)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement("address",null,r.a.createElement("br",null),t.address,r.a.createElement("br",null),n("proposal_pdf.phone_no")," ",t.phone,r.a.createElement("br",null),n("proposal_pdf.business_ID")," ",t.id,r.a.createElement("br",null),n("proposal_pdf.other_info"))),r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement("address",null,r.a.createElement("p",{className:"mb-2"},n("proposal_pdf.proposal_to")),r.a.createElement("br",null),a.client_id,r.a.createElement("br",null))),r.a.createElement("div",{className:"col-md-12 col-lg-4"}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"float-md-right float-sm-none"},r.a.createElement("h2",null,n("proposal_pdf.proposal")),r.a.createElement("address",null,n("proposal_pdf.req")," ","".concat(t.user_id).concat(a.proposal_id),r.a.createElement("br",null),n("proposal_pdf.prop_date")," ",a.date,r.a.createElement("br",null),n("proposal_pdf.due_date")," ",a.due_date,r.a.createElement("br",null)))))),r.a.createElement("div",{className:"pdf-content"},r.a.createElement("h2",null,n("proposal_pdf.proposal_summary")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-12 mb-4 mb-lg-0"},r.a.createElement("h4",null,n("proposal_pdf.total_cost")),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.work_cost")),r.a.createElement("td",{className:"text-right"},a.left," ",a.workTotal," ",a.right)),r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.material_cost")),r.a.createElement("td",{className:"text-right"},a.left," ",a.matTotal," ",a.right)),r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.total_cost")),r.a.createElement("td",{className:"text-right"},a.left," ",Number(a.workTotal)+Number(a.matTotal)," ",a.right))))),r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h4",null,n("proposal_pdf.mat_pay")),r.a.createElement("div",{className:"border p-3",style:{height:"110px"}},r.a.createElement("p",null,a.mat_pay,"."))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.work_pay")),r.a.createElement("div",{className:"border p-3",style:{height:"110px"}},r.a.createElement("p",null,a.work_pay)))),r.a.createElement("h3",null,n("proposal_pdf.project_plan")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h5",null,n("proposal_pdf.work")),r.a.createElement("table",{className:"table table-striped small"},r.a.createElement("tbody",null,null===a.workItems?null:JSON.parse(a.workItems).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.items))}))))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h5",null,n("proposal_pdf.material")),r.a.createElement("table",{className:"table table-striped small"},r.a.createElement("tbody",null,null===a.matItems?null:JSON.parse(a.matItems).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.items))}))))),r.a.createElement("div",{className:"col-lg-4 col-md-12"})),r.a.createElement("h2",null,n("proposal_pdf.proposal_details")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h4",null,n("proposal_pdf.guarantee_for_work")),r.a.createElement("div",{className:"border p-3",style:{height:"110px"}},r.a.createElement("p",null,a.work))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.insurance")),r.a.createElement("div",{className:"border p-3",style:{height:"110px"}},r.a.createElement("p",null,a.insurance))),r.a.createElement("div",{className:"col-lg-4 col-md-12"})),r.a.createElement("br",null),r.a.createElement("p",{className:"h3 mb-3"},r.a.createElement("b",null,n("proposal_pdf.start_date"))," ",a.start_date),r.a.createElement("p",{className:"h3"},r.a.createElement("b",null,n("proposal_pdf.end_date"))," ",a.end_date),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"pdf-footer"},r.a.createElement("p",null,n("proposal_pdf.brand"))))))))}}]),a}(n.Component),tt=Object(b.a)()(et),at=a(35),nt=[],rt=[],lt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={logo:null,attachment:null,attachment_pre:null,logo_preview:null,customer:"",email:"",emails:[],date:"",mat_pay:"",other:"",work_pay:"",work:"",insurance:"",due_date:"",sdate:"",edate:"",business_info:[],error:null,name:null,errors:[],show_errors:!1,show_msg:!1,loading:!1,tender_id:0,proposal_id:0,selectedOption:null,userEmail:null,client_id:null,type:"all",workItems:null,workTotal:0,matItems:null,matTotal:0,work_template_name:"",mat_template_name:"",template_name:"",mat_template_id:0,work_template_id:0,proposal_status:0,proposal_client_type:0,left:null,right:null},e.componentDidMount=function(){void 0!==e.props.match.params.customer&&(e.setState({tender_id:e.props.match.params.tender}),e.getEmail(e.props.match.params.customer)),void 0!==e.props.match.params.customer&&void 0!==e.props.match.params.draft&&e.setData(e.props.match.params.tender),e.loadResources(),e.loadClient(),e.loadProposalID(),e.loadConfig(),e.myRef=r.a.createRef()},e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.setData=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.get("".concat(E,"/api/proposal/get/byID/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){var a=t.data[0],n=a.proposal_tender_id,r=a.work,l=a.mat,s=a.proposal_client_type,c=a.proposal_attachment,o=a.emails,i=a.date,m=a.proposal_material_payment,d=a.proposal_other,u=a.proposal_work_payment,p=a.proposal_work_guarantee,h=a.proposal_insurance,g=a.proposal_due_date,f=a.proposal_start_date,_=a.proposal_end_date,E=a.proposal_status,v=a.email,b=a.proposal_names;e.setState({tender_id:n,emails:o?o.split(","):[],date:i,mat_pay:m,other:d,work_pay:u,work:p,insurance:h,due_date:g,sdate:f,edate:_,userEmail:v,attachment_pre:c,name:b,matItems:l.items,matTotal:l.total,mat_template_name:l.template_name,mat_template_id:l.id,workItems:r.items,workTotal:r.total,work_template_name:r.template_name,work_template_id:r.id,proposal_status:E,proposal_client_type:s})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getEmail=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.get("".concat(E,"/api/users/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({userEmail:t.data[0].email})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleworkItems=function(t,a,n,r,l){console.log(l),"Material"==n&&e.setState({matItems:t,matTotal:a,mat_template_name:r,mat_template_id:l}),"Work"==n&&e.setState({workItems:t,workTotal:a,work_template_name:r,work_template_id:l})},e.loadProposalID=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/proposal/get/latest"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){0===Object.keys(t.data).length&&t.data.constructor===Object?e.setState({proposal_id:1}):e.setState({proposal_id:t.data.proposal_id+1})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadResources=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/resources-list"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.data.data.map((function(e){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),nt.push(t)}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.loadClient=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/resources-list/Client"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.data.data.map((function(e){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),rt.push(t)}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.handleAuto=function(t){e.setState({selectedOption:t})},e.handleBusinessInfo=function(t){e.setState({business_info:t}),e.setState({work:e.state.business_info.work,insurance:e.state.business_info.insurance})},e.handleChange1=function(t){e.setState({logo:null}),"jpeg"==t.target.files[0].name.split(".").pop()||"png"==t.target.files[0].name.split(".").pop()||"jpg"==t.target.files[0].name.split(".").pop()||"gif"==t.target.files[0].name.split(".").pop()||"svg"==t.target.files[0].name.split(".").pop()?e.setState({logo:t.target.files[0],logo_preview:URL.createObjectURL(t.target.files[0])}):(e.setState({logo:null}),alert("File type not supported"))},e.handleChange7=function(t){return t.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=t.target.files[0].name.split(".").pop()&&"docx"!=t.target.files[0].name.split(".").pop()&&"doc"!=t.target.files[0].name.split(".").pop()?(e.setState({attachment:null}),alert("File type not supported")):void e.setState({attachment:t.target.files[0]})},e.handleDelete=function(t){e.setState({emails:e.state.emails.filter((function(e){return e!==t}))})},e.handlePaste=function(t){t.preventDefault();var a=t.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(a){var n=a.filter((function(t){return!e.isInList(t)}));e.setState({emails:[].concat(Object(He.a)(e.state.emails),Object(He.a)(n))})}},e.handleChange2=function(t){var a,n=t.target,r=n.name,l=n.value;e.setState((a={},Object(Ee.a)(a,r,l),Object(Ee.a)(a,"error",null),a))},e.handleRes=function(t){var a=t.value;e.setState({email:a,error:null})},e.handleKeyDown=function(t){if(["Enter","Tab",","].includes(t.key)){t.preventDefault();var a=e.state.email.trim();a&&e.isValid(a)&&e.setState({emails:[].concat(Object(He.a)(e.state.emails),[e.state.email]),email:""})}},e.handleChange3=function(t){e.setState({date:G()(t._d).format("DD-MM-YYYY")})},e.handleChange4=function(t){e.setState({due_date:G()(t._d).format("DD-MM-YYYY")})},e.handleChange5=function(t){e.setState({sdate:G()(t._d).format("DD-MM-YYYY")})},e.handleChange6=function(t){e.setState({edate:G()(t._d).format("DD-MM-YYYY")})},e.handleDraft=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),0===e.state.tender_id&&void 0===e.props.match.params.draft){t.next=5;break}n=e.props.match.params.customer,t.next=8;break;case 5:if(null!==e.state.selectedOption){t.next=7;break}return t.abrupt("return",alert("please select a resource"));case 7:n=e.state.selectedOption.value;case 8:return t.next=10,localStorage.getItem("token");case 10:r=t.sent,e.setState({loading:!0}),(l=new FormData).set("proposal_request_id",e.requestInput.value),l.set("proposal_tender_id",e.state.tender_id),l.set("proposal_client_id",n),l.set("emails",e.state.emails),l.set("date",e.state.date),l.set("proposal_material_payment",e.state.mat_pay),l.set("proposal_other",e.state.other),l.set("proposal_work_payment",e.state.work_pay),l.set("proposal_work_guarantee",e.state.work),l.set("proposal_insurance",e.state.insurance),l.set("proposal_due_date",e.state.due_date),l.set("proposal_start_date",e.state.sdate),l.set("proposal_end_date",e.state.edate),l.set("sent",0),l.set("proposal_client_type",e.state.proposal_client_type),l.set("work_template_id",e.state.work_template_id),l.set("mat_template_id",e.state.mat_template_id),l.set("proposal_names",e.state.name),l.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/proposal/create"),l,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){e.setState({show_msg:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})),s=Object(Ie.a)(l.entries());try{for(s.s();!(c=s.n()).done;)o=c.value,console.log(o[0]+", "+o[1])}catch(i){s.e(i)}finally{s.f()}case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=void 0!==e.props.match.params.draft?e.props.match.params.customer:e.state.selectedOption.value,t.next=4,localStorage.getItem("token");case 4:r=t.sent,e.setState({loading:!0}),(l=new FormData).set("proposal_request_id",e.requestInput.value),l.set("proposal_tender_id",e.state.tender_id),l.set("proposal_client_id",n),l.set("emails",e.state.emails),l.set("date",e.state.date),l.set("proposal_material_payment",e.state.mat_pay),l.set("proposal_other",e.state.other),l.set("proposal_work_payment",e.state.work_pay),l.set("proposal_work_guarantee",e.state.work),l.set("proposal_insurance",e.state.insurance),l.set("proposal_due_date",e.state.due_date),l.set("proposal_start_date",e.state.sdate),l.set("proposal_end_date",e.state.edate),l.set("proposal_client_type",e.state.proposal_client_type),l.set("work_template_id",e.state.work_template_id),l.set("mat_template_id",e.state.mat_template_id),l.set("proposal_names",e.state.name),l.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/proposal/put"),l,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){e.setState({show_msg:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})),s=Object(Ie.a)(l.entries());try{for(s.s();!(c=s.n()).done;)o=c.value,console.log(o[0]+", "+o[1])}catch(i){s.e(i)}finally{s.f()}case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.state.matItems&&null!==e.state.workItems){t.next=2;break}return t.abrupt("return",alert("Please select templates before submission"));case 2:if(0===e.state.tender_id&&void 0===e.props.match.params.draft){t.next=6;break}n=e.props.match.params.customer,t.next=9;break;case 6:if(null!==e.state.selectedOption){t.next=8;break}return t.abrupt("return",alert("please select a resource"));case 8:n=e.state.selectedOption.value;case 9:return t.next=11,localStorage.getItem("token");case 11:r=t.sent,e.setState({loading:!0}),(l=new FormData).set("proposal_request_id",e.requestInput.value),l.set("proposal_tender_id",e.state.tender_id),l.set("proposal_client_id",n),l.set("emails",e.state.emails),l.set("date",e.state.date),l.set("proposal_material_payment",e.state.mat_pay),l.set("proposal_other",e.state.other),l.set("proposal_work_payment",e.state.work_pay),l.set("proposal_work_guarantee",e.state.work),l.set("proposal_insurance",e.state.insurance),l.set("proposal_due_date",e.state.due_date),l.set("proposal_start_date",e.state.sdate),l.set("proposal_end_date",e.state.edate),l.set("sent",a),l.set("proposal_client_type",e.state.proposal_client_type),l.set("work_template_id",e.state.work_template_id),l.set("mat_template_id",e.state.mat_template_id),l.set("logo",e.state.business_info.company_logo),l.set("company_id",e.state.business_info.company_id),l.set("names","".concat(e.state.business_info.first_name," ").concat(e.state.business_info.last_name)),l.set("email",e.state.business_info.email),l.set("address",e.state.business_info.address),l.set("phone",e.state.business_info.phone),l.set("bussiness_id",e.state.business_info.id),l.set("workTotal",e.state.workTotal),l.set("matTotal",e.state.matTotal),l.set("matItems",JSON.parse(e.state.matItems).map((function(e){return e.items}))),l.set("workItems",JSON.parse(e.state.workItems).map((function(e){return e.items}))),l.set("proposal_names",e.state.name),l.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/proposal/create"),l,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){e.setState({show_msg:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})),s=Object(Ie.a)(l.entries());try{for(s.s();!(c=s.n()).done;)o=c.value,console.log(o[0]+", "+o[1])}catch(i){s.e(i)}finally{s.f()}case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.hiddenFields=function(){e.setState({client_id:0!==e.state.tender_id||void 0!==e.props.match.params.draft?e.state.userEmail:e.state.selectedOption.value})},e}return Object(m.a)(a,[{key:"isValid",value:function(e){var t=null;return this.isInList(e)&&(t="".concat(e," has already been added.")),this.isEmail(e)||(t="".concat(e," is not a valid email address.")),!t||(this.setState({error:t}),!1)}},{key:"isInList",value:function(e){return this.state.emails.includes(e)}},{key:"isEmail",value:function(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.t,s=(n.i18n,{client_id:this.state.client_id,proposal_id:this.state.proposal_id,date:this.state.date,due_date:this.state.due_date,workTotal:this.state.workTotal,matTotal:this.state.matTotal,mat_pay:this.state.mat_pay,work_pay:this.state.work_pay,matItems:this.state.matItems,workItems:this.state.workItems,work:this.state.work,insurance:this.state.insurance,start_date:this.state.sdate,end_date:this.state.edate,left:this.state.left,right:this.state.right});!0===this.state.show_errors&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px",zIndex:1}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),!0===this.state.show_msg&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},l("success.prop_ins"))),!0===this.state.loading&&(t=r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")));var c=this.state.selectedOption,o="update"===this.props.match.params.draft?this.props.match.params.tender:"".concat(this.state.business_info.user_id).concat(this.state.proposal_id);return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},l("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},l("b_sidebar.proposal.proposal")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},l("c_material_list.listing.create")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-md-flex justify-content-between",style:{maxWidth:"1120px"}},r.a.createElement("h3",{className:"head3"},l("myproposal.cre_prop")),r.a.createElement("div",{className:"mt-md-n3 mt-sm-4 mb-sm-4 mb-md-0"},r.a.createElement("button",{onClick:this.hiddenFields,className:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0","data-toggle":"modal","data-target":"#preview-info"},"Preview Proposal"),void 0!==this.props.match.params.draft?r.a.createElement("button",{onClick:this.handleUpdate,class:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0"},"Update as a draft"):t||r.a.createElement("button",{onClick:this.handleDraft,class:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0"},"Save as a draft"),r.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-sm btn-primary mb-3 mb-sm-0"},"Submit & Send"))),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"file-select file-sel inline"},r.a.createElement("label",{for:"attachment1",style:{width:"70%"}},r.a.createElement("img",{src:null===this.state.business_info.company_logo?ne.a:E+"/images/marketplace/company_logo/"+this.state.business_info.company_logo,alt:""})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("a",{"data-toggle":"collapse",href:"#business-info",role:"button","aria-expanded":"false","aria-controls":"business-info"},"[+]")," ",l("myproposal.buss_info")," ",r.a.createElement("a",{href:"#","data-toggle":"modal","data-target":"#edit-info"},"Edit")),r.a.createElement("div",{className:"collapse",id:"business-info"},r.a.createElement("div",{className:"form-detail"},r.a.createElement("p",null,this.state.business_info.company_id),r.a.createElement("p",null,"".concat(this.state.business_info.first_name," ").concat(this.state.business_info.last_name)),r.a.createElement("p",null),r.a.createElement("p",null,this.state.business_info.email),r.a.createElement("p",null,this.state.business_info.company_website)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"customer-info"},l("myproposal.cus_info")),0!==this.state.tender_id||void 0!==this.props.match.params.draft?r.a.createElement("input",{id:"customer-info",class:"form-control",type:"text",value:this.state.userEmail,readOnly:!0}):r.a.createElement(at.a,{value:c,onChange:this.handleAuto,options:rt})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"mails",style:{marginRight:"60%"}},l("myproposal.mail_multi")),this.state.emails.map((function(e){return r.a.createElement("div",{className:"tag-item",key:e},e,r.a.createElement("button",{type:"button",className:"button",onClick:function(){return a.handleDelete(e)}},"\xd7"))})),r.a.createElement(at.a,{onChange:this.handleRes,options:nt,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste}),this.state.error&&r.a.createElement("p",{className:"error"},this.state.error),r.a.createElement("small",{className:"form-text text-muted"},"eg ",l("myproposal.eg")))),r.a.createElement("div",{className:"col-lg-7 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"request-id"},l("myproposal.req_id")),r.a.createElement("input",{id:"request-id",className:"form-control",type:"text",ref:function(e){a.requestInput=e},value:o,readOnly:"readOnly"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"date"},l("myproposal.date")),r.a.createElement(se.a,{onChange:function(e){return a.handleChange3(e)},id:"date",name:"date",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.date})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"due-date"},l("myproposal.due_date")),r.a.createElement(se.a,{onChange:function(e){return a.handleChange4(e)},id:"due-date",name:"due-date",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.due_date})))),r.a.createElement("div",{className:"mt-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("h2",{className:"head2 mb-5"},l("myproposal.proposal_summary")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Total cost for bid"),r.a.createElement("div",{className:"form-detail"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,l("myproposal.work_total"))),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,this.state.left," ",this.state.workTotal," ",this.state.right))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,l("myproposal.material_total"))),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,this.state.left," ",this.state.matTotal," ",this.state.right))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Total cost")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,this.state.left," ",Number(this.state.workTotal)+Number(this.state.matTotal)," ",this.state.right))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"m-payment"},l("myproposal.mat_pay")),r.a.createElement("select",{value:this.state.mat_pay,onChange:this.handleChange2,name:"mat_pay",id:"m-payment",className:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Payment aftre total delivery"),r.a.createElement("option",null,"payment after project done"),r.a.createElement("option",null,"As per inovice"),r.a.createElement("option",{value:"other"},"Custom message"))),r.a.createElement("div",{className:"form-group",id:"custom-message",style:{display:"none"}},r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange2,name:"other",value:this.state.other,placeholder:"Other message"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"work-payment"},l("myproposal.work_pay")),r.a.createElement("select",{value:this.state.work_pay,onChange:this.handleChange2,name:"work_pay",id:"work-payment",className:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Payment aftre work"),r.a.createElement("option",null,"Payment aftre work"),r.a.createElement("option",null,"Payment aftre work"),r.a.createElement("option",null,"Pay hourly")))),r.a.createElement("div",{className:"col-lg-7 col-md-6"},r.a.createElement("h2",{className:"head2 mb-5"},l("myproposal.project_plan")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"plan-list"},r.a.createElement("div",{className:"row gutters-24"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("button",{className:"btn btn-light add-plan","data-toggle":"modal","data-target":"#add-plan",onClick:function(){return a.setState({type:"Work"})}},l("myproposal.work_cost"))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("button",{className:"btn btn-light add-plan","data-toggle":"modal","data-target":"#add-plan",onClick:function(){return a.setState({type:"Material"})}},l("myproposal.mat_cost")))),r.a.createElement("h3",null,l("feeds.search.work"),r.a.createElement("span",{className:"edit-plan","data-toggle":"modal","data-target":"#add-plan",onClick:function(){return a.setState({template_name:a.state.work_template_name})}},r.a.createElement("i",{className:"icon-edit"}))),r.a.createElement("ul",null,null===this.state.workItems?null:JSON.parse(this.state.workItems).map((function(e){return r.a.createElement("li",null,e.items)}))),r.a.createElement("h3",null,l("feeds.search.material"),r.a.createElement("span",{className:"edit-plan","data-toggle":"modal","data-target":"#add-plan",onClick:function(){return a.setState({template_name:a.state.mat_template_name})}},r.a.createElement("i",{className:"icon-edit"}))),r.a.createElement("ul",null,null===this.state.matItems?null:JSON.parse(this.state.matItems).map((function(e){return r.a.createElement("li",null,e.items)}))),r.a.createElement("span",null))))),r.a.createElement("div",{className:"mt-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h2",{className:"head2"},l("myproposal.proposal_details"))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"work"},l("myproposal.guarantees_for_work")),r.a.createElement("textarea",{maxLength:"162",id:"work",onChange:this.handleChange2,name:"work",value:this.state.work,className:"form-control",placeholder:"User can add open text here"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"insurance"},l("myproposal.insurance")),r.a.createElement("textarea",{maxLength:"162",id:"insurance",onChange:this.handleChange2,name:"insurance",value:this.state.insurance,className:"form-control",placeholder:"User can add open text here"}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{for:"sdate"},l("c_material_list.listing.start_date")),r.a.createElement(se.a,{onChange:function(e){return a.handleChange5(e)},id:"sdate",name:"sdate",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.sdate})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement("p",{className:"saprator"},"to")),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{for:"edate"},l("c_material_list.listing.end_date")),r.a.createElement(se.a,{onChange:function(e){return a.handleChange6(e)},id:"edate",name:"edate",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.edate})))),r.a.createElement("div",{className:"col-xl-9 col-lg-10"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"issues"},l("c_material_list.request.attachment")),r.a.createElement("div",{className:"file-select inline"},r.a.createElement("input",{onChange:this.handleChange7,type:"file",id:"attachments",name:"attachments"}),r.a.createElement("label",{for:"attachments"},r.a.createElement("img",{src:ne.a,alt:"upload"}),r.a.createElement("span",{className:"status"},"Upload attachments"))),this.state.attachment_pre?r.a.createElement("label",{for:"attachments"},r.a.createElement("a",{href:E+"/images/marketplace/proposal/"+this.state.attachment_pre,target:"_blank",class:"attachment"},r.a.createElement("i",{class:"icon-paperclip"}),this.state.attachment_pre)):null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"name"},l("myproposal.name")),r.a.createElement("input",{id:"name",className:"form-control",type:"text",name:"name",value:this.state.name,onChange:this.handleChange2,placeholder:"Enter name"}))),r.a.createElement("div",{className:"mt-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:this.hiddenFields,className:"btn btn-gray mb-md-0 mb-3 mr-4","data-toggle":"modal","data-target":"#preview-info"},"Preview Proposal"),void 0!==this.props.match.params.draft?r.a.createElement("button",{onClick:this.handleUpdate,class:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0"},"Update as a draft"):t||r.a.createElement("button",{onClick:this.handleDraft,class:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0"},"Save as a draft"),r.a.createElement("button",{onClick:function(){return a.handleSubmit(1)},className:"btn btn-sm btn-primary mb-3 mr-4 mb-sm-0"},"Submit & Send"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement(Ve,{onInfo:this.handleBusinessInfo}),r.a.createElement($e,{onSelectWorkTemplate:this.handleworkItems,tempName:this.state.template_name,onType:this.state.type,left:this.state.left,right:this.state.right}),r.a.createElement(tt,{businessInfo:this.state.business_info,userInfo:s}))))}}]),a}(n.Component),st=Object(b.a)()(lt),ct=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={feeds:[],proposal_id:0,proposal_client_id:0,proposal_client_type:"",drafts:[],agreement_client_id:0,agreement_request_id:0,draft:""},e.componentDidMount=function(){e.loadProposal(),e.loadDrafts()},e.loadProposal=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/agreement/get/proposals"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&e.setState({feeds:n.data});case 7:case"end":return t.stop()}}),t)}))),e.loadDrafts=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,t.next=5,_.a.get("".concat(E,"/api/agreement/get/drafts"),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===(n=t.sent).status&&e.setState({drafts:n.data});case 7:case"end":return t.stop()}}),t)}))),e.handleNameChange=function(t){var a=t.target.options.selectedIndex,n=e.state.feeds[a-1],r=n.proposal_id,l=n.proposal_client_id,s=n.proposal_client_type;e.setState({proposal_id:r,proposal_client_id:l,proposal_client_type:s})},e.handleNameChange1=function(t){var a=t.target.options.selectedIndex,n=e.state.drafts[a-1],r=n.agreement_client_id,l=n.agreement_request_id,s=n.draft;e.setState({agreement_client_id:r,agreement_request_id:l,draft:s})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},t("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},t("b_sidebar.agreement.agreement")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},t("c_material_list.listing.create")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{maxWidth:"1120px",maxHeight:"70vh"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"nav tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/business-agreement-create"},t("myproposal.scratch"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"collapse",href:"#request",role:"button","aria-expanded":"false","aria-controls":"request"},t("myproposal.prop_request"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"collapse",href:"#draft",role:"button","aria-expanded":"false","aria-controls":"draft"},t("myagreement.agr_upd")))),r.a.createElement("div",{className:"collapse",id:"request"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-visible"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"select-proposal"}),"Select proposal / agreement",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("select",{onChange:this.handleNameChange,id:"select-agreement",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.feeds.map((function(e,t){e.proposal_id,e.proposal_client_type;var a=e.tender_title;return r.a.createElement("option",null,"".concat(a))})))),r.a.createElement("div",{className:"col-md-4 mt-md-0 mt-4"},r.a.createElement(c.b,{className:"btn btn-blue",to:{pathname:"/business-agreement-create/".concat(this.state.proposal_id,"/").concat(this.state.proposal_client_type)}},"Create Agreement")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement("div",{className:"collapse",id:"draft"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-visible"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"select-proposal"}),"Select proposal / agreement",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("select",{onChange:this.handleNameChange1,id:"select-agreement",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.drafts.map((function(e,t){e.agreement_request_id,e.agreement_client_type;var a=e.agreement_names;return r.a.createElement("option",null,"".concat(a))})))),r.a.createElement("div",{className:"col-md-4 mt-md-0 mt-4"},r.a.createElement(c.b,{className:"btn btn-blue",to:{pathname:"/business-agreement-create/".concat(this.state.agreement_request_id,"/").concat(this.state.agreement_client_id,"/").concat(this.state.draft)}},"Update Agreement")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))))))))}}]),a}(n.Component),ot=Object(b.a)()(ct),it=Object(b.a)()((function(e){var t=e.businessInfo,a=e.userInfo,n=e.t;return r.a.createElement("div",{className:"modal fade",id:"preview-info",tabIndex:-1,role:"dialog","aria-labelledby":"previewModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-xl modal-dialog-centered preview-modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"pdf-section"},r.a.createElement("div",{className:"pdf-header"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:E+"/images/marketplace/company_logo/"+t.company_logo,alt:"logo"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,r.a.createElement("b",null,t.company_id),r.a.createElement("br",null),r.a.createElement("b",null,"".concat(t.first_name," ").concat(t.last_name)),r.a.createElement("br",null),r.a.createElement("b",null,t.email),r.a.createElement("br",null)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement("address",null,r.a.createElement("br",null),t.address,r.a.createElement("br",null),n("proposal_pdf.phone_no")," ",t.phone,r.a.createElement("br",null),n("proposal_pdf.business_ID")," ",t.id,r.a.createElement("br",null),n("proposal_pdf.other_info"))),r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement("address",null,r.a.createElement("p",{className:"mb-2"},n("proposal_pdf.agreement_to")),r.a.createElement("br",null),a.client_id,r.a.createElement("br",null))),r.a.createElement("div",{className:"col-md-12 col-lg-4"}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"float-md-right float-sm-none"},r.a.createElement("h2",null,n("proposal_pdf.agreement")),r.a.createElement("address",null,n("proposal_pdf.req")," ","".concat(t.user_id).concat(a.agreement_id),r.a.createElement("br",null),n("proposal_pdf.prop_date")," ",a.date,r.a.createElement("br",null),n("proposal_pdf.due_date")," ",a.due_date,r.a.createElement("br",null)))))),r.a.createElement("div",{className:"pdf-content"},r.a.createElement("h2",null,n("proposal_pdf.project_plan")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h5",null,n("proposal_pdf.work")),r.a.createElement("table",{className:"table table-striped small"},r.a.createElement("tbody",null,null!==a.work_template?JSON.parse(a.work_template.items).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.items))})):r.a.createElement("tr",null,r.a.createElement("td",null,"None"))))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h5",null,n("proposal_pdf.material")),r.a.createElement("table",{className:"table table-striped small"},r.a.createElement("tbody",null,null!==a.mat_template?JSON.parse(a.mat_template.items).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.items))})):r.a.createElement("tr",null,r.a.createElement("td",null,"None"))))),r.a.createElement("div",{className:"col-lg-4 col-md-12"})),r.a.createElement("h2",null,n("proposal_pdf.terms")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-12 mb-4 mb-lg-0"},r.a.createElement("h4",null,n("proposal_pdf.total_cost")),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.work_cost")),null!==a.work_template?r.a.createElement("td",{className:"text-right"},a.left," ",a.work_template.total," ",a.right):r.a.createElement("td",{className:"text-right"},a.left," 0 ",a.right)),r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.material_cost")),null!==a.mat_template?r.a.createElement("td",{className:"text-right"},a.left," ",a.mat_template.total," ",a.right):r.a.createElement("td",{className:"text-right"},a.left," 0 ",a.right)),r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.total_cost")),null!==a.mat_template?r.a.createElement("td",{className:"text-right"},a.left," ",Number(a.mat_template.total)+Number(a.work_template.total)," ",a.right):r.a.createElement("td",{className:"text-right"},a.left," 0 ",a.right))))),r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h4",null,n("proposal_pdf.mat_pay")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,a.mat_pay,"."))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.work_pay")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,n("proposal_pdf.terms")," : ",a.agreement_terms,r.a.createElement("br",null)," ",n("proposal_pdf.hourly_price")," :"," ",a.left," ",r.a.createElement("span",{id:"rate_"})," ",a.right)))),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-8 col-md-12 mb-4 mb-lg-0"},r.a.createElement("h4",null,n("proposal_pdf.terms")),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,a.agreement_milestones.length>0?JSON.parse(a.agreement_milestones).map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{class:"text-center"},++t),r.a.createElement("td",null,e.des,r.a.createElement("br",null)),r.a.createElement("td",null,e.due_date),r.a.createElement("td",{class:"text-right"},r.a.createElement("b",null,a.left," ",e.amount," ",a.right)))})):null))),r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h4",null,n("proposal_pdf.trans")),r.a.createElement("div",{className:"border p-3 mb-4",style:{height:42}},r.a.createElement("p",null,"Included")),r.a.createElement("h4",null,n("proposal_pdf.panelty_terms")),r.a.createElement("div",null,r.a.createElement("p",null,a.agreement_panelty,".")))),r.a.createElement("h2",null,n("proposal_pdf.guarantee_insurance")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h4",null,n("proposal_pdf.guarantee_work")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,a.agreement_work_guarantee))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.guarantee_mat")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,a.agreement_material_guarantee))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.agreement_insurance")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,a.agreement_insurances)))),r.a.createElement("h2",null,n("proposal_pdf.legal")),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4 mb-md-0"},r.a.createElement("h4",null,n("proposal_pdf.client_res")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,"".concat(a.agreement_client_res)," ",r.a.createElement("br",null),"custom: ".concat(a.agreement_client_res_other)))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.contractor_res")),r.a.createElement("div",{className:"border p-3",style:{height:110}},r.a.createElement("p",null,"".concat(a.agreement_contractor_res)," ",r.a.createElement("br",null),"custom: ".concat(a.agreement_contractor_res_other)))),r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.legal_terms")),r.a.createElement("div",{className:"form-group"},a.agreement_legal_category?a.agreement_legal_category.split(",").map((function(e){return r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:!0}),r.a.createElement("label",{className:"form-check-label"},e," agreement"))})):null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"pdf-footer"},r.a.createElement("p",null,n("proposal_pdf.brand"))))))))})),mt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={reason:"",rating:null,message:"",feedback:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,(r=new FormData).set("reason",e.state.reason),r.set("message",e.state.message),r.set("feedback",e.state.feedback),r.set("rating",e._rating.value),_.a.post("".concat(E,"/api/rating/create"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){alert("Saved!")})).catch((function(e){alert("Some error occured , try again")}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal fade",id:"closeagreement",tabIndex:-1,role:"dialog","aria-labelledby":"closeAgreementModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-md modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"closeAgreementModalLabel"},"Edit Business Information"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"reason"},"Reason for closing project"),r.a.createElement("input",{id:"reason",className:"form-control",type:"text",name:"reason",placeholder:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Rate the contractor"),r.a.createElement("div",{className:"rating-stars"},r.a.createElement("ul",{id:"stars"},r.a.createElement("li",{className:"star",title:"Poor","data-value":1},r.a.createElement("i",{className:"icon-star-full"})),r.a.createElement("li",{className:"star",title:"Fair","data-value":2},r.a.createElement("i",{className:"icon-star-full"})),r.a.createElement("li",{className:"star",title:"Good","data-value":3},r.a.createElement("i",{className:"icon-star-full"})),r.a.createElement("li",{className:"star",title:"Excellent","data-value":4},r.a.createElement("i",{className:"icon-star-full"})),r.a.createElement("li",{className:"star",title:"WOW!!!","data-value":5},r.a.createElement("i",{className:"icon-star-full"}))),r.a.createElement("span",{className:"count"},r.a.createElement("span",null,"0"),"/5",r.a.createElement("input",{type:"hidden",ref:function(t){e._rating=t},class:"_rating"})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message"},"Message for contractor"),r.a.createElement("input",{id:"message",className:"form-control",type:"text",name:"message",placeholder:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"feedback"},"Flipkoti experience feedback"),r.a.createElement("input",{id:"feedback",className:"form-control",type:"text",name:"feedback",placeholder:!0,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"btn btn-outline-secondary mt-3"},"Confirm"))))))}}]),a}(n.Component),dt=[],ut=[],pt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={logo:null,logo_preview:null,business_info:[],agreement_proposal_id:0,email:"",emails:[],date:"",due_date:"",error:null,agreement_terms:"fixed",agreement_type:"",row_phase:[],mat_pay:"",other:"",work_pay:"",agreement_insurances:"",agreement_milestones:[],agreement_transport_payment:"",agreement_legal_category:"",agreement_client_res:"",agreement_client_res_other:"",agreement_contractor_res:"",agreement_contractor_res_other:"",agreement_additional_work_price:"",agreement_material_guarantee:"",agreement_work_guarantee:"",agreement_panelty:"",agreement_rate:"",agreement_service_fee:"",agreement_estimated_payment:"",attachment:null,attachment_pre:null,name:null,errors:[],show_errors:!1,show_msg:!1,loading:!1,tender_id:0,proposal_id:0,agreement_id:0,selectedOption:null,userEmail:null,client_id:null,configuration_val:null,work_template:null,mat_template:null,agreement_status:0,agreement_client_type:0,left:null,right:null},e.componentDidMount=function(){void 0!==e.props.match.params.customer&&void 0===e.props.match.params.draft&&(e.setState({tender_id:e.props.match.params.tender,agreement_proposal_id:e.props.match.params.tender}),e.setState({userEmail:e.props.match.params.customer}),e.setProposalData(e.props.match.params.tender)),void 0!==e.props.match.params.customer&&void 0!==e.props.match.params.draft&&e.setData(e.props.match.params.tender),e.loadResources(),e.loadClient(),e.loadAgreementID(),e.loadConfig(),e.loadCurrency(),e.myRef=r.a.createRef(),window.localStorage&&(localStorage.getItem("firstLoad")?localStorage.removeItem("firstLoad"):(localStorage.firstLoad=!0,window.location.reload()))},e.loadCurrency=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.setProposalData=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return n=t.sent,t.next=5,_.a.get("".concat(E,"/api/proposal/get/byPID/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:200===(r=t.sent).status&&(l=r.data.data[0],s=l.work_template,c=l.mat_template,e.setState({work_template:s,mat_template:c}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setProposalDataReq=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return n=t.sent,t.next=5,_.a.get("".concat(E,"/api/agreement/get/byRID/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:200===(r=t.sent).status&&(l=r.data.data[0],s=l.work_template,c=l.mat_template,e.setState({work_template:s,mat_template:c}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setData=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.get("".concat(E,"/api/agreement/get/byID/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){var a=t.data[0],n=a.agreement_tender_id,r=a.agreement_proposal_id,l=a.agreement_client_type,s=(a.agreement_client_id,a.agreement_user_id,a.agreement_request_id,a.agreement_other),c=(a.agreement_pdf,a.agreement_attachment),o=a.emails,i=a.date,m=a.agreement_due_date,d=a.agreement_terms,u=a.agreement_type,p=a.agreement_milestones,h=a.agreement_rate,g=a.agreement_service_fee,f=a.agreement_estimated_payment,_=a.agreement_material_payment,E=a.agreement_work_payment,v=a.agreement_work_guarantee,b=a.agreement_material_guarantee,y=a.agreement_transport_payment,N=a.agreement_legal_category,k=a.agreement_client_res,x=a.agreement_contractor_res,w=a.agreement_additional_work_price,S=a.agreement_insurance,C=a.agreement_panelty,j=a.agreement_general,O=a.email,I=a.agreement_status,A=a.agreement_names;e.setState({agreement_proposal_id:r,tender_id:n,emails:o?o.split(","):[],date:i,due_date:m,agreement_terms:d,agreement_type:u,row_phase:JSON.parse(p),agreement_rate:h,agreement_service_fee:g,agreement_estimated_payment:f,mat_pay:_,work_pay:E,agreement_work_guarantee:v,agreement_material_guarantee:b,agreement_transport_payment:y,agreement_legal_category:N,agreement_client_res:k,agreement_contractor_res:x,agreement_additional_work_price:w,agreement_insurances:S,agreement_panelty:C,agreement_general:j,agreement_other:s,userEmail:O,attachment_pre:c,agreement_status:I,agreement_client_type:l,name:A})})).catch((function(e){console.log(e)})),"user"===e.state.agreement_client_type&&e.setProposalDataReq(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadAgreementID=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/agreement/get/latest"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){0===Object.keys(t.data).length&&t.data.constructor===Object?e.setState({agreement_id:1}):e.setState({agreement_id:t.data.agreement_id+1})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/fee"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data.data[0].configuration_val;e.setState({configuration_val:a})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadResources=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/resources-list"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.data.data.map((function(e){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),dt.push(t)}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.loadClient=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/resources-list/Client"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.data.data.map((function(e){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),ut.push(t)}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.handleAuto=function(t){e.setState({selectedOption:t})},e.handleBusinessInfo=function(t){e.setState({business_info:t}),e.setState({agreement_work_guarantee:e.state.business_info.agreement_work_guarantee,agreement_material_guarantee:e.state.business_info.agreement_material_guarantee,agreement_insurances:e.state.business_info.agreement_insurances,agreement_panelty:e.state.business_info.agreement_panelty})},e.handleAppend=function(t){t.preventDefault();var a=e.state.row_phase,n="des".concat(",","due_date",",","amount").split(","),r={};["des","due_date","amount"].forEach((function(e,t){return r[e]=n[t]})),a.push(r),e.setState({row_phase:a})},e.handleDelete=function(t){e.setState({emails:e.state.emails.filter((function(e){return e!==t}))})},e.handlePaste=function(t){t.preventDefault();var a=t.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(a){var n=a.filter((function(t){return!e.isInList(t)}));e.setState({emails:[].concat(Object(He.a)(e.state.emails),Object(He.a)(n))})}},e.handleChange2=function(t){var a,n=t.target,r=n.name,l=n.value;e.setState((a={},Object(Ee.a)(a,r,l),Object(Ee.a)(a,"error",null),a))},e.handleRes=function(t){var a=t.value;e.setState({email:a,error:null}),console.log(e.state.emails)},e.handleKeyDown=function(t){if(["Enter","Tab",","].includes(t.key)){t.preventDefault();var a=e.state.email.trim();a&&e.isValid(a)&&e.setState({emails:[].concat(Object(He.a)(e.state.emails),[e.state.email]),email:""})}},e.handleChange3=function(t){e.setState({date:G()(t._d).format("DD-MM-YYYY")})},e.handleChange4=function(t){e.setState({due_date:G()(t._d).format("DD-MM-YYYY")})},e.handleChange7=function(t){return t.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=t.target.files[0].name.split(".").pop()&&"docx"!=t.target.files[0].name.split(".").pop()&&"doc"!=t.target.files[0].name.split(".").pop()?(e.setState({attachment:null}),alert("File type not supported")):void e.setState({attachment:t.target.files[0]})},e.handleDraft=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(null===e.state.selectedOption&&void 0!==e.props.match.params.draft||null===e.state.selectedOption&&0===e.state.tender_id)){t.next=3;break}return t.abrupt("return",alert("please select a resource"));case 3:return n=0!==e.state.tender_id?e.props.match.params.customer:e.state.selectedOption.value,r="hourly"===e.state.agreement_terms?"hourly":e.state.agreement_type,t.next=7,localStorage.getItem("token");case 7:l=t.sent,(s=new FormData).set("agreement_request_id",e.requestInput.value),s.set("agreement_tender_id",0),s.set("agreement_client_id",n),s.set("agreement_proposal_id",e.state.agreement_proposal_id),s.set("emails",e.state.emails),s.set("date",e.state.date),s.set("agreement_terms",e.state.agreement_terms),s.set("agreement_type",r),s.set("agreement_material_payment",e.state.mat_pay),s.set("agreement_insurance",e.state.agreement_insurances),s.set("agreement_other",e.state.other),s.set("agreement_work_payment",e.state.work_pay),s.set("agreement_work_guarantee",e.state.agreement_work_guarantee),s.set("agreement_legal_category",e.agreement_legal_category.value),s.set("agreement_client_res",e.agreement_client_res.value),s.set("agreement_contractor_res",e.agreement_contractor_res.value),s.set("sent",0),s.set("agreement_additional_work_price",e.state.agreement_additional_work_price),s.set("agreement_material_guarantee",e.state.agreement_material_guarantee),s.set("agreement_transport_payment",e.state.agreement_transport_payment),s.set("agreement_due_date",e.state.due_date),s.set("agreement_panelty",e.state.agreement_panelty),s.set("agreement_rate",e._c_total.value),s.set("agreement_milestones",e._milestone.value),s.set("agreement_service_fee",e._fee.value),s.set("agreement_estimated_payment",e.est_pay.value),s.set("agreement_names",e.state.name),s.set("agreement_client_res_other",e.state.agreement_client_res_other),s.set("agreement_contractor_res_other",e.state.agreement_contractor_res_other),s.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/agreement/create"),s,{headers:{Authorization:"Bearer ".concat(l)}}).then((function(t){console.log(t),e.setState({show_msg:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})),c=Object(Ie.a)(s.entries());try{for(c.s();!(o=c.n()).done;)i=o.value,console.log(i[0]+", "+i[1])}catch(m){c.e(m)}finally{c.f()}case 42:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.state.tender_id&&void 0===e.props.match.params.draft){t.next=4;break}n=e.props.match.params.customer,t.next=7;break;case 4:if(null!==e.state.selectedOption){t.next=6;break}return t.abrupt("return",alert("please select a resource"));case 6:n=e.state.selectedOption.value;case 7:return r="hourly"===e.state.agreement_terms?"hourly":e.state.agreement_type,t.next=10,localStorage.getItem("token");case 10:l=t.sent,(s=new FormData).set("agreement_request_id",e.requestInput.value),s.set("agreement_tender_id",0),s.set("agreement_client_id",n),s.set("agreement_proposal_id",e.state.agreement_proposal_id),s.set("emails",e.state.emails),s.set("date",e.state.date),s.set("agreement_terms",e.state.agreement_terms),s.set("agreement_type",r),s.set("agreement_material_payment",e.state.mat_pay),s.set("agreement_insurance",e.state.agreement_insurances),s.set("agreement_other",e.state.other),s.set("agreement_work_payment",e.state.work_pay),s.set("agreement_work_guarantee",e.state.agreement_work_guarantee),s.set("agreement_legal_category",e.agreement_legal_category.value),s.set("agreement_client_res",e.agreement_client_res.value),s.set("agreement_client_res_other",e.state.agreement_client_res_other),s.set("agreement_contractor_res",e.agreement_contractor_res.value),s.set("agreement_contractor_res_other",e.state.agreement_contractor_res_other),s.set("agreement_additional_work_price",e.state.agreement_additional_work_price),s.set("agreement_material_guarantee",e.state.agreement_material_guarantee),s.set("agreement_transport_payment",e.state.agreement_transport_payment),s.set("agreement_due_date",e.state.due_date),s.set("agreement_panelty",e.state.agreement_panelty),s.set("agreement_rate",e._c_total.value),s.set("agreement_milestones",e._milestone.value),s.set("agreement_service_fee",e._fee.value),s.set("agreement_estimated_payment",e.est_pay.value),s.set("sent",a),s.set("logo",e.state.business_info.company_logo),s.set("company_id",e.state.business_info.company_id),s.set("names","".concat(e.state.business_info.first_name," ").concat(e.state.business_info.last_name)),s.set("email",e.state.business_info.email),s.set("address",e.state.business_info.address),s.set("phone",e.state.business_info.phone),s.set("bussiness_id",e.state.business_info.id),s.set("mat_template",JSON.stringify(e.state.mat_template)),s.set("work_template",JSON.stringify(e.state.work_template)),s.set("agreement_names",e.state.name),s.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/agreement/create"),s,{headers:{Authorization:"Bearer ".concat(l)}}).then((function(t){console.log(t),e.setState({show_msg:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})),c=Object(Ie.a)(s.entries());try{for(c.s();!(o=c.n()).done;)i=o.value,console.log(i[0]+", "+i[1])}catch(m){c.e(m)}finally{c.f()}case 54:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=void 0!==e.props.match.params.draft?e.props.match.params.customer:e.state.selectedOption.value,r="hourly"===e.state.agreement_terms?"hourly":e.state.agreement_type,t.next=5,localStorage.getItem("token");case 5:l=t.sent,(s=new FormData).set("agreement_request_id",e.requestInput.value),s.set("agreement_tender_id",e.state.tender_id),s.set("agreement_client_id",n),s.set("agreement_proposal_id",e.state.agreement_proposal_id),s.set("emails",e.state.emails),s.set("date",e.state.date),s.set("agreement_terms",e.state.agreement_terms),s.set("agreement_type",r),s.set("agreement_material_payment",e.state.mat_pay),s.set("agreement_insurance",e.state.agreement_insurances),s.set("agreement_other",e.state.other),s.set("agreement_work_payment",e.state.work_pay),s.set("agreement_work_guarantee",e.state.agreement_work_guarantee),s.set("agreement_legal_category",e.agreement_legal_category.value),s.set("agreement_client_res",e.agreement_client_res.value),s.set("agreement_contractor_res",e.agreement_contractor_res.value),s.set("agreement_additional_work_price",e.state.agreement_additional_work_price),s.set("agreement_material_guarantee",e.state.agreement_material_guarantee),s.set("agreement_transport_payment",e.state.agreement_transport_payment),s.set("agreement_due_date",e.state.due_date),s.set("agreement_panelty",e.state.agreement_panelty),s.set("agreement_rate",e._c_total.value),s.set("agreement_milestones",e._milestone.value),s.set("agreement_service_fee",e._fee.value),s.set("agreement_estimated_payment",e.est_pay.value),s.set("agreement_names",e.state.name),s.set("agreement_client_res_other",e.state.agreement_client_res_other),s.set("agreement_contractor_res_other",e.state.agreement_contractor_res_other),s.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/agreement/put"),s,{headers:{Authorization:"Bearer ".concat(l)}}).then((function(t){e.setState({show_msg:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0,loading:!1}),e.myRef.current.scrollTo(0,0)})),c=Object(Ie.a)(s.entries());try{for(c.s();!(o=c.n()).done;)i=o.value,console.log(i[0]+", "+i[1])}catch(m){c.e(m)}finally{c.f()}case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.hiddenFields=function(){e.setState({client_id:0!==e.state.tender_id||void 0!==e.props.match.params.draft?e.state.userEmail:e.state.selectedOption.value,agreement_milestones:e._milestone.value,agreement_legal_category:e.agreement_legal_category.value,agreement_client_res:e.agreement_client_res.value,agreement_contractor_res:e.agreement_contractor_res.value})},e}return Object(m.a)(a,[{key:"isValid",value:function(e){var t=null;return this.isInList(e)&&(t="".concat(e," has already been added.")),this.isEmail(e)||(t="".concat(e," is not a valid email address.")),!t||(this.setState({error:t}),!1)}},{key:"isInList",value:function(e){return this.state.emails.includes(e)}},{key:"isEmail",value:function(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.t,s=(n.i18n,{client_id:this.state.client_id,agreement_id:this.state.agreement_id,date:this.state.date,due_date:this.state.due_date,agreement_terms:this.state.agreement_terms,agreement_type:this.state.agreement_type,mat_pay:this.state.mat_pay,work_pay:this.state.work_pay,agreement_insurances:this.state.agreement_insurances,agreement_transport_payment:this.state.agreement_transport_payment,agreement_legal_category:this.state.agreement_legal_category,agreement_client_res:this.state.agreement_client_res,agreement_client_res_other:this.state.agreement_client_res_other,agreement_contractor_res:this.state.agreement_contractor_res,agreement_contractor_res_other:this.state.agreement_contractor_res_other,agreement_milestones:this.state.agreement_milestones,agreement_additional_work_price:this.state.agreement_additional_work_price,agreement_material_guarantee:this.state.agreement_material_guarantee,agreement_work_guarantee:this.state.agreement_work_guarantee,agreement_panelty:this.state.agreement_panelty,agreement_service_fee:this.state.agreement_service_fee,agreement_estimated_payment:this.state.agreement_estimated_payment,work_template:this.state.work_template,mat_template:this.state.mat_template,left:this.state.left,right:this.state.right});!0===this.state.show_errors&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px",zIndex:1}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),!0===this.state.show_msg&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},l("success.agreement"))),!0===this.state.loading&&(t=r.a.createElement(k.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")));var c=this.state.selectedOption,o="update"===this.props.match.params.draft?this.props.match.params.tender:"".concat(this.state.business_info.user_id).concat(this.state.agreement_id);return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},l("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},l("b_sidebar.agreement.agreement")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},l("c_material_list.listing.create")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"hidden",ref:function(e){a._milestone=e},class:"_milestone"}),r.a.createElement("input",{type:"hidden",ref:function(e){a._fee=e},class:"_fee"}),r.a.createElement("input",{type:"hidden",ref:function(e){a.est_pay=e},class:"_est_pay"}),r.a.createElement("input",{type:"hidden",ref:function(e){a._c_total=e},class:"_c_total"}),r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"file-select file-sel inline"},r.a.createElement("label",{for:"attachment1",style:{width:"70%"}},r.a.createElement("img",{src:null===this.state.business_info.company_logo?ne.a:E+"/images/marketplace/company_logo/"+this.state.business_info.company_logo,alt:"Logo"})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("a",{"data-toggle":"collapse",href:"#business-info",role:"button","aria-expanded":"false","aria-controls":"business-info"},"[+]")," ",l("myproposal.buss_info")," ",r.a.createElement("a",{href:"#","data-toggle":"modal","data-target":"#edit-info"},"Edit")),r.a.createElement("div",{className:"collapse",id:"business-info"},r.a.createElement("div",{className:"form-detail"},r.a.createElement("p",null,this.state.business_info.company_id),r.a.createElement("p",null,"".concat(this.state.business_info.first_name," ").concat(this.state.business_info.last_name)),r.a.createElement("p",null),r.a.createElement("p",null,this.state.business_info.email),r.a.createElement("p",null,this.state.business_info.company_website)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"customer-info"},l("myproposal.cus_info")),0!==this.state.tender_id||void 0!==this.props.match.params.draft||void 0!==this.props.match.params.draft?r.a.createElement("input",{id:"customer-info",class:"form-control",type:"text",value:this.state.userEmail,readOnly:!0}):r.a.createElement(at.a,{value:c,onChange:this.handleAuto,options:ut})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"mails",style:{marginRight:"60%"}},l("myproposal.mail_multi")),this.state.emails.map((function(e){return r.a.createElement("div",{className:"tag-item",key:e},e,r.a.createElement("button",{type:"button",className:"button",onClick:function(){return a.handleDelete(e)}},"\xd7"))})),r.a.createElement(at.a,{onChange:this.handleRes,options:dt,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste}),this.state.error&&r.a.createElement("p",{className:"error"},this.state.error),r.a.createElement("small",{className:"form-text text-muted"},"eg ",l("myproposal.eg")))),r.a.createElement("div",{className:"col-lg-7 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"request-id"},l("myproposal.req_id")),r.a.createElement("input",{id:"request-id",className:"form-control",type:"text",ref:function(e){a.requestInput=e},value:o,readOnly:"readOnly"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"date"},l("myproposal.date")),r.a.createElement(se.a,{onChange:function(e){return a.handleChange3(e)},id:"date",name:"date",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.date})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"due-date"},l("myproposal.due_date")),r.a.createElement(se.a,{onChange:function(e){return a.handleChange4(e)},id:"due-date",name:"due-date",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.due_date})))),r.a.createElement("p",{className:"my-5"}),r.a.createElement("ul",{className:"nav nav-tabs",id:"paymentTerms",role:"tablist"},r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("a",{className:"fixed"===this.state.agreement_terms?"nav-link active":"nav-link",id:"fixed-tab","data-toggle":"tab",href:"#fixed",role:"tab","aria-controls":"fixed","aria-selected":"true",onClick:function(){return a.setState({agreement_terms:"fixed"})}},l("myagreement.fixed"))),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("a",{className:"hourly"===this.state.agreement_terms?"nav-link active":"nav-link",id:"hourly-tab","data-toggle":"tab",href:"#hourly",role:"tab","aria-controls":"hourly","aria-selected":"false",onClick:function(){return a.setState({agreement_terms:"hourly"})}},l("myagreement.hourly")))),r.a.createElement("div",{className:"tab-content",id:"paymentTermsContent"},r.a.createElement("div",{className:"fixed"===this.state.agreement_terms?"tab-pane fade show active":"tab-pane fade",id:"fixed",role:"tabpanel","aria-labelledby":"fixed-tab"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("br",null),r.a.createElement("h3",{className:"head3 mb-1"},l("myagreement.payment_terms")),r.a.createElement("div",{className:"row justify-content-between",style:{color:"#a7a7a7"}},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("b",null,l("myagreement.fixed"))),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("b",{className:"float-sm-right"},"Client\u2019s budget: \u20ac5000.00 EUR"," ")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mt-4 mb-3"},r.a.createElement("b",null,l("myagreement.how_paid"))),r.a.createElement("div",{className:"form-check mb-4"},r.a.createElement("input",{type:"radio",name:"paymethod",className:"form-check-input",id:"milestone",checked:"milestone"===this.state.agreement_type,onClick:function(){return a.setState({agreement_type:"milestone"})}}),r.a.createElement("label",{className:"form-check-label",for:"milestone"},r.a.createElement("b",null,l("myagreement.by_mile")),r.a.createElement("br",null),r.a.createElement("span",{className:"light"},l("myagreement.mile_text")))),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"radio",name:"paymethod",className:"form-check-input",id:"project",checked:"project"===this.state.agreement_type,onClick:function(){return a.setState({agreement_type:"project",row_phase:[]})}}),r.a.createElement("label",{className:"form-check-label",for:"project"},r.a.createElement("b",null,l("myagreement.by_proj")),r.a.createElement("br",null),r.a.createElement("span",{className:"light"},l("myagreement.proj_text"))))),r.a.createElement("div",{className:"form-group"},"milestone"===this.state.agreement_type?r.a.createElement("label",{className:"mt-4 mb-4"},r.a.createElement("b",null,l("myagreement.mile_que"))):null,void 0!==this.props.match.params.draft?null:r.a.createElement(ht,{val:{des:"des",due_date:"due_date",amount:"amount"},val2:{des:"",due_date:"",amount:""},key:0,ind:0,t:l}),this.state.row_phase.map((function(e,t){return r.a.createElement(ht,{val:{des:"des",due_date:"due_date",amount:"amount"},val2:e,key:t,ind:t+1,t:l})}))),r.a.createElement("div",{className:"form-group mb-0"},"milestone"===this.state.agreement_type?r.a.createElement("label",null,r.a.createElement("a",{onClick:this.handleAppend},l("myagreement.add_mile"))):null))),r.a.createElement("div",{className:"hr mg-20 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-7 offset-lg-5 col-md-10 offset-md-2"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h4",{className:"head4 mb-2"},l("myagreement.total_proj")),r.a.createElement("p",null,l("myagreement.total_proj_txt"))),r.a.createElement("div",{className:"col-sm-4 text-sm-right"},r.a.createElement("h5",{className:"head5"},this.state.left," ",r.a.createElement("span",{id:"c_total"},void 0!==this.props.match.params.draft?this.state.agreement_rate:"0.00")," ",this.state.right))),this.state.configuration_val>0?r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h4",{className:"head4 mb-2"},r.a.createElement("span",null,this.state.configuration_val,"%"," ",l("myagreement.flip_fee")," "),r.a.createElement("a",{href:"#"}," ",l("myagreement.chk_terms"))),r.a.createElement("p",null,"&nbsp")),r.a.createElement("div",{className:"col-sm-4 text-sm-right"},r.a.createElement("input",{type:"hidden",id:"config",value:this.state.configuration_val}),r.a.createElement("h5",{className:"head5 fee"},this.state.left," ",r.a.createElement("span",{id:"per"},void 0!==this.props.match.params.draft?this.state.agreement_service_fee:"0.00")," ",this.state.right))):null,this.state.configuration_val>0?r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h4",{className:"head4 mb-2"},l("myagreement.chk_terms_txt")," ",r.a.createElement("a",{href:"#"},l("myagreement.chk_terms_txt_terms"))),r.a.createElement("p",null,l("myagreement.more_terms"))),r.a.createElement("div",{className:"col-sm-4 text-sm-right"},r.a.createElement("h5",{className:"head5 est_pay"},this.state.left," ",r.a.createElement("span",{id:"1_est"},void 0!==this.props.match.params.draft?this.state.agreement_estimated_payment:"0.00")," ",this.state.right))):null)),r.a.createElement("div",{className:"hr mg-20"})),r.a.createElement("div",{className:"hourly"===this.state.agreement_terms?"tab-pane fade show active":"tab-pane fade",id:"hourly",role:"tabpanel","aria-labelledby":"hourly-tab"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("br",null),r.a.createElement("h3",{className:"head3 mb-1"},l("myagreement.payment_terms")),r.a.createElement("p",{className:"mb-5",style:{color:"#a7a7a7"}},r.a.createElement("b",null,l("myagreement.hourly")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("label",{className:"mb-md-0"},l("myagreement.hr_rate"))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"row gutters-14 align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control text-right my-input1",placeholder:this.state.agreement_rate}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-euro"}))))),r.a.createElement("div",{className:"col flexgrow0"},r.a.createElement("label",{className:"mb-0"},"/hr")))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("label",{className:"mb-md-0"},this.state.configuration_val,"%"," ",l("myagreement.flip_fee"),"."," ",r.a.createElement("a",{href:"#"},l("myagreement.chk_terms")))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"row gutters-14 align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"hidden",id:"config1",value:this.state.configuration_val}),r.a.createElement("input",{type:"text",className:"form-control text-right fee1",placeholder:this.state.agreement_service_fee,readOnly:!0}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-euro"}))))),r.a.createElement("div",{className:"col",style:{flexGrow:"0"}},r.a.createElement("label",{className:"mb-0"},"/hr")))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("label",{className:"mb-md-0"},l("myagreement.chk_terms_txt")," ",r.a.createElement("a",{href:"#"},l("myagreement.chk_terms_txt_terms")))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"row gutters-14 align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control text-right",id:"c_total1",placeholder:this.state.agreement_estimated_payment}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-euro"}))))),r.a.createElement("div",{className:"col flexgrow0"},r.a.createElement("label",{className:"mb-0"},"/hr")))))))),r.a.createElement("div",{className:"hr mg-20"}))),r.a.createElement("div",{className:"clear"}),r.a.createElement("h2",{className:"head2 my-4"},l("myagreement.agreement_terms")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-5 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"m-payment"},l("myproposal.mat_pay")),r.a.createElement("select",{value:this.state.mat_pay,onChange:this.handleChange2,name:"mat_pay",id:"m-payment",className:"form-control"},r.a.createElement("option",null,"--select--"),r.a.createElement("option",null,"Payment aftre total delivery"),r.a.createElement("option",null,"payment after project done"),r.a.createElement("option",null,"As per inovice"),r.a.createElement("option",{value:"other"},"Custom message"))),r.a.createElement("div",{className:"form-group",id:"custom-message",style:{display:"none"}},r.a.createElement("textarea",{onChange:this.handleChange2,name:"other",className:"form-control",placeholder:"Other message"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"work-payment"},l("myproposal.work_pay")),r.a.createElement("select",{value:this.state.work_pay,onChange:this.handleChange2,name:"work_pay",id:"work-payment",className:"form-control"},r.a.createElement("option",null,"--select--"),"fixed"===this.state.agreement_terms?r.a.createElement("option",null,"Payment aftre work"):null,"hourly"===this.state.agreement_terms?r.a.createElement("option",null,"Pay hourly"):null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"transport-payment"},l("myagreement.transportation_payment_terms")),r.a.createElement("select",{value:this.state.agreement_transport_payment,onChange:this.handleChange2,name:"agreement_transport_payment",id:"transport-payment",className:"form-control"},r.a.createElement("option",null,"--select--"),r.a.createElement("option",null,"included"),r.a.createElement("option",null,"Not included"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,l("myagreement.client_resposibilities")),void 0!==this.props.match.params.customer&&void 0!==this.props.match.params.draft?r.a.createElement("p",null,this.state.agreement_client_res):null,r.a.createElement("div",{id:"client-resposibilities"},r.a.createElement("select",{name:"agreement_client_res",id:"client-resposibilities",className:"form-control"},r.a.createElement("option",{value:"Water"},"Water"),r.a.createElement("option",{value:"Timber"},"Timber"),r.a.createElement("option",{value:"Electricity"},"Electricity"),r.a.createElement("option",{value:"Plumbing"},"Plumbing"),r.a.createElement("option",{value:"etc"},"etc"),r.a.createElement("option",{value:"custom 1"},"Custom 1")),r.a.createElement("input",{ref:function(e){a.agreement_client_res=e},style:{display:"none"},type:"text",name:"selected_values",disabled:"disabled",placeholder:"Selected"}))),r.a.createElement("div",{className:"form-group",id:"custom-message2",style:{display:"none"}},r.a.createElement("textarea",{onChange:this.handleChange2,name:"agreement_client_res_other",className:"form-control",value:this.state.agreement_client_res_other,placeholder:"Other message"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,l("myagreement.contractor_resposibilities")),void 0!==this.props.match.params.customer&&void 0!==this.props.match.params.draft?r.a.createElement("p",null,this.state.agreement_contractor_res):null,r.a.createElement("div",{id:"contractor-resposibilities"},r.a.createElement("select",{name:"agreement_contractor_res",id:"contractor-resposibilities",className:"form-control"},r.a.createElement("option",{value:"Water"},"Water"),r.a.createElement("option",{value:"Timber"},"Timber"),r.a.createElement("option",{value:"Electricity"},"Electricity"),r.a.createElement("option",{value:"Plumbing"},"Plumbing"),r.a.createElement("option",{value:"etc"},"etc"),r.a.createElement("option",{value:"custom"},"Custom")),r.a.createElement("input",{ref:function(e){a.agreement_contractor_res=e},style:{display:"none"},type:"text",name:"selected_values",disabled:"disabled",placeholder:"Selected"}))),r.a.createElement("div",{className:"form-group",id:"custom-message1",style:{display:"none"}},r.a.createElement("textarea",{onChange:this.handleChange2,name:"agreement_contractor_res_other",className:"form-control",placeholder:"Other message",value:this.state.agreement_contractor_res_other})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"legal-agreement"},l("myagreement.legal_agreement_category")),r.a.createElement("p",null,this.state.agreement_legal_category),r.a.createElement("div",{id:"legal-agreement"},r.a.createElement("select",{value:this.state.agreement_legal_category,onChange:this.handleChange2,name:"agreement_legal_category",id:"legal-agreement",className:"form-control"},r.a.createElement("option",{value:"Timber"},"Timber"),r.a.createElement("option",{value:"electricity"},"electricity"),r.a.createElement("option",{value:"Plumbing"},"Plumbing"),r.a.createElement("option",{value:"etc"},"etc")),r.a.createElement("input",{ref:function(e){a.agreement_legal_category=e},style:{display:"none"},type:"text",name:"selected_values",disabled:"disabled",value:this.state.agreement_legal_category,placeholder:"Selected"}))),r.a.createElement("div",{className:"form-group chk_agree",style:{display:"none"}},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"agreement-issues",type:"checkbox"}),r.a.createElement("label",{className:"form-check-label",for:"agreement-issues"},r.a.createElement("div",{className:"mb-2"},l("myagreement.agreement_general_legal_issues")),r.a.createElement("small",null,l("myagreement.agreement_general_legal_issues")," ",r.a.createElement("a",{href:"#"},l("myagreement.chk_terms_txt_terms"))),r.a.createElement("br",null),r.a.createElement("small",null,l("myagreement.agreement_general_legal_issues")," ",r.a.createElement("a",{href:"#"},l("myagreement.chk_terms_txt_terms"))),r.a.createElement("br",null),r.a.createElement("small",null,l("myagreement.agreement_general_legal_issues")," ",r.a.createElement("a",{href:"#"},l("myagreement.chk_terms_txt_terms"))),r.a.createElement("br",null))))),r.a.createElement("div",{className:"col-xl-5 col-lg-6 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"materials"},l("myagreement.materials_quarantees")," "),r.a.createElement("textarea",{value:this.state.agreement_material_guarantee,onChange:this.handleChange2,name:"agreement_material_guarantee",style:{height:"70px"},id:"materials",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"work-quarantees"},l("myagreement.work_quarantees")),r.a.createElement("textarea",{value:this.state.agreement_work_guarantee,onChange:this.handleChange2,name:"agreement_work_guarantee",style:{height:"70px"},id:"work-quarantees",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"agreement-insurances"},l("myagreement.agreement_insurances")),r.a.createElement("input",{value:this.state.agreement_insurances,type:"text",onChange:this.handleChange2,name:"agreement_insurances",id:"agreement-insurances",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"panelty-terms"},l("myagreement.panelty_terms")),r.a.createElement("textarea",{value:this.state.agreement_panelty,onChange:this.handleChange2,name:"agreement_panelty",style:{height:"70px"},id:"panelty-terms",className:"form-control",placeholder:"Per day delay will cost 0.5%  to the contractor"}),r.a.createElement("small",{className:"form-text text-muted"},"mention the delay terms")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"a-work-price"},l("myagreement.additional_work_prices")),r.a.createElement("textarea",{id:"a-work-price",className:"form-control",value:this.state.agreement_additional_work_price,onChange:this.handleChange2,name:"agreement_additional_work_price",placeholder:""})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-10 col-lg-11"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,l("myagreement.attachments")),r.a.createElement("div",{className:"file-select inline"},r.a.createElement("input",{onChange:this.handleChange7,type:"file",id:"attachments",name:"attachments"}),r.a.createElement("label",{for:"attachments"},r.a.createElement("img",{src:ne.a}),r.a.createElement("span",{className:"status"},l("myagreement.upload_agreement_files")))),this.state.attachment_pre?r.a.createElement("label",{for:"attachments"},r.a.createElement("a",{href:E+"/images/marketplace/agreement/"+this.state.attachment_pre,target:"_blank",class:"attachment"},r.a.createElement("i",{class:"icon-paperclip"}),this.state.attachment_pre)):null,r.a.createElement("p",{className:"form-text text-muted"},l("myagreement.legal_txt"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"name"},l("myproposal.name")),r.a.createElement("input",{id:"name",className:"form-control",type:"text",name:"name",value:this.state.name,onChange:this.handleChange2,placeholder:"Enter name"}))),r.a.createElement("div",{className:"col-12 mt-5"},r.a.createElement("button",{class:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0","data-toggle":"modal","data-target":"#closeagreement"},"Close Greement"),r.a.createElement("button",{onClick:this.hiddenFields,className:"btn btn-gray mb-md-0 mb-3 mr-4 clk2","data-toggle":"modal","data-target":"#preview-info"},"Preview Agreement"),void 0!==this.props.match.params.draft?r.a.createElement("button",{onClick:this.handleUpdate,class:"btn btn-sm btn-gray mr-3 mb-3 mb-sm-0 clk2"},"Update as a draft"):t||r.a.createElement("button",{onClick:this.handleDraft,class:"btn btn-gray mb-md-0 mb-3 mr-4 clk2"},"Save as a draft"),r.a.createElement("button",{onClick:function(){return a.handleSubmit(1)},className:"btn btn-primary mb-md-0 mb-4 clk2"},"Submit & Send")))))),r.a.createElement(Ve,{onInfo:this.handleBusinessInfo}),r.a.createElement(mt,null),r.a.createElement(it,{businessInfo:this.state.business_info,userInfo:s}))))}}]),a}(n.Component),ht=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col",style:{flexGrow:"0"}},e.val2.amount?r.a.createElement("button",{style:{borderRadius:"50px"},class:"btn-dark remove-input",id:"myRemoveinput"},"X"):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement("p",{className:"form-text"}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row milestone"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("b",null,e.t("c_material_list.request.description"))),r.a.createElement("input",{type:"text",className:"form-control",name:e.val.des,placeholder:e.val2.des}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"row gutters-14"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("b",null,e.t("myproposal.due_date"))),r.a.createElement("div",{className:"input-group"},r.a.createElement(se.a,{name:e.val.due_date,dateFormat:"DD-MM-YYYY",timeFormat:!1,defaultValue:e.val2.due_date}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar"})))))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("b",null,e.t("invoice.amount"))),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control text-right my-input",placeholder:e.val2.amount,name:e.val.amount}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-euro"})))))))))))},gt=Object(b.a)()(pt),ft=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={first_name:"",last_name:"",phone:"",email:"",company:"",type:"",success:0,errors:[]},e.componentDidMount=function(t){e.myRef=r.a.createRef(),e.loadData()},e.loadData=Object(I.a)(O.a.mark((function t(){var a,n,r,l,s,c,o,i,m;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.match.params.id){t.next=8;break}return t.next=3,localStorage.getItem("token");case 3:return a=t.sent,t.next=6,_.a.get("".concat(E,"/api/resource/").concat(e.props.match.params.id),{headers:{Authorization:"Bearer ".concat(a)}});case 6:200===(n=t.sent).status&&(r=n.data.data,l=r.first_name,s=r.last_name,c=r.email,o=r.company,i=r.type,m=r.phone,e.setState({first_name:l,last_name:s,email:c,company:o,type:i,phone:m}));case 8:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,(r=new FormData).set("first_name",e.state.first_name),r.set("last_name",e.state.last_name),r.set("phone",e.state.phone),r.set("email",e.state.email),r.set("company",e.state.company),r.set("type",e.state.type),_.a.post("".concat(E,"/api/resources"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({success:1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({success:2}),e.myRef.current.scrollTo(0,0)}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:return n=t.sent,r={first_name:e.state.first_name,last_name:e.state.last_name,email:e.state.email,company:e.state.company,type:e.state.type,phone:e.state.phone},t.next=7,_.a.put("".concat(E,"/api/resource/update/").concat(e.props.match.params.id),null,{params:r,headers:{Authorization:"Bearer ".concat(n)}});case 7:200===t.sent.status&&(e.setState({success:1}),e.myRef.current.scrollTo(0,0));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.t;t.i18n;return 1===this.state.success?e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},this.props.match.params.id?a("success.cus_upd"):a("success.cus_ins")):2===this.state.success&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{class:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading_2")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3",style:{paddingBottom:"1%"}},a("b_sidebar.cus.create_customers")),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.props.match.params.id?this.handleUpdate:this.handleSubmit},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"first_name"},a("account.first_name")),r.a.createElement("input",{id:"first_name",name:"first_name",onChange:this.handleChange,className:"form-control",type:"text",value:this.state.first_name}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"last_name"},a("account.last_name")),r.a.createElement("input",{id:"last_name",name:"last_name",onChange:this.handleChange,className:"form-control",type:"text",value:this.state.last_name}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email"},a("account.email")),r.a.createElement("input",{id:"email",name:"email",onChange:this.handleChange,className:"form-control",type:"email",value:this.state.email}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company"},a("account.company")),r.a.createElement("input",{id:"company",name:"company",onChange:this.handleChange,className:"form-control",type:"text",value:this.state.company}))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"type"},a("account.type")),r.a.createElement("select",{onChange:this.handleChange,name:"type",id:"type",class:"form-control",placeholder:this.state.type},r.a.createElement("option",{value:""},"--Select--"),r.a.createElement("option",{value:"Client"},"Client")))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"company"},a("account.phone")),r.a.createElement("input",{id:"phone",name:"phone",onChange:this.handleChange,className:"form-control",type:"number",value:this.state.phone})))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Create"))))))))))}}]),a}(n.Component),_t=Object(b.a)()(ft),Et=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).feeds_search=[],e.state={resources:[],search:null,type:""},e.componentDidMount=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadResources();case 1:case"end":return t.stop()}}),t)}))),e.loadResources=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/resources-list/Client"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data.data;e.feeds_search=a,e.setState({resources:a})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var e=Object(I.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,_.a.delete("".concat(E,"/api/resource/delete/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});case 5:200===e.sent.status&&window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.searchSpace=function(t){var a=t.target.value;e.setState({search:a})},e.handleChange=function(t){e.setState({resources:e.feeds_search}),e.setState({type:t.target.value},(function(){"--Select--"==e.state.type&&window.location.reload(),e.setState((function(t){return{resources:t.resources.filter((function(t){return t.type.includes(e.state.type)}))}}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.resources.filter((function(t){return null==e.state.search||t.first_name.toLowerCase().includes(e.state.search.toLowerCase())||t.company.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})).map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2".concat(t.id)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2".concat(t.id)}))),r.a.createElement("td",{"data-label":"First Name: "},t.first_name),r.a.createElement("td",{"data-label":"Last Name: "},t.last_name),r.a.createElement("td",{"data-label":"Phone: "},t.phone),r.a.createElement("td",{"data-label":"Email: "},t.email),r.a.createElement("td",{"data-label":"Company: "},t.company),r.a.createElement("td",{"data-label":"Type: "},t.type),r.a.createElement("td",{"data-label":"Status: "},1===t.status?"Active":"Inactive"),r.a.createElement("td",{"data-label":"View: "},r.a.createElement(c.b,{to:{pathname:"mycustomers/".concat(t.id)},className:"btn btn-info"},r.a.createElement("i",{className:"icon-edit"}),"Details")),r.a.createElement("td",{"data-label":"Delete: "},r.a.createElement("button",{onClick:function(a){return e.handleDelete(t.id)},className:"btn btn-light"},r.a.createElement("i",{className:"icon-trash"}),"Delete")))})));return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading_2")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},a("mycustomer.resource_company")),r.a.createElement("input",{id:"name",onChange:this.searchSpace,type:"text",className:"form-control"}))),r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},a("mycustomer.resource_type")),r.a.createElement("select",{name:"type",id:"type",onChange:this.handleChange,className:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Sub Contractor"),r.a.createElement("option",null,"Supplier"),r.a.createElement("option",null,"Client")))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},"My listings"),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/mycustomers"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("account.first_name")),r.a.createElement("th",null,a("account.last_name")),r.a.createElement("th",null,a("account.phone")),r.a.createElement("th",null,a("account.email")),r.a.createElement("th",null,a("account.company")),r.a.createElement("th",null,a("account.type")),r.a.createElement("th",null,a("account.status")))),r.a.createElement("tbody",null,n)))))))))}}]),a}(n.Component),vt=Object(b.a)()(Et),bt=Object(b.a)()((function(e){var t=e.businessInfo,a=e.userInfo,n=e.t;return r.a.createElement("div",{className:"modal fade",id:"preview-info",tabIndex:-1,role:"dialog","aria-labelledby":"previewModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-xl modal-dialog-centered preview-modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"pdf-section"},r.a.createElement("div",{className:"pdf-header"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:E+"/images/marketplace/company_logo/"+t.company_logo,alt:"logo"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,r.a.createElement("b",null,t.company_id),r.a.createElement("br",null),r.a.createElement("b",null,"".concat(t.first_name," ").concat(t.last_name)),r.a.createElement("br",null),r.a.createElement("b",null,t.email),r.a.createElement("br",null)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement("address",null,r.a.createElement("br",null),t.address,r.a.createElement("br",null),n("proposal_pdf.phone_no")," ",t.phone,r.a.createElement("br",null),n("proposal_pdf.business_ID")," ",t.id,r.a.createElement("br",null),n("proposal_pdf.other_info"))),r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement("address",null,r.a.createElement("p",{className:"mb-2"},r.a.createElement("b",null,n("proposal_pdf.bill_to"))),a.client_id,r.a.createElement("br",null))),r.a.createElement("div",{className:"col-md-12 col-lg-4"}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"float-md-right float-sm-none"},r.a.createElement("h2",null,n("proposal_pdf.invoice")),r.a.createElement("address",null,n("proposal_pdf.invoice_no")," ",a.invoice_number,r.a.createElement("br",null),n("proposal_pdf.invoice_date")," ",a.date,r.a.createElement("br",null),n("proposal_pdf.reference")," ",a.reference,r.a.createElement("br",null),n("proposal_pdf.account_number")," ",a.acc_no,r.a.createElement("br",null),n("proposal_pdf.payment_duration")," ",a.pay_term,r.a.createElement("br",null),n("proposal_pdf.due_date")," ",a.due_date,r.a.createElement("br",null),n("proposal_pdf.delay_interests")," ",a.interest,"%"),r.a.createElement("div",{className:"due-amount"},r.a.createElement("h5",null,n("proposal_pdf.amount_due")),r.a.createElement("span",{className:"price"},a.left," ",a.totalInput," ",a.right)))))),r.a.createElement("div",{className:"pdf-content"},r.a.createElement("div",{className:"table-responsive-md"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h3",{className:"m-0"},n("proposal_pdf.description"))),r.a.createElement("th",null,n("proposal_pdf.quantity")),r.a.createElement("th",null,n("proposal_pdf.unit")),r.a.createElement("th",null,n("proposal_pdf.price")),r.a.createElement("th",null,r.a.createElement("h3",{className:"m-0"},n("proposal_pdf.amount"))))),r.a.createElement("tbody",null,a.itemsInput?JSON.parse(a.itemsInput).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.items),r.a.createElement("td",null,e.qty),r.a.createElement("td",null,e.unit),r.a.createElement("td",null,e.price),r.a.createElement("td",null,a.left," ",e.amount," ",a.right))})):null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"0 !important"}},r.a.createElement("table",{className:"table table-bordered",style:{width:"initial",float:"right",marginTop:0}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,n("proposal_pdf.subtotal")),r.a.createElement("td",null,a.left," ",a.subInput," ",a.right)),r.a.createElement("tr",null,r.a.createElement("td",null,n("proposal_pdf.vat")),r.a.createElement("td",null,a.taxInput,"%"),r.a.createElement("td",null,a.taxCalcInput," ")),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,n("proposal_pdf.total")),r.a.createElement("td",null,r.a.createElement("b",null,a.left," ",a.totalInput," ",a.right)," ","\u2002 \u2002 \u2002 \u2002"))))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h4",null,n("proposal_pdf.notes")),r.a.createElement("p",null,a.note," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h4",null,n("proposal_pdf._terms")," &"," ",n("proposal_pdf.condition")," "),r.a.createElement("p",null,a.terms),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"pdf-footer"},r.a.createElement("p",null,n("proposal_pdf.brand"))))))))})),yt=[],Nt=[],kt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={business_info:[],email:"",emails:[],date:"",due_date:"",inv_no:"",refer:"",acc_no:"",pay_term:"",delay_interest:"",note:"",terms:"",service:"1",currency:"1",attachment:null,name:null,type:null,agree_id:null,itemsInput:null,taxInput:null,subInput:null,taxCalcInput:null,totalInput:null,tender_id:0,row_phase:[],selectedOption:null,error:null,errors:[],show_errors:!1,show_msg:!1,agreements:[],projects:[],agreement:0,project:0,productcat:[],left:null,right:null},e.componentDidMount=function(){e.loadResources(),e.loadProjects(),e.loadCategory(),e.loadConfig(),e.myRef=r.a.createRef()},e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadCategory=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/category"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({productcat:t.data.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.loadProjects=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/invoice/getProjects"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),e.setState({projects:t.data.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.changeCat=function(t){var a=e.state.row_phase,n={des:t.target.value,amount:0,qty:0,cost:0};a.push(n),e.setState({row_phase:a})},e.changeAgreement=function(t){var a=localStorage.getItem("token");" hourly"===t.target.value.split(",")[1]?_.a.get("".concat(E,"/api/invoice/getTasksById/").concat(t.target.value.split(",")[0]),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({row_phase:JSON.parse(t.data.data[0].items),agree_id:t.data.data[0].id,agreement:t.data.data[0].project_id})})).catch((function(e){console.log(e.response)})):_.a.get("".concat(E,"/api/invoiceAgreements/").concat(t.target.value.split(",")[0]),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t.data.data),e.setState({row_phase:JSON.parse(t.data.data.items),agree_id:t.data.data.id,agreement:t.data.data.agreement_id})})).catch((function(e){console.log(e.response)}))},e.selectTerm=function(t){var a=localStorage.getItem("token");"null"!==t.target.value.split(",")[1]?_.a.get("".concat(E,"/api/invoice/getPaymentTerms/").concat(t.target.value.split(",")[0],"/").concat(t.target.value.split(",")[1]),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({agreements:t.data.data})})).catch((function(e){console.log(e.response)})):_.a.get("".concat(E,"/api/invoice/getTasks/").concat(t.target.value.split(",")[0]),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({agreements:t.data.data})})).catch((function(e){console.log(e.response)}))},e.handleAppend=function(t){t.preventDefault();var a=e.state.row_phase,n="".concat(0,",",0,",",0,",",0).split(","),r={};["items","qty","cost","amount"].forEach((function(e,t){return r[e]=n[t]})),a.push(r),e.setState({row_phase:a})},e.handleAttachment=function(t){return t.target.files[0].size>2097152?alert("cannot be more than 2 mb"):"pdf"!=t.target.files[0].name.split(".").pop()&&"docx"!=t.target.files[0].name.split(".").pop()&&"doc"!=t.target.files[0].name.split(".").pop()?(e.setState({attachment:null}),alert("File type not supported")):void e.setState({attachment:t.target.files[0]})},e.handleAttachmentRemove=function(){e.setState({attachment:null})},e.handleAuto=function(t){e.setState({selectedOption:t})},e.handleBusinessInfo=function(t){e.setState({business_info:t})},e.handleDate=function(t){e.setState({date:G()(t._d).format("DD-MM-YYYY")})},e.handleDate1=function(t){e.setState({due_date:G()(t._d).format("DD-MM-YYYY")})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.changeType=function(t){"client"===t.target.value&&(e.loadClient(),e.setState({type:"resource"})),"user"===t.target.value&&(e.loadUser(),e.setState({type:"user"}))},e.loadResources=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/resources-list"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.data.data.map((function(e){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),yt.push(t)}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.loadClient=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/resources-list/Client"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){Nt.length=0,e.data.data.map((function(e){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),Nt.push(t)}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.loadUser=Object(I.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/invoice/agreementUsers"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){Nt.length=0,e.data.data.map((function(e){if(e.email){var t={};["value","label"].forEach((function(a,n){return t[a]=e.email})),Nt.push(t)}}))})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.handleDelete=function(t){e.setState({emails:e.state.emails.filter((function(e){return e!==t}))})},e.handlePaste=function(t){t.preventDefault();var a=t.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(a){var n=a.filter((function(t){return!e.isInList(t)}));e.setState({emails:[].concat(Object(He.a)(e.state.emails),Object(He.a)(n))})}},e.handleChange2=function(t){var a,n=t.target,r=n.name,l=n.value;e.setState((a={},Object(Ee.a)(a,r,l),Object(Ee.a)(a,"error",null),a))},e.handleRes=function(t){var a=t.value;e.setState({email:a,error:null})},e.handleKeyDown=function(t){if(["Enter","Tab",","].includes(t.key)){t.preventDefault();var a=e.state.email.trim();a&&e.isValid(a)&&e.setState({emails:[].concat(Object(He.a)(e.state.emails),[e.state.email]),email:""})}},e.handleDraft=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),0===e.state.tender_id&&void 0===e.props.match.params.draft){t.next=5;break}n=e.props.match.params.customer,t.next=8;break;case 5:if(null!==e.state.selectedOption){t.next=7;break}return t.abrupt("return",alert("please select a resource"));case 7:n=e.state.selectedOption.value;case 8:return t.next=10,localStorage.getItem("token");case 10:r=t.sent,e.setState({loading:!0}),(l=new FormData).set("tender_id",e.state.tender_id),l.set("client_id",n),l.set("date",e.state.date),l.set("due_date",e.state.due_date),l.set("invoice_number",e.state.inv_no),l.set("reference",e.state.refer),l.set("acc_no",e.state.acc_no),l.set("pay_term",e.state.pay_term),l.set("interest",e.state.delay_interest),l.set("cc",e.state.emails),l.set("service",e.state.service),l.set("currency",e.state.currency),l.set("items",e.itemsInput.value),l.set("tax",e.taxInput.value),l.set("sub_total",e.subInput.value),l.set("tax_calc",e.taxCalcInput.value),l.set("total",e.totalInput.value),l.set("note",e.state.note),l.set("terms",e.state.terms),l.set("sent",0),l.set("invoice_names",e.state.name),l.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/invoice/create"),l,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){e.setState({show_msg:!0}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0}),e.myRef.current.scrollTo(0,0)}));case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r,l,s,c,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),0===e.state.tender_id&&void 0===e.props.match.params.draft){t.next=5;break}n=e.props.match.params.customer,t.next=8;break;case 5:if(null!==e.state.selectedOption){t.next=7;break}return t.abrupt("return",alert("please select a resource"));case 7:n=e.state.selectedOption.value;case 8:return t.next=10,localStorage.getItem("token");case 10:r=t.sent,e.setState({loading:!0}),(l=new FormData).set("tender_id",e.state.tender_id),l.set("client_id",n),l.set("type",e.state.type),l.set("agree_id",e.state.agree_id),l.set("agreement",e.state.agreement),l.set("date",e.state.date),l.set("due_date",e.state.due_date),l.set("invoice_number",e.state.inv_no),l.set("reference",e.state.refer),l.set("acc_no",e.state.acc_no),l.set("pay_term",e.state.pay_term),l.set("interest",e.state.delay_interest),l.set("cc",e.state.emails),l.set("service",e.state.service),l.set("currency",e.state.currency),l.set("items",e.itemsInput.value),l.set("tax",e.taxInput.value),l.set("sub_total",e.subInput.value),l.set("tax_calc",e.taxCalcInput.value),l.set("total",e.totalInput.value),l.set("note",e.state.note),l.set("terms",e.state.terms),l.set("logo",e.state.business_info.company_logo),l.set("company_id",e.state.business_info.company_id),l.set("names","".concat(e.state.business_info.first_name," ").concat(e.state.business_info.last_name)),l.set("email",e.state.business_info.email),l.set("address",e.state.business_info.address),l.set("phone",e.state.business_info.phone),l.set("bussiness_id",e.state.business_info.id),l.set("sent",1),l.set("invoice_names",e.state.name),l.append("attachment",e.state.attachment),_.a.post("".concat(E,"/api/invoice/create"),l,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){e.setState({show_msg:!0}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({show_errors:!0}),e.myRef.current.scrollTo(0,0)})),s=Object(Ie.a)(l.entries());try{for(s.s();!(c=s.n()).done;)o=c.value,console.log(o[0]+", "+o[1])}catch(i){s.e(i)}finally{s.f()}case 48:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.hiddenFields=function(){e.setState({client_id:0!==e.state.tender_id?e.props.match.params.customer:e.state.selectedOption.value,itemsInput:e.itemsInput.value,taxInput:e.taxInput.value,subInput:e.subInput.value,taxCalcInput:e.taxCalcInput.value,totalInput:e.totalInput.value})},e}return Object(m.a)(a,[{key:"isValid",value:function(e){var t=null;return this.isInList(e)&&(t="".concat(e," has already been added.")),this.isEmail(e)||(t="".concat(e," is not a valid email address.")),!t||(this.setState({error:t}),!1)}},{key:"isInList",value:function(e){return this.state.emails.includes(e)}},{key:"isEmail",value:function(e){return/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/.test(e)}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.t,l=(a.i18n,{client_id:this.state.client_id,date:this.state.date,due_date:this.state.due_date,invoice_number:this.state.inv_no,reference:this.state.refer,acc_no:this.state.acc_no,pay_term:this.state.pay_term,interest:this.state.delay_interest,cc:this.state.emails,service:this.state.service,currency:this.state.currency,itemsInput:this.state.itemsInput,taxInput:this.state.taxInput,subInput:this.state.subInput,taxCalcInput:this.state.taxCalcInput,totalInput:this.state.totalInput,note:this.state.note,terms:this.state.terms,left:this.state.left,right:this.state.right});!0===this.state.show_errors&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px",zIndex:1}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),!0===this.state.show_msg&&(e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},n("success.inv_ins")));var s=this.state.selectedOption;return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},n("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},n("invoice.invoice")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("c_material_list.listing.create")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},n("invoice.create_invoice")),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row gutters-70 mt-3"},r.a.createElement("div",{className:"col-sm-12 col-md"},r.a.createElement("h4",{className:"head4"},n("myproposal.buss_info")," ",r.a.createElement("a",{href:"#",className:"float-right","data-toggle":"modal","data-target":"#edit-info"},"Edit")),r.a.createElement("address",null,r.a.createElement("p",null,this.state.business_info.company_id,r.a.createElement("br",null),"Company ID: ",this.state.business_info.id),r.a.createElement("p",null,this.state.business_info.address,r.a.createElement("br",null),this.state.business_info.zip),r.a.createElement("p",null,this.state.business_info.email,r.a.createElement("br",null),this.state.business_info.phone,r.a.createElement("br",null),this.state.business_info.company_website))),r.a.createElement("div",{className:"col-sm-12 col-md"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Company Logo"),r.a.createElement("div",{className:"file-select inline"},r.a.createElement("label",{for:"attachments"},r.a.createElement("img",{src:null===this.state.business_info.company_logo?ne.a:E+"/images/marketplace/company_logo/"+this.state.business_info.company_logo,alt:""}))))),r.a.createElement("div",{className:"col-sm-12 col-lg-5"},r.a.createElement("input",{type:"hidden",ref:function(e){t.itemsInput=e},id:"_items"}),r.a.createElement("input",{type:"hidden",ref:function(e){t.subInput=e},id:"_sub_total"}),r.a.createElement("input",{type:"hidden",ref:function(e){t.taxInput=e},id:"_tax"}),r.a.createElement("input",{type:"hidden",ref:function(e){t.taxCalcInput=e},id:"_tax_calc"}),r.a.createElement("input",{type:"hidden",ref:function(e){t.totalInput=e},id:"_total"}),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"invoice-date"},n("invoice.invoice_date"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement(se.a,{onChange:function(e){return t.handleDate(e)},id:"invoice-date",name:"invoice_date",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.date}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar"}))))))),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"invoice-number"},n("invoice.invoice_number"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"invoice-number",name:"inv_no",value:this.state.inv_no}))))),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"reference"},n("invoice.reference"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"reference",name:"refer",value:this.state.refer}))))),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"account-number"},n("invoice.account_number"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:this.handleChange,id:"account-number",name:"acc_no",className:"form-control",value:this.state.acc_no}))))),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"payment-term"},n("myagreement.payment_terms"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"payment-term",name:"pay_term",value:this.state.pay_term}))))),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"due-date"},n("myproposal.due_date"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement(se.a,{onChange:function(e){return t.handleDate1(e)},id:"due-date",name:"due_date",dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.due_date}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar"}))))))),r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",{for:"delay-interest"},n("invoice.delay_interest"))),r.a.createElement("div",{className:"col-sm-6 col-lg-7"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",id:"delay-interest",onChange:this.handleChange,className:"form-control",name:"delay_interest",value:this.state.delay_interest}))))))),r.a.createElement("div",{className:"hr mg-30"}),r.a.createElement("div",{style:{maxWidth:"610px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("label",null,n("invoice.bill_to"))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("select",{onChange:this.changeType,class:"form-control"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",{value:"user"},"user"),r.a.createElement("option",{value:"client"},"client"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(at.a,{value:s,onChange:this.handleAuto,options:Nt})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-2"},r.a.createElement("address",null,r.a.createElement("p",null,"Gaurav Kocher",r.a.createElement("br",null),"13taximaxi",r.a.createElement("br",null),"Gaurav.kocher1986@gmail.com",r.a.createElement("br",null),"+61 433 489 665")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("label",null,"CC")),r.a.createElement("div",{className:"col-md-6"},this.state.emails.map((function(e){return r.a.createElement("div",{className:"tag-item",key:e},e,r.a.createElement("button",{type:"button",className:"button",onClick:function(){return t.handleDelete(e)}},"\xd7"))})),r.a.createElement(at.a,{onChange:this.handleRes,options:yt,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste}),this.state.error&&r.a.createElement("p",{className:"error"},this.state.error))))),r.a.createElement("div",{className:"mb-4"}),r.a.createElement("div",{className:"filter gray mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center gutters-14"},r.a.createElement("div",{className:"col flexgrow0"},r.a.createElement("label",{className:"mb-0",for:"service"},r.a.createElement("b",null,n("invoice.service")))),r.a.createElement("div",{className:"col"},r.a.createElement("select",{id:"service",className:"form-control"},r.a.createElement("option",null,"Work/Material"),r.a.createElement("option",null,"abc"),r.a.createElement("option",null,"xyz")))))),r.a.createElement("div",{className:"col-lg-3 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center gutters-14"},r.a.createElement("div",{className:"col flexgrow0"},r.a.createElement("label",{className:"mb-0",for:"currency"},r.a.createElement("b",null,n("invoice.currency")))),r.a.createElement("div",{className:"col"},r.a.createElement("select",{id:"currency",className:"form-control"},r.a.createElement("option",null,"EURO"),r.a.createElement("option",null,"abc"),r.a.createElement("option",null,"xyz")))))),r.a.createElement("div",{className:"col-lg-3 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center gutters-14"},r.a.createElement("div",{className:"col flexgrow0"},r.a.createElement("label",{className:"mb-0",for:"work_mat"},r.a.createElement("b",null,n("invoice.work_mat")))),r.a.createElement("div",{className:"col"},r.a.createElement("select",{onChange:this.changeCat,id:"work_mat",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.productcat.map((function(e,t){e.category_id;var a=e.category_name;return r.a.createElement("option",{value:a},a)})))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row align-items-center gutters-14"},r.a.createElement("div",{className:"col flexgrow0 mr-4"},r.a.createElement("label",{className:"mb-0",for:"project"},r.a.createElement("b",null,n("b_sidebar.project.project")))),r.a.createElement("div",{className:"col"},r.a.createElement("select",{onChange:this.selectTerm,name:"project",id:"project",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.projects.map((function(e,t){var a=e.id,n=e.aggrement_id,l=e.name;return r.a.createElement("option",{value:"".concat(a,",").concat(n)},n?"".concat(n,", ").concat(l):"".concat(a,", ").concat(l))})))),r.a.createElement("div",{className:"col"},r.a.createElement("select",{onChange:this.changeAgreement,name:"project",id:"project",className:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.agreements.map((function(e,t){var a=e.id,n=e.agreement_id,l=e.type;return r.a.createElement("option",{value:"".concat(a,", ").concat(l)},n?"".concat(n,", ").concat(l):"".concat(a,", ").concat(l))}))))))))),r.a.createElement("div",{className:"table-responsive-lg scroller mt-3 mb-5"},r.a.createElement("table",{className:"table table-bordered table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-right"},r.a.createElement("th",{className:"text-left"},n("invoice.item")),r.a.createElement("th",null,n("invoice.quantity")),r.a.createElement("th",null,n("invoice.unit")),r.a.createElement("th",null,n("invoice.price")),r.a.createElement("th",{colspan:"2"},n("invoice.amount")))),r.a.createElement("tbody",null,this.state.row_phase.map((function(e,t){return r.a.createElement(xt,{val:e,key:t})})),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",{colspan:"6"},r.a.createElement("button",{onClick:this.handleAppend,class:"btn btn-link p-0"},"Add row"))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0"),r.a.createElement("td",{className:"border-0"},"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",{className:"p-0 border-0",colspan:"5"},r.a.createElement("table",{className:"table table-bordered mt-0"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",null),r.a.createElement("td",null,n("invoice.subtotal")),r.a.createElement("td",{id:"4result"},this.state.row_phase.length<=0?0:this.state.row_phase[0].amount)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",null,"VAT%"),r.a.createElement("td",{className:"tax1 text-left",suppressContentEditableWarning:!0,contentEditable:!0},"0"),r.a.createElement("td",{className:"tax_res"},this.state.left," 0.00 ",this.state.right)),r.a.createElement("tr",{className:"text-right"},r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("b",null,n("invoice.total"))),r.a.createElement("td",null,r.a.createElement("b",{className:"total"},this.state.left," 0.00 ",this.state.right)))))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group d-inline-block"},r.a.createElement("div",{className:"file-select attachment"},r.a.createElement("input",{onChange:this.handleAttachment,type:"file",id:"file"}),r.a.createElement("label",{for:"file"},r.a.createElement("i",{className:"icon-attachment"}),r.a.createElement("span",{className:"filename font-weight-bold","data-text":"Attach File"},n("invoice.attach_file")),r.a.createElement("span",{onClick:this.handleAttachmentRemove,className:"clear"},"+")))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"note"},n("invoice.note_to_recipient")),r.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.handleChange,id:"note",className:"form-control"}))),r.a.createElement("div",{className:"col-md offset-md-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"terms"},n("invoice.terms_and_conditions")),r.a.createElement("textarea",{id:"terms",name:"terms",onChange:this.handleChange,className:"form-control",value:this.state.terms})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"name"},n("myproposal.name")),r.a.createElement("input",{id:"name",className:"form-control",type:"text",name:"name",value:this.state.name,onChange:this.handleChange2,placeholder:"Enter name"})))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col text-right"},r.a.createElement("button",{onClick:this.hiddenFields,className:"btn btn-primary ml-3 mb-3 clk3","data-toggle":"modal","data-target":"#preview-info"},"Preview"),r.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-gray ml-3 mb-3 clk3"},"Send"),r.a.createElement("button",{onClick:this.handleDraft,className:"btn btn-gray ml-3 mb-3 clk3"},"Save as Draft"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement(Ve,{onInfo:this.handleBusinessInfo}),r.a.createElement(bt,{businessInfo:this.state.business_info,userInfo:l}))))}}]),a}(n.Component),xt=function(e){return r.a.createElement("tr",{className:"text-right i-val customerIDCell"},r.a.createElement("td",{suppressContentEditableWarning:!0,className:"text-left",contentEditable:"true"},r.a.createElement("span",{class:"remove-row",id:"myRemove"},"\xd7"),e.val.des," "),r.a.createElement("td",{className:"duration1",suppressContentEditableWarning:!0,contentEditable:"true"},"1"),r.a.createElement("td",{suppressContentEditableWarning:!0,contentEditable:"true"}),r.a.createElement("td",{className:"cost_hr1",suppressContentEditableWarning:!0,contentEditable:"true"},e.val.amount),r.a.createElement("td",{className:"mat_cost1",colspan:"2"},e.val.amount))},wt=Object(b.a)()(kt),St=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,(r=new FormData).set("email",e.state.email),r.set("invoice",e.props.pdf),_.a.post("".concat(E,"/api/invoice/send"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){alert("Sent!!")})).catch((function(e){alert("Failed")}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"send-invoice",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("div",{className:"profile flex"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Enter a email Address")))),r.a.createElement("div",{className:"form-group "},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",onChange:this.handleChange})),r.a.createElement("button",{type:"button",onClick:this.handleSubmit,className:"btn btn-outline-dark mt-3","data-dismiss":"modal","aria-label":"Close"},"Save"))))))))}}]),a}(n.Component),Ct=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).feeds_search=[],e.state={resources:[],search:null,pdf:null,left:null,right:null},e.componentDidMount=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadResources(),e.loadConfig();case 2:case"end":return t.stop()}}),t)}))),e.loadConfig=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/config/currency"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data,n=a.left,r=a.right;e.setState({left:n,right:r})})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)}))),e.loadResources=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/invoice/get"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data.data;e.feeds_search=a,e.setState({resources:a})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.searchDate=function(t){e.setState({resources:e.feeds_search}),e.setState((function(e){return{resources:e.resources.filter((function(e){return e.date.includes(G()(t._d).format("DD-MM-YYYY"))}))}}))},e.searchSpace=function(t){var a=t.target.value;e.setState({search:a})},e.downloadPDF=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.get("".concat(E,"/api/invoice/download/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({pdf:t.data}),window.open("".concat(E,"/images/marketplace/invoice/pdf/").concat(t.data),"_blank")})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendPDF=function(t){e.downloadPDF(t)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.resources.filter((function(t){return null==e.state.search||t.email.includes(e.state.search)||t.invoice_names.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})).map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2".concat(a)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2".concat(a)}))),r.a.createElement("td",null,t.invoice_number),r.a.createElement("td",null,t.invoice_names),r.a.createElement("td",null,t.acc_no),r.a.createElement("td",null,t.client_type),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.date),r.a.createElement("td",null,e.state.left," ",t.total," ",e.state.right),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.downloadPDF(t.id)},className:"btn btn-dark",style:{marginRight:"10px"}},r.a.createElement("i",{className:"icon-attachment"}),"Download"),r.a.createElement("button",{onClick:function(){return e.sendPDF(t.id)},className:"btn btn-light","data-toggle":"modal","data-target":"#send-invoice"},r.a.createElement("i",{className:"icon-attachment"}),"Send")))})));return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("invoice.heading")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"date"},a("myproposal.date")),r.a.createElement(se.a,{id:"date",name:"date",onChange:function(t){return e.searchDate(t)},dateFormat:"DD-MM-YYYY",timeFormat:!1}))),r.a.createElement("div",{className:"col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"client"},"".concat(a("invoice.client")," / ").concat(a("invoice.name"))),r.a.createElement("input",{id:"client",onChange:this.searchSpace,type:"text",className:"form-control"}))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("invoice.heading")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/invoice"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("invoice.invoice")," #"),r.a.createElement("th",null,a("myproposal.prop_name")),r.a.createElement("th",null,a("invoice.account")," #"),r.a.createElement("th",null,a("c_material_list.listing.type")," "),r.a.createElement("th",null,a("account.email")),r.a.createElement("th",null,a("myproposal.date")),r.a.createElement("th",null,a("invoice.total")))),r.a.createElement("tbody",null," ",n," "))),r.a.createElement(St,{pdf:this.state.pdf})))))))}}]),a}(n.Component),jt=Object(b.a)()(Ct),Ot=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={message:"",messages:[],last_status:0},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.handleSubmit=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return a=t.sent,(n=new FormData).set("message",e.state.message),n.set("user_id",e.props.propsObj[0]),n.set("propID",e.props.propsObj[1]),n.set("client",e.props.propsObj[2]),n.set("table_name",e.props.propsObj[3]),n.set("notifID",e.props.propsObj[4]),n.set("status",e.props.propsObj[6]),t.next=13,_.a.post("".concat(E,"/api/revisions/insert"),n,{headers:{Authorization:"Bearer ".concat(a)}});case 13:t.sent,window.location.reload();case 15:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(t,a){t.proposal_id!==e.props.proposal_id&&e.loadMessages(e.props.proposal_id,e.props.table)},e.loadMessages=function(){var t=Object(I.a)(O.a.mark((function t(a,n){var r,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:return r=t.sent,t.next=5,_.a.get("".concat(E,"/api/revisions/get/").concat(a,"/").concat(n),{headers:{Authorization:"Bearer ".concat(r)}});case 5:200===(l=t.sent).status&&l.data.data.length>0&&e.setState({messages:l.data.data,last_status:l.data.data[l.data.data.length-1].status});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal fade",id:"agreement-proposal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"View message"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("div",{className:"form-group "},4===this.state.last_status||0===this.state.last_status?r.a.createElement("div",null,r.a.createElement("textarea",{className:"form-control",placeholder:"message",name:"message",onChange:this.handleChange}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-light",onClick:this.handleSubmit,"data-dismiss":"modal","aria-label":"Close",style:{background:"#efefef"}},"Send"))):null,r.a.createElement("div",{className:"scroller mt-5",style:{height:262,margin:0}},r.a.createElement("div",{className:"detail-list"},this.state.messages.map((function(t){var a=t.message,n=t.created_at,l=t.user_name,s=t.status;return r.a.createElement("dl",{className:"d-flex"},r.a.createElement("dt",{className:"flex-grow-0"},l),r.a.createElement("dd",null,r.a.createElement("h5",null,"pro_agreement"===e.props.table?"Agreement":"Proposal"," ",r.a.createElement("b",null,(4===s?"revised":null)||(3===s?"declined":null)||(2===s?"accepted":null))),r.a.createElement("p",null,a),r.a.createElement("span",{className:"date"},n)))})))))))))))}}]),a}(n.Component),It=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={proposals:[],changed:!1,properties:[],proposal_id:0,search:null},e.componentDidMount=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadProposals();case 1:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.changed!==e.state.changed&&e.loadProposals();case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.viewProposal=Object(I.a)(O.a.mark((function t(){var a,n,r,l=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=l.length,n=new Array(a),r=0;r<a;r++)n[r]=l[r];e.setState({properties:n,proposal_id:n[5]});case 2:case"end":return t.stop()}}),t)}))),e.handleSubmit=Object(I.a)(O.a.mark((function e(){var t,a=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/proposal/upd/").concat(a.length<=0?void 0:a[0],"/").concat(a.length<=1?void 0:a[1],"/").concat(a.length<=2?void 0:a[2]),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){window.location.reload()})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.loadProposals=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/proposal/get"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({proposals:t.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.searchSpace=function(t){e.setState({search:t.target.value})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.proposals.filter((function(t){return null==e.state.search||t.proposal_request_id.toString().includes(e.state.search)||t.proposal_names.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})).map((function(t){var a=t.proposal_id,n=t.proposal_request_id,l=t.proposal_client_id,s=t.proposal_client_type,o=t.proposal_status,i=t.proposal_client_email,m=t.sender_isLogged,d=t.proposal_pdf,u=t.proposal_names,p=t.proposal_notif,h=p.notification_message,g=p.notification_sender_id,f=p.notification_bid_id,_=p.notification_user_id,v=p.notification_table_name,b=p.notification_id;return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2".concat(a)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2".concat(a)}))),r.a.createElement("td",{"data-label":"Request ID: "},n),r.a.createElement("td",{"data-label":"PropName: "},u),r.a.createElement("td",{"data-label":"Type: "},s),r.a.createElement("td",{"data-label":"Email: "},i),r.a.createElement("td",{"data-label":"Message: "},h),r.a.createElement("td",{"data-label":"Status: "},0===o?"Draft":1===o?"Send":2===o?"Accepted":3===o?"Declined":4===o?"Revision":null),r.a.createElement("td",{"data-label":"PDF: "},r.a.createElement("button",{onClick:function(e){return window.open("".concat(E,"/images/marketplace/proposal/pdf/").concat(d),"_blank")},type:"button",class:"btn btn-outline-dark mt-3",style:{marginRight:"20px"}},"PDF")),r.a.createElement("td",{"data-label":"Action: "},m?r.a.createElement("div",{style:{display:"flex"}},4===o?r.a.createElement("div",null,r.a.createElement(c.b,{to:{pathname:"/business-propsal-create/".concat(n,"/").concat(l,"/update")},type:"button",class:"btn btn-outline-dark mt-3",style:{marginRight:"20px"}},"Edit"),r.a.createElement("button",{onClick:function(){return e.viewProposal(g,f,_,v,b,a,3)},"data-toggle":"modal","data-target":"#agreement-proposal",type:"button",class:"btn btn-outline-danger mt-3",style:{marginRight:"20px"}},"Decline")):null,r.a.createElement("button",{onClick:function(){return e.viewProposal(g,f,_,v,b,a,4)},"data-toggle":"modal","data-target":"#agreement-proposal",type:"button",class:"btn btn-outline-primary mt-3 mr-4"},"View message"),"resource"===s&&1===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.handleSubmit(a,"pro_proposal",2)},className:"btn btn-outline-dark mt-3 mr-4"},"Accept"),r.a.createElement("button",{onClick:function(){return e.handleSubmit(a,"pro_proposal",3)},className:"btn btn-outline-dark mt-3 mr-4"},"Decline"),r.a.createElement(c.b,{to:{pathname:"/business-propsal-create/".concat(n,"/").concat(l,"/update")},type:"button",class:"btn btn-outline-dark mt-3 mr-4",style:{marginRight:"20px"}},"Revise")):null,r.a.createElement(Ot,{propsObj:e.state.properties,proposal_id:e.state.proposal_id,table:"pro_proposal"})):r.a.createElement("div",{style:{display:"flex"}},1===o?r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){return e.viewProposal(g,f,_,v,b,a,2)},"data-toggle":"modal","data-target":"#agreement-proposal",class:"btn btn-outline-success mt-3",style:{marginRight:"20px"}},"Accept"),r.a.createElement("button",{type:"button",onClick:function(){return e.viewProposal(g,f,_,v,b,a,3)},"data-toggle":"modal","data-target":"#agreement-proposal",class:"btn btn-outline-danger mt-3",style:{marginRight:"20px"}},"Decline")):null,r.a.createElement("button",{onClick:function(){return e.viewProposal(g,f,_,v,b,a,4)},"data-toggle":"modal","data-target":"#agreement-proposal",type:"button",class:"btn btn-outline-dark mt-3"},"Revise"),r.a.createElement(Ot,{propsObj:e.state.properties,proposal_id:e.state.proposal_id,table:"pro_proposal"}),r.a.createElement("br",null))))})));return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("b_sidebar.proposal.proposal")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},a("myproposal.prop_req_id")),r.a.createElement("input",{id:"name",type:"text",className:"form-control",onChange:this.searchSpace}))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("c_material_list.listing.my_listings")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/myproposal"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("c_material_list.listing.ref")),r.a.createElement("th",null,a("myproposal.prop_name")),r.a.createElement("th",null,a("c_material_list.listing.type")),r.a.createElement("th",null,a("account.email")),r.a.createElement("th",null,a("myproposal.message")),r.a.createElement("th",null,a("account.status")),r.a.createElement("th",null,a("myproposal.Message")),r.a.createElement("th",null,a("myproposal.action")))),r.a.createElement("tbody",null,n)))))))))}}]),a}(n.Component),At=Object(b.a)()(It),Dt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={agreements:[],changed:!1,properties:[],agreement_id:0,search:null},e.componentDidMount=Object(I.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadAgreements();case 1:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.changed!==e.state.changed&&e.loadAgreements();case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.viewProposal=Object(I.a)(O.a.mark((function t(){var a,n,r,l=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=l.length,n=new Array(a),r=0;r<a;r++)n[r]=l[r];e.setState({properties:n,agreement_id:n[5]});case 2:case"end":return t.stop()}}),t)}))),e.loadAgreements=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/agreement/get"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({agreements:t.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.handleSubmit=Object(I.a)(O.a.mark((function e(){var t,a=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,_.a.get("".concat(E,"/api/agreement/upd/").concat(a.length<=0?void 0:a[0],"/").concat(a.length<=1?void 0:a[1],"/").concat(a.length<=2?void 0:a[2]),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){window.location.reload()})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),e.searchSpace=function(t){e.setState({search:t.target.value})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.agreements.filter((function(t){return null==e.state.search||t.agreement_request_id.toString().includes(e.state.search)||t.agreement_names.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0})).map((function(t){var a=t.agreement_id,n=t.agreement_request_id,l=t.agreement_client_id,s=t.agreement_client_type,o=t.agreement_status,i=t.agreement_client_email,m=t.sender_isLogged,d=t.agreement_pdf,u=t.agreement_names,p=t.agreement_notif,h=p.notification_message,g=p.notification_sender_id,f=p.notification_bid_id,_=p.notification_user_id,v=p.notification_table_name,b=p.notification_id;return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2".concat(a)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2".concat(a)}))),r.a.createElement("td",{"data-label":"Request ID: "},n),r.a.createElement("td",{"data-label":"AgreeName: "},u),r.a.createElement("td",{"data-label":"Type: "},s),r.a.createElement("td",{"data-label":"Email: "},i),r.a.createElement("td",{"data-label":"Message: "},h),r.a.createElement("td",{"data-label":"Status: "},0===o?"Draft":1===o?"Send":2===o?"Accepted":3===o?"Declined":4===o?"Revision":null),r.a.createElement("td",{"data-label":"PDF: "},r.a.createElement("button",{onClick:function(e){return window.open("".concat(E,"/images/marketplace/agreement/pdf/").concat(d),"_blank")},type:"button",class:"btn btn-outline-dark mt-3",style:{marginRight:"20px"}},"PDF")),r.a.createElement("td",{"data-label":"Action: "},m?r.a.createElement("div",{style:{display:"flex"}},4===o?r.a.createElement("div",null,r.a.createElement(c.b,{to:{pathname:"/business-agreement-create/".concat(n,"/").concat(l,"/update")},type:"button",class:"btn btn-outline-dark mt-3",style:{marginRight:"20px"}},"Edit"),r.a.createElement("button",{onClick:function(){return e.viewProposal(g,f,_,v,b,a,3)},"data-toggle":"modal","data-target":"#agreement-proposal",type:"button",class:"btn btn-outline-danger mt-3",style:{marginRight:"20px"}},"Decline")):null,r.a.createElement("button",{onClick:function(){return e.viewProposal(g,f,_,v,b,a,4)},"data-toggle":"modal","data-target":"#agreement-proposal",type:"button",class:"btn btn-outline-primary mt-3 mr-4"},"View message"),"resource"===s&&1===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.handleSubmit(a,"pro_agreement",2)},className:"btn btn-outline-dark mt-3 mr-4"},"Accept"),r.a.createElement("button",{onClick:function(){return e.handleSubmit(a,"pro_agreement",3)},className:"btn btn-outline-dark mt-3 mr-4"},"Decline"),r.a.createElement(c.b,{to:{pathname:"/business-propsal-create/".concat(n,"/").concat(l,"/update")},type:"button",class:"btn btn-outline-dark mt-3 mr-4",style:{marginRight:"20px"}},"Revise")):null,r.a.createElement(Ot,{propsObj:e.state.properties,proposal_id:e.state.agreement_id,table:"pro_agreement"})):r.a.createElement("div",{style:{display:"flex"}},1===o?r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){return e.viewProposal(g,f,_,v,b,a,2)},"data-toggle":"modal","data-target":"#agreement-proposal",class:"btn btn-outline-success mt-3",style:{marginRight:"20px"}},"Accept"),r.a.createElement("button",{type:"button",onClick:function(){return e.viewProposal(g,f,_,v,b,a,3)},"data-toggle":"modal","data-target":"#agreement-proposal",class:"btn btn-outline-danger mt-3",style:{marginRight:"20px"}},"Decline")):null,r.a.createElement("button",{onClick:function(){return e.viewProposal(g,f,_,v,b,a,4)},"data-toggle":"modal","data-target":"#agreement-proposal",type:"button",class:"btn btn-outline-dark mt-3"},"Revise"),r.a.createElement(Ot,{propsObj:e.state.properties,proposal_id:e.state.agreement_id,table:"pro_agreement"}))))})),a=this.props,n=a.t;a.i18n;return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},n("b_sidebar.agreement.agreement")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},n("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},n("myagreement.agreement_req_id")),r.a.createElement("input",{id:"name",type:"text",className:"form-control",onChange:this.searchSpace}))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},n("c_material_list.listing.my_listings")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/myagreement"},n("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,n("c_material_list.listing.ref")),r.a.createElement("th",null,n("myproposal.prop_name")),r.a.createElement("th",null,n("c_material_list.listing.type")),r.a.createElement("th",null,n("account.email")),r.a.createElement("th",null,n("myproposal.message")),r.a.createElement("th",null,n("account.status")),r.a.createElement("th",null,n("myproposal.Message")),r.a.createElement("th",null,n("myproposal.action")))),r.a.createElement("tbody",null,t)))))))))}}]),a}(n.Component),Tt=Object(b.a)()(Dt),Mt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={area_name:"",_area_id:0,_area_work_id:0,area:[],area_work:"",area_phase:"",success:0,errors:[]},e.componentDidMount=function(){e.myRef=r.a.createRef(),e.loadPhaseList(),e.props.match.params.id&&e.loadPhaseEdit()},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ee.a)({},n,r))},e.loadPhaseEdit=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/phase/work_edit/").concat(e.props.match.params.id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){var a=t.data.data[0],n=a.area_id,r=a.area_identifier,l=a.aw_id,s=a.aw_identifier;e.setState({area_name:r,_area_id:n,area_phase:n,_area_work_id:l,area_work:s})})).catch((function(e){alert("Error occured please login again")}));case 4:case"end":return t.stop()}}),t)}))),e.loadPhaseList=Object(I.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,n=localStorage.getItem("_lng"),_.a.get("".concat(E,"/api/phase/list/").concat(n),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({area:t.data.data})})).catch((function(e){alert("Error occured please login again")}));case 5:case"end":return t.stop()}}),t)}))),e.handleAreaSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,(r=new FormData).set("area_name",e.state.area_name),_.a.post("".concat(E,"/api/phase/area"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({success:1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({success:2}),e.myRef.current.scrollTo(0,0)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleAreaUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,r={area_identifier:e.state.area_name},_.a.put("".concat(E,"/api/phase/area_update/").concat(e.state._area_id),null,{params:r,headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({success:1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({success:2}),e.myRef.current.scrollTo(0,0)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleAreaPhaseSubmit=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,(r=new FormData).set("aw_area_id",e.state.area_phase),r.set("aw_identifier",e.state.area_work),_.a.post("".concat(E,"/api/phase/work"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({success:1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({success:2}),e.myRef.current.scrollTo(0,0)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleAreaPhaseUpdate=function(){var t=Object(I.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,localStorage.getItem("token");case 3:n=t.sent,r={aw_identifier:e.state.area_work},_.a.put("".concat(E,"/api/phase/work_update/").concat(e.state._area_work_id),null,{params:r,headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({success:1}),e.myRef.current.scrollTo(0,0)})).catch((function(t){Object.entries(t.response.data.error).map((function(a){var n=Object(ee.a)(a,2);n[0],n[1];e.setState({errors:t.response.data.error})})),e.setState({success:2}),e.myRef.current.scrollTo(0,0)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.t;return 1===this.state.success?e=r.a.createElement(v.a,{variant:"success",style:{fontSize:"13px"}},this.props.match.params.id?t("success.phase_upd"):t("success.phase_ins")):2===this.state.success&&(e=r.a.createElement(v.a,{variant:"danger",style:{fontSize:"13px"}},Object.entries(this.state.errors).map((function(e){var t=Object(ee.a)(e,2);t[0];return t[1].reduce((function(e,t){return"".concat(t," ")}),"")})))),r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item "},t("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item "},t("phase.phase")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},t("c_material_list.listing.create")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{ref:this.myRef,className:"page-content"},e||null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},t("phase.create_phase")),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.props.match.params.id?this.handleAreaUpdate:this.handleAreaSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"area_name"},t("phase.area_name")),r.a.createElement("input",{id:"area_name",name:"area_name",value:this.state.area_name,onChange:this.handleChange,className:"form-control",type:"text",required:!0})))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Create")))))),r.a.createElement("h3",{className:"head3"},t("phase.create_area_work")),r.a.createElement("div",{className:"card",style:{maxWidth:"1120px"}},r.a.createElement("form",{onSubmit:this.props.match.params.id?this.handleAreaPhaseUpdate:this.handleAreaPhaseSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mt-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"area"},t("phase.area_name")),r.a.createElement("select",{onChange:this.handleChange,name:"area_phase",value:this.state.area_phase,class:"form-control"},r.a.createElement("option",null,"--Select--"),this.state.area.map((function(e,t){var a=e.area_id,n=e.area_identifier;return r.a.createElement("option",{value:a},n)}))))),r.a.createElement("div",{className:"col-xl-4 col-lg-5 col-md-6 offset-xl-1"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"area_work"},t("phase.work_area")),r.a.createElement("input",{id:"area_work",name:"area_work",value:this.state.area_work,onChange:this.handleChange,className:"form-control"})))),r.a.createElement("div",{className:"col-xl-3 col-lg-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"d-none d-xl-block"},"\xa0"),r.a.createElement("div",{className:"clear"}),r.a.createElement("button",{className:"btn btn-success"},"Create"))))))))))}}]),a}(n.Component),Rt=Object(b.a)()(Mt),qt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={search:null,phases:[]},e.componentDidMount=function(){e.loadPhases()},e.loadPhases=Object(I.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:a=t.sent,_.a.get("".concat(E,"/api/phase/work/en"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({phases:t.data.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)}))),e.deletePhase=function(){var t=Object(I.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("token");case 2:n=t.sent,_.a.delete("".concat(E,"/api/phase/work_delete/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.loadPhases()})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=(t.i18n,this.state.phases.filter((function(t){if(null==e.state.search)return t})).map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check2".concat(a)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check2".concat(a)}))),r.a.createElement("td",null,t.aw_area_id),r.a.createElement("td",null,t.aw_identifier),r.a.createElement("td",null,t.area_identifier),r.a.createElement("td",null,r.a.createElement(c.b,{className:"btn btn-dark",style:{marginRight:"10px"},to:{pathname:"/myphases/".concat(t.aw_id)}},"Edit"),r.a.createElement("button",{onClick:function(){return e.deletePhase(t.aw_area_id)},className:"btn btn-danger"},"Delete")))})));return r.a.createElement("div",null,r.a.createElement(F,{active:"bussiness"}),r.a.createElement("div",{className:"sidebar-toggle"}),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("mycustomer.heading")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a("phase.list_phase")))),r.a.createElement("div",{className:"main-content"},r.a.createElement(Me,{dataFromParent:this.props.location.pathname}),r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"head3"},a("feeds.search.title")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-4 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Name"},"".concat(a("invoice.name"))),r.a.createElement("input",{id:"client",onChange:this.searchSpace,type:"text",className:"form-control"}))))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"head2"},a("phase.list_phase")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(c.b,{className:"btn btn-blue text-uppercase",to:"/myphases"},a("c_material_list.listing.create")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{fontSize:"15px"}},r.a.createElement("th",{style:{width:"50px"}},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"check1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"check1"}))),r.a.createElement("th",null,a("phase.phase")," #"),r.a.createElement("th",null,a("phase.work_area")),r.a.createElement("th",null,a("phase.area_name")),r.a.createElement("th",null," "))),r.a.createElement("tbody",null," ",n," ")))))))))}}]),a}(n.Component),zt=Object(b.a)()(qt);a(124),a(125),a(126);var Pt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:N}),r.a.createElement(o.b,{exact:!0,path:"/register",component:w}),r.a.createElement(o.b,{exact:!0,path:"/forgot",component:C}),r.a.createElement(o.b,{exact:!0,path:"/reset/:token?",component:Ae}),r.a.createElement(o.b,{exact:!0,path:"/confirmed",component:De}),r.a.createElement(o.b,{exact:!0,path:"/index",component:Z}),r.a.createElement(o.b,{exact:!0,path:"/logout",component:J}),r.a.createElement(o.b,{exact:!0,path:"/feeds",component:V}),r.a.createElement(o.b,{exact:!0,path:"/material-list",component:X}),r.a.createElement(o.b,{exact:!0,path:"/work-list",component:$}),r.a.createElement(o.b,{exact:!0,path:"/create-material-list",component:oe}),r.a.createElement(o.b,{exact:!0,path:"/create-work-list",component:me}),r.a.createElement(o.b,{exact:!0,path:"/material-offer-detail/:id",component:pe}),r.a.createElement(o.b,{exact:!0,path:"/work-detail/:id",component:ge}),r.a.createElement(o.b,{exact:!0,path:"/saved",component:_e}),r.a.createElement(o.b,{exact:!0,path:"/myaccount",component:ve}),r.a.createElement(o.b,{exact:!0,path:"/listing-detail/:id",component:Ce}),r.a.createElement(o.b,{exact:!0,path:"/my-contracts",component:Oe})),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/business-dashboard",component:qe}),r.a.createElement(o.b,{exact:!0,path:"/myresources",component:Pe}),r.a.createElement(o.b,{exact:!0,path:"/myresources/:id",component:Pe}),r.a.createElement(o.b,{exact:!0,path:"/resource-list",component:Be}),r.a.createElement(o.b,{exact:!0,path:"/propsal-projectplanning",component:Ge}),r.a.createElement(o.b,{exact:!0,path:"/myproposal",component:Je}),r.a.createElement(o.b,{exact:!0,path:"/proposal-listing",component:At}),r.a.createElement(o.b,{exact:!0,path:"/business-propsal-create/:tender?/:customer?/:draft?",component:st}),r.a.createElement(o.b,{exact:!0,path:"/myagreement",component:ot}),r.a.createElement(o.b,{exact:!0,path:"/agreement-listing",component:Tt}),r.a.createElement(o.b,{exact:!0,path:"/business-agreement-create/:tender?/:customer?/:draft?",component:gt}),r.a.createElement(o.b,{exact:!0,path:"/mycustomers",component:_t}),r.a.createElement(o.b,{exact:!0,path:"/mycustomers/:id",component:_t}),r.a.createElement(o.b,{exact:!0,path:"/customers-list",component:vt}),r.a.createElement(o.b,{exact:!0,path:"/invoice",component:wt}),r.a.createElement(o.b,{exact:!0,path:"/invoice-list",component:jt}),r.a.createElement(o.b,{exact:!0,path:"/myphases/:id?",component:Rt}),r.a.createElement(o.b,{exact:!0,path:"/phase-list",component:zt}))))};a(127),a(128),a(130);Y()(document).ready((function(){Y()("#client-resposibilities").length&&Y()("#client-resposibilities").multiSelect(),Y()("#contractor-resposibilities").length&&Y()("#contractor-resposibilities").multiSelect(),Y()("#legal-agreement").length&&Y()("#legal-agreement").multiSelect();Y()(window).outerWidth();var e=Y()(".main-content");if(e.length){var t="calc(100vh - "+Math.floor(e.offset().top)+"px)";e.css("height",t)}function a(){var e=Y()(".sidebar .nav"),t=Y()(".sidebar .scroll"),a=e.outerHeight(!0),n=e.prop("scrollHeight"),r=a*a/n,l=navigator.userAgent;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(l)&&e.css({margin:0,width:"100%"}),t.height(r),Math.round(e.height())<=Math.round(t.height())?t.hide():t.show(),e.on("scroll",(function(){t.css({top:e.scrollTop()/a*r})}))}function n(e){var t=Y()(e).closest("tr"),a=(""==t.find(".duration").text()?1:t.find(".duration").text())*(""==t.find(".cost_hr").text()?1:t.find(".cost_hr").text());t.find(".mat_cost").text(a)}function r(e){var t=Y()(e).closest("tr"),a=(""==t.find(".duration1").text()?1:t.find(".duration1").text())*(""==t.find(".cost_hr1").text()?1:t.find(".cost_hr1").text());t.find(".mat_cost1").text(a)}function l(){var e=Y()("#3result").text(),t=Y()(".tax_res").text(),a=Y()(".profit_res").text(),n=parseFloat(e)+parseFloat(t)+parseFloat(a);Y()(".total").text(n),Y()("#total").val(n)}function s(e){var t=Y()("#".concat(e,"result")).text(),a=Y()(".tax_res").text(),n=parseFloat(t)+parseFloat(a);Y()(".total").text(n)}function c(){var e=Y()("#3result").text(),t=Y()(".tax").text();Y()(".tax_res").text(t/100*e)}function o(e){var t=Y()("#".concat(e,"result")).text(),a=Y()(".tax1").text();Y()(".tax_res").text(a/100*t)}function i(){var e=Y()("#3result").text(),t=Y()(".profit").text();Y()(".profit_res").text(t/100*e)}function m(e){var t=0;Y()("table tr.i-val").each((function(){var a=parseInt(Y()("td",this).eq(e).text());isNaN(a)||(t+=a)})),Y()("#".concat(e,"result")).text(t)}function d(e,t){return e/100*t}function u(e,t){return t-e}Y()(".owl-carousel.slider").length&&Y()(".owl-carousel.slider").owlCarousel({loop:!0,nav:!0,items:1,dots:!1}),Y()(window).resize((function(){a()})),Y()(".sidebar .nav").on("scroll mouseout mouseover",(function(){a()})),a(),Y()('.attachment input[type="file"]').change((function(e){Y()(this).next().find(".filename").html(e.target.files[0].name).addClass("active"),Y()(this).next().find(".clear").show()})),Y()(".attachment label span.clear").click((function(e){e.preventDefault();var t=Y()(this).prev(".filename").attr("data-text");Y()(this).prev(".filename").html(t).removeClass("active"),Y()(this).parents(".file-select").find("input[type=file]").val(""),Y()(this).hide()})),Y()(".file-select .selected-img").length&&(Y()('.file-select input[type="file"]').change((function(e){Y()(this).parent(".file-select").find(".selected-img").show(),Y()(this).parent(".file-sel").find("label").hide()})),Y()(".file-select .selected-img span").click((function(){Y()(this).parents(".file-select").find(".selected-img").hide(),Y()(this).parents(".file-sel").find("label").show()}))),Y()("select#m-payment").change((function(e){"other"==Y()(this).val()?Y()("#custom-message").slideDown():Y()("#custom-message").hide()})),Y()(document).on("click",".open-AcceptDialog",(function(e){var t=Y()(this).data("id"),a=Y()(this).data("bid"),n=Y()(this).data("user_id");Y()(" #tb_user_id").val(n),Y()(".modal-body #name").text(t),Y()(".modal-body #bid").text("".concat(a))})),Y()(document).on("click",".open-DeclineDialog",(function(e){var t=Y()(this).data("user_id");Y()(" #tb_user_id").val(t)})),Y()(document).on("click",".remove-row",(function(){Y()(this).parent().parent("tr").remove(),m(1),n(this),m(3),c(),i(),l()})),Y()(document).on("keyup",".duration",(function(e){m(1),n(this),m(3),c(),i(),l()})),Y()(document).on("keyup change",".duration1",(function(e){r(this),m(4),o(4),s(4)})),Y()(document).on("keyup change",".cost_hr1",(function(e){r(this),m(4),o(4),s(4)})),Y()(document).on("keyup",".cost_hr",(function(e){m(2),n(this),m(3),c(),i(),l()})),Y()(document).on("keyup",".tax",(function(e){c(),l()})),Y()(document).on("keyup change",".tax1",(function(e){o(4),s(4)})),Y()(document).on("keyup",".profit",(function(e){i(),l()})),Y()(document).on("keyup",".my-input",(function(e){var t=0;Y()(".my-input").each((function(e,a){var n=parseFloat(Y()(a).val());isNaN(n)||(t+=n)})),Y()("#c_total").text("".concat(t));var a=Y()("#config").val();Y()("#per").text("".concat(d(a,t)));var n=d(a,t);Y()("#1_est").text("".concat(u(n,t))),Y()("._fee").val("".concat(d(a,t))),Y()("._est_pay").val("".concat(u(n,t))),Y()("._c_total").val("".concat(t)),Y()("#rate_").text(Y()("._c_total").val())})),Y()("._c_total").val("".concat(0)),Y()(document).on("click",".remove-input",(function(){Y()(this).parent().parent(".row").remove();var e=0;Y()(".my-input").each((function(t,a){var n=parseFloat(Y()(a).val());isNaN(n)||(e+=n)})),Y()("#c_total").text(" ".concat(e));var t=Y()("#config").val();Y()("#per").text("".concat(d(t,e)));var a=d(t,e);Y()("#1_est").text("".concat(u(a,e))),Y()("._fee").val("".concat(d(t,e))),Y()("._est_pay").val("".concat(u(a,e))),Y()("._c_total").val("".concat(e))})),Y()(document).on("keyup",".my-input1",(function(e){var t=0;Y()(".my-input1").each((function(e,a){var n=parseFloat(Y()(a).val());isNaN(n)||(t+=n)}));var a=Y()("#config1").val();Y()(".fee1").val("".concat(d(a,t))),Y()("#per").val("".concat(d(a,t)));var n=d(a,t);Y()("#1_est").val("".concat(u(n,t))),Y()("#c_total1").val("".concat(u(n,t))),Y()("._fee").val("".concat(d(a,t))),Y()("._est_pay").val("".concat(u(n,t))),Y()("._c_total").val("".concat(t))})),Y()(document).on("click",".clk",(function(e){var t;e.preventDefault();var a=[];Y()(".customerIDCell").each((function(e,n){document.getElementById("myRemove").remove();var r=Y()("td",n).map((function(e,t){return Y()(t).text()}));t="".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(r[3]).split(",");var l={};["items","dur","cost","mat"].forEach((function(e,a){return l[e]=t[a]})),a.push(l)})),Y()("#items").val(JSON.stringify(a)),Y()("#est_time").val(Y()("#1result").text()),Y()("#sub_total").val(Y()("#2result").text()),Y()("#items_cost").val(Y()("#3result").text()),Y()("#tax").val(Y()(".tax").text()),Y()("#profit").val(Y()(".profit").text()),Y()("#tax_calc").val(Y()(".tax_res").text()),Y()("#profit_calc").val(Y()(".profit_res").text()),Y()("#total").val(Y()("#total").val())})),Y()(document).on("click",".clk1",(function(e){var t;e.preventDefault();var a=[];Y()(".customerIDCell").each((function(e,n){document.getElementById("myRemove").remove();var r=Y()("td",n).map((function(e,t){return Y()(t).text()}));t="".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(r[3]).split(",");var l={};["items","dur","cost","mat"].forEach((function(e,a){return l[e]=t[a]})),a.push(l)})),Y()("#items").val(JSON.stringify(a)),Y()("#est_time").val(Y()("#1result").text()),Y()("#sub_total").val(Y()("#2result").text()),Y()("#items_cost").val(Y()("#3result").text()),Y()("#tax").val(Y()(".tax").text()),Y()("#profit").val(Y()(".profit").text()),Y()("#tax_calc").val(Y()(".tax_res").text()),Y()("#profit_calc").val(Y()(".profit_res").text()),Y()("#total").val(Y()(".total").text().replace(/[^0-9]/g,""))})),Y()(document).on("click",".clk2",(function(e){var t;e.preventDefault();var a=[];Y()(".milestone").each((function(e,n){var r=Y()("input",n).map((function(e,t){return Y()(t).val()||Y()(t).attr("placeholder")}));t="".concat(r[0],",").concat(r[1],",").concat(r[2]).split(",");var l={};["des","due_date","amount"].forEach((function(e,a){return l[e]=t[a]})),a.push(l),Y()("._milestone").val(JSON.stringify(a))})),Y()("._fee").val(Y()("._fee").val()||Y()("#per").text()),Y()("._est_pay").val(Y()("._est_pay").val()||Y()("#1_est").text()),Y()("._c_total").val(Y()("._c_total").val()||Y()("#c_total").text())})),Y()(document).on("click",".clk3",(function(e){var t;e.preventDefault();var a=[];Y()(".customerIDCell").each((function(e,n){document.getElementById("myRemove")?document.getElementById("myRemove").remove():Y()(".remove-row").attr("id","myRemove");var r=Y()("td",n).map((function(e,t){return Y()(t).text()}));t="".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(r[3],",").concat(r[4]).split(",");var l={};["items","qty","unit","price","amount"].forEach((function(e,a){return l[e]=t[a]})),a.push(l)})),Y()("#_items").val(JSON.stringify(a)),Y()("#_sub_total").val(Y()("#4result").text()),Y()("#_tax").val(Y()(".tax1").text()),Y()("#_tax_calc").val(Y()(".tax_res").text()),Y()("#_total").val(Y()(".total").text().replace(/[^0-9]/g,""))})),Y()("#stars li").on("mouseover",(function(){var e=parseInt(Y()(this).data("value"),10);Y()(this).parent().children("li.star").each((function(t){t<e?Y()(this).addClass("hover"):Y()(this).removeClass("hover")}))})).on("mouseout",(function(){Y()(this).parent().children("li.star").each((function(e){Y()(this).removeClass("hover")}))})),Y()("#stars").length&&(Y()("#stars li").on("mouseover",(function(){var e=parseInt(Y()(this).data("value"),10);Y()(this).parent().children("li.star").each((function(t){t<e?Y()(this).addClass("hover"):Y()(this).removeClass("hover")}))})).on("mouseout",(function(){Y()(this).parent().children("li.star").each((function(e){Y()(this).removeClass("hover")}))})),Y()("#stars li").on("click",(function(){for(var e=parseInt(Y()(this).data("value"),10),t=Y()(this).parent().children("li.star"),a=0,n=0;n<t.length;n++)Y()(t[n]).removeClass("selected");for(var r=0;r<e;r++)Y()(t[r]).addClass("selected"),a+=Y()(t[r]).length,Y()("#stars").next(".count").find("span").text(a),Y()("#stars").next(".count").find("._rating").val(a||0);parseInt(Y()("#stars li.selected").last().data("value"),10)})))})),Y.a.fn.multiSelect=function(e){var t=Y.a.extend({label:"Select"},e),a=this,n=a.children("select"),r=a.children("input"),l=Y()("<div></div>").addClass("multiselect-wrap"),s=Y()("<div></div>").addClass("multiselect-selected").text(t.label),c=Y()("<div></div>").addClass("multiselect-list").css("display","none");return n.find("option").each((function(){var e=Y()(this),t=Y()("<div></div>").text(e.text()).attr("data-val",e.val());t.appendTo(c),t.on("click",(function(){Y()(this).toggleClass("selected-option"),s.empty();var e=[];c.find(".selected-option").each((function(){var t=Y()(this),a=Y()("<span></span>").text(t.text());t.text()&&Y()(".chk_agree").show(),a.appendTo(s),"Custom"===t.text()?Y()("#custom-message1").slideDown():"Custom 1"===t.text()?Y()("#custom-message2").slideDown():(Y()("#custom-message1").hide(),Y()("#custom-message2").hide()),e.push(t.attr("data-val"))})),r.length>0&&r.val(e.join(","))}))})),s.on("click",(function(){c.hasClass("multi-list-opened")?c.slideUp((function(){c.removeClass("multi-list-opened")})):c.slideDown((function(){c.addClass("multi-list-opened")}))})),l.append(s).append(c),a.append(l),n.hide(),Y()("html").click((function(e){Y()(e.target).is(a)||Y()(e.target).is(c)||Y()(e.target).is(s)||Y()(e.target).is(l)||Y()(e.target).is(c.children())||Y()(e.target).is(s.children())||c.hasClass("multi-list-opened")&&(console.log("html event"),c.slideUp((function(){c.removeClass("multi-list-opened")})))})),this},s.a.render(r.a.createElement(Pt,null),document.getElementById("root"))},17:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAhCAYAAACr8emlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE5VDE1OjE2OjE4KzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE5VDE1OjE2OjE4KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xOVQxNToxNjoxOCswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmYjE5Njc1MC1kYTA1LTNkNGYtYTQzOS1iYTdjMzJjMzljYzAiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowYjczMTE5OC1jZDQzLTUyNGMtYmVkZS01YjU5NTliMTA0OTYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MDdmZTBiYy1hZTgxLWU4NGYtYmEyNC1mODY1M2IzOTFiNDgiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MDdmZTBiYy1hZTgxLWU4NGYtYmEyNC1mODY1M2IzOTFiNDgiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTlUMTU6MTY6MTgrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmIxOTY3NTAtZGEwNS0zZDRmLWE0MzktYmE3YzMyYzM5Y2MwIiBzdEV2dDp3aGVuPSIyMDIwLTA1LTE5VDE1OjE2OjE4KzA1OjMwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+EyVSewAAAmJJREFUWIXN2M1vTFEYx/HPnc6k+kaaNkGbtt5aoaSRCMGiUokQQWIhNiJWdv4qa7Y2FjZCE3ZWiAQLL7EgdEF1LM4M1517Z+6pdtpvcjJzz+tvnuec5zlzk8eLi7fRj7rNRYKlKoaxZYPFFNFbxXLj4W2jJBunB8GTE42yXE01PMfDDZHUyrwgUCVVWc3vu24kmfXTVFu+dJEqjmAOA3iHJ43P3M7dJMEZnE7V7cB+3MGb7IAiE7ejfzXKGowL+yvLEBbkHNBYgRVcw2y0tMCuPBENxtCbrYx18Rj2YRTv8Tly/K82bXU5ySLWggcFCwzjMmqR41/hZ0Hba/zIVsYI7Bc2c5NpnI0YDx9xHyuZ+g94IMeCMS6eEE5cmlOCq59GzPNIEHoYg0L2eoaveZ1jBM5qtXiCC/gkJ0S04WWjdKSsiweE/ZdHH65ga8m5oigr8IAgsojtuISe/1aUoYzARLm4NytkiSJqQhyMoozAnZgsOd+8sPmzDOEqbogUWUbgjPLprYKLQkBvMoWbOCRcjM/JyRirFVgT9l8MQ0IQH8RRXBe80GQKJ8tO1inMjGtcHCOZxC2MyM+983ih4IqVppMF5woWKMNom7G9OK+Eq9sJzKa2tWY3jnfq1E7gNLatmZxWEuHimk2f/1AksCJkjtVcaGPoE1xdeBaKBIxgz3ooymEGx4oaiwTOCGGiWywIEaOFPNNWBOstab23rRc1nMDd7Jp5Auu4p/vvaip5a6YFNl+B1PGtG4ra8OdvQVrgtPAr1vvkdmIFe5sPVX/vcHvTDZuEniq+CO7djO8Hv/8GVeFK4JEhWPQAAAAASUVORK5CYII="},29:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI0AAAAiCAYAAABiFFqeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGfGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE0VDE3OjI2OjUwKzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE0VDE3OjI2OjUwKzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNFQxNzoyNjo1MCswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5MmM4Y2E0Zi05OTQwLWNlNDUtYjlmZi1hMmMwNmUzYmM4ZmQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmZGRmOGM0Yi1jMjI1LWU4NDAtOTdhZC0xZWFmM2ZjNmFlMGYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NmQyNDFkNC0xMDljLTBlNDYtOWI4Zi04NGI0Y2ZjMTdhMDIiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2ZDI0MWQ0LTEwOWMtMGU0Ni05YjhmLTg0YjRjZmMxN2EwMiIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNFQxNzoyNjo1MCswNTozMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MmM4Y2E0Zi05OTQwLWNlNDUtYjlmZi1hMmMwNmUzYmM4ZmQiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTRUMTc6MjY6NTArMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJQUk8iIHBob3Rvc2hvcDpMYXllclRleHQ9IlBSTyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+E2H4/AAAB/dJREFUeJztnH9sU9cVxz92IEAWyGB0FBLC5hTYMo39gKBsBKap9lqRNWNDa6GKqqCkUBgTQd1YxspgQ7BOSC0K8qJVpSCmiC2t62llGiJttzSZJqFs0maUQROsJqRayESLWVDAxbn741479vPz87PzQozxVzp6z+fHvdd+55177rk3sQGCzMMAsESITBxaDvapHkAO9x6mTfUAJgKbzTbVQ7gvkYs02YV8YD6QN5mdZIPT/By4bJKWR9n9UPGeMdnPKqX/Ow3/ZYP+eoC3gb3AJ3TafFHp1Rj0+02gT+m9AGjD63zkb9AD3Ab+q65/A76PdKRofN1gvHr0cpTtZeByNjjNfMABzEnRbp6y+7hJ/ZlKf5GG/6DiF+jYLEI+pEPAv4GvaOSfVLaFCfr8DuABypBOsIfYhUsN0AvsAz4F/EXpdwMVQDPgAz5v/NUoUON4MImeQxEiA6kfQAhhSAq/Ujbbk3xhLX6h7JpM6lcp/U4N/4ziVyewK4/SGUY6axitiv+kjt0m4CMldxM/K2wGQkAQeI54xysGTin7/yGdKBGqld4ZAx2UjjCVCM+ZM4e8vNSnydHRUW7duqUry8vLIxQKpdzmPYge4FtAB7AGqAeOJLF5CngFmZs8D/xYI/8MctoIqbb/pNPG+6qdPuBnQBvwWUD/gaQIw7fe7XaLdNHf3y+mT58e015+fr7o6OgQfr9fTJs27X6INGFsIv5t1os0TyOdwWhsbUp+0MS4bcCbSn93Ah1rI82KFSsAGBgY4M6dO4a6drud0tJS7HYZSYeHhxkbG4vRcbvdrFu3josXL8bJshyD6lpkoPM94Bjy4ewAWnR0ioANyGT3BRP9CmS0ehgZ5V40N9zEMF2nWbt2LQMDA0n1zp07h8vlYnBwkOrq6pgpaNu2bTQ0NBAIBNiwYYPVTvMk8EUD+SjQaGWHKaJcXa8mkD+LnLZCQB0yCunhC8B04K/Ahyb77kBOS59DJvQTmqIsLe41NTXhcrkIBAKsX7+e4eHhiGzNmjU0NzcjhKC2tpZLly5Z2TXI6aPKQB5g6pymCOkUAO068qeAR9T9MyR2GBhf4byfQv8fAUPIFdYiwJ+CbRwsc5qamhoOHz5MKBSitrYWn88XkZWUlODxeMjPz2f//v2cOZNs6kwLzwOvGcgnO+suBOZqeLOArwI/BZYB7yJXNFr8HvgY0ul/gHSsRGE9qK6plhhmq+toinZxSMtpGhoaaGpqiinjFxcXY7PZ2LVrV4xTzJgxA4/Hw4IFC/B6vRw8aCZ3SwsDwN8nq3ET+G0S+T+Bb6P/0G4AjwJvIOs67wAuZA1Gi3+p62rk6srMy1CGLC5eA/5jQt8QaTlNeXk5ZWVlcfyjR4/idrtjeC0tLaxevZqenh7q6uqiVz3Zhi70H8gQsir8B8AoibuJrP6+jpyq3gG+gSzORcPPeMFuI3IllQzhqrfXhK4pGC65Ozs7hRBClJaWRnh2u10sWbJEOByOCC1cuDDOdufOnUIIIa5fvy6WLl16vxb3jKC35J6BjDgCGRkqdeweV/L3gAeS9LEKudK6jarm6sD64p4WY2Nj9Pf3G+osXryYI0eOEAqF2Lx5M729epE2Bx3cRkaQ08hthHZkAe/tKJ024DGgFvgzctrT+4FdyGkzH9jFBBPgMO7K0YgMn5IexXj/6SxyT+duIgg8AfwGWRT8IzK6vBGlU498fpuAC8hFwJvI6FSCrOW4kNHhOeQ+lCVIy2kqKiqor6+PO8/i9Xo5e/YsAFeuXGHPnj00Nzdz+vRpKioq6Ovrm/iIrcfXFCXCde6+0wDcQUaSIHJJ/jqx9Zsgclp7C/iJutfuYf0Ducn5ltWDSzmnOXXqlO62wcjIiCgrK4uxP3HihBBCCJ/PJ2bPnj0ZOU0psJLkc7sWxcouGYXrIoXq83JNOw8pvlGlNxE+rWznGejYgS8rvS8RfzQirFOJzOueRTpbuY5eIhSp9h9Kohf+TVJ3mtbWViGEEI2NjcLpdAqn0xlxpM7OTmG32yO6M2fOFOfPnxdCCOHxeITNZrPaaXKYAqTtNFVVVRFeYWGh8Pv9Qgghdu/eHdNGSUmJuHr1qhBCiH379lnmNDmaGrLsENbIyAhbtmxBCMGhQ4dYvnw8ig8ODrJx40aCwSAHDhygujqd1WkOmQJLT+51dHRw7NgxZs2axcmTJ2PO4HR1ddHY2Ijdbqe1tZVly5ZZ0qfNZrOSHIoivBziYflxz71799Lb20tlZSXbt8fW21paWjh+/DhFRUV4vd7IEYoJ4gMNXQZ+HSV3Ej/9tRO7T+Qk/mys04rBZSOSPjWfz8fQ0BDXrl2L8C5cuMCNGzfw++NrRTdv3qSuro5AIEAwGIyT79ixg66uLgoKCqxymrnAS8jKbpO6dzJeXg9XQVcpcileWL5S3b+KXMXMU/dtSpaDDpImpnon7AxO3ZmiJPamE2Glv1XznbYqvvZeT96N/v5NG9A91UlnJpKpV13vxF6yU3zptGkhtEcUtPgw6n4lMrJo8Sq5SKOLe/ovLKPwXcanobnISPJLjc7KKPmPkCX3HNJAtjiNg/Ho4ge2IXObaHRH3fuRuQ3IiLKV+Gijx8tBYUK5ySTRRHOaaGhzmvDncORxIFdd7cgE2qnuPwAcU50/ZCJlw19YgvGWv1b2kqJuZHTyI1dVIJ2lHZnzrErS7n0LG/Eri0xA7v/TZDCyJdLkcBfxf1n6Wnm45bCdAAAAAElFTkSuQmCC"},59:function(e,t,a){e.exports=a.p+"static/media/avatar4.b2b1a46d.jpg"},76:function(e,t,a){e.exports=a.p+"static/media/avatar.3c3e2b80.jpg"},78:function(e){e.exports=JSON.parse('{"translation":{"success":{"mat_ins":"Material Created","work_ins":"Work Created","work_bid":"Work Bid Created","mat_bid":"Material Bid Created","agreement":"Agreement Created","cus_ins":"Customer Created","cus_upd":"Customer Updated","res_ins":"Resource Created","res_upd":"Resource Updated","inv_ins":"Invoice Created","prop_ins":"Proposal Created","phase_ins":"Phase Created","phase_upd":"Phase Updated","pass_mat":"passwords don\'t match","unique":"Unique Email Required","all_fields_are_required":"All fields are required","authentication_failed":"Authentication failed","email_not_found":"Email not found!"},"login":{"welcome":"Welcome to Flipkoti Pro!","tag":"A space for realestate professional","login":"Login","for_msg":"Forgot password ?","reg_msg":"Don\u2019t have an account yet?","back_msg":"Back to sign in","get_started":"Get started","are_you":"Are you?"},"index":{"title":"Marketplace","title2":"Marketplace Dashboard","materials":"Materials","work":"Work","request":"My Request","offers":"My Offers","jobs":"Saved Jobs","contract":"My Contracts","my_bids":{"make_offer":"Make offer","make_request":"Make request","see_listings":"See the listings"},"my_request":{"accepted":"Accepted","declined":"Declined","expired":"Expired"}},"feeds":{"search":{"title":"Search","product":"Product","product_category":"Product Category","state":"State","city":"Select City","offer":"Offer","request":"Request","material":"Material","work":"Work"},"saved_job":"Saved Jobs"},"c_material_list":{"request":{"type_list":"Type of listing","title":"Create Material list","sub_title":"All fields are required*","input_title":"Title","category":"Category","vol_need":"Volume need","unit":"Unit","city":"City","pincode":"Pincode","post_expires_in":"Post expires in","description":"Description","main":"Main","attachment":"Attachment","attachment_text":"Max 2 mb pdf, doc,","product_images":"Product images","product_images_text":"Multiple files upload allowed"},"offer":{"cost_unit":"Cost/unit","quantity":"Quantity","delivery_type":"Delivery type","cost":"Cost","road":"Road","flight":"Flight","ship":"Ship","warranty":"Warranty"},"listing":{"material_listings":"Material listings","my_listings":"My listings","create":"Create","ref":"REF","type":"Type","start_date":"Start Date","end_date":"End Date","current_bid":"Current Bid","view":"View","title":"Title"}},"c_work_list":{"title":"Create Work list","budget":"Budget","rate":"Rate","work_start":"Work start","work_end":"Work end","availablity":"Availablity","work_listings":"Work listings"},"my_contracts":{"search":{"type1":"Type1","type2":"Type2","sort_by":"Sort By","closed_contract":"Include closed contracts"},"title":"My Contracts","submit_proposal":"Submit Proposal","request_proposal":"Request Proposal","cancel":"Cancel"},"header":{"my_bussiness":"My Bussiness","marketplace":"Marketplace","view_all":"View All"},"list_details":{"volume_need":"Volume Need","budget":"Budget","location":"Location","warranty":"Warranty","delivery":"Delivery","delivery_charges":"Delivery charges","work":"Work","rate":"Rate","included":"Included","expires_in":"Expires in","your_quote":"Your quote","quantity":"Quantity","shipping_from":"Shipping from","delivery_type":"Delivery type","message":"Message","image":"Image","i_agree_all":"I agree all","terms_of_service":"terms of service"},"sidebar":{"pro_desk":"Prodesk","feeds":"Feeds","create_listing":"Create listing","see_listing":"See listings"},"account":{"title":"Account Details","first_name":"First Name","last_name":"Last Name","address":"Address","zip":"Zip","sub_contractors":"Sub Contractors","phone":"Phone","material_supplier":"Material Supplier","email":"Email","company":"Company","type":"Type","status":"Status","old_password":"Current Password","password":"New Password","language":"Default Language","my_account":"My Account","permission":"Permission","logout":"Logout","proposal_guarantee":"Proposal Guarantee","agreement_guarantee":"Agreement Guarantee"},"b_sidebar":{"cus":{"customers":"Customers","create_customers":"Create Customers"},"proposal":{"proposal":"Proposal","template":"Template","listing":"Listing"},"agreement":{"agreement":"Agreement"},"project":{"project":"Project"},"invoice":{"invoice":"Invoice","create_invoice":"Create Invoice","invoice_listing":"Invoice Listing"},"messaging":{"messaging":"Messaging"},"resources":{"resources":"Resources","create_resources":"Create Resources","resource_listing":"Resource Listing"},"phase":{"phases":"Phases","create":"Create Phase","listing":"Phase Listing"}},"mycustomer":{"heading":"My Bussiness","heading_2":"My Customers","resource_company":"Resource/Company","resource_type":"Resource Type"},"project_planning":{"heading":"Project planning","area":"Select area","phase":"Add work phase","new_task":"New tasks","template":"Template","upd_curr":"Update current project","save_curr":"Save current project","save_temp":"Open saved template","items":"Items","duration":"Duration(hrs)","cost_hr":"Cost/hr","total_cost":"Total cost","est_time":"Estimated execution time","sub_total":"Sub Total","tax":"Tax","profit":"Profit","total":"Total"},"myproposal":{"name":"Enter name","scratch":"Create from scratch","prop_request":"Create from request","prop_upd":"Update draft proposal","cre_prop":"Create proposal","buss_info":"Your business information","cus_info":"Customer Information","mail_multi":"Mail to multiple person","eg":"sub contractors, material supplier, team etc","req_id":"Request ID","date":"Date","due_date":"Due date","proposal_summary":"Proposal Summary","work_total":"Work total","material_total":"Material total","mat_pay":"Materials Payment/ Invoicing terms","work_pay":"Work Payment/Invoicing terms","project_plan":"Project plan","work_cost":"Add / Calculate Work Cost","mat_cost":"Add / Calculate Material Cost","proposal_details":"Proposal details","guarantees_for_work":"Guarantees for work","insurance":"Insurance","prop_req_id":"Proposal ID / Name","message":"Message","prop_name":"Name","Message":"PDF","action":"Action"},"myagreement":{"agr_upd":"Update draft agreement","fixed":"Fixed","hourly":"Hourly","payment_terms":"Payment Terms","how_paid":"How do you want to be paid?","by_mile":"By milestone","by_proj":"By project","mile_text":"Get your payment into smaller segments according to your delivery.","mile_que":"How many milestones do you want to include?","add_mile":"Add milestone","total_proj":"Total price of project","total_proj_txt":"This includes all milestones, and is the asmmount your client will see","flip_fee":"Flipkoti service fee.","chk_terms":"Check terms.","chk_terms_txt":"You\u2019ll Receive.","chk_terms_txt_terms":"Terms.","more_terms":"Your estimated payment, after service fees.","hr_rate":"Your proposad hourly rate","proj_text":"Get your entire payment at the end, when all work has been delivered.","agreement_terms":"Agreement Terms.","transportation_payment_terms":"Transportation Payment terms","client_resposibilities":"Client Resposibilities","contractor_resposibilities":"Contractor Resposibilities","legal_agreement_category":"Legal agreement category (multi selection)","agreement_general_legal_issues":"Agreement general legal issues","materials_quarantees":"Materials Quarantees","work_quarantees":"Work Quarantees","agreement_insurances":"Agreement Insurances","panelty_terms":"Panelty terms","additional_work_prices":"Additional Work Prices","upload_agreement_files":"Upload agreement files","legal_txt":"Add your legal terms or other attachment related to this agreement here","agreement_req_id":"Agreement ID / Name","attachments":"Attachments"},"invoice":{"heading":"My Invoice","invoice":"Invoice","create_invoice":"Create Invoice","invoice_date":"Invoice date","invoice_number":"Invoice number","reference":"Reference","account_number":"Account number","delay_interest":"Delay Interest","bill_to":"Bill to","service":"Service","account":"Account","client":"Client","name":"Name","currency":"Currency","work_mat":"Work/Material","item":"Item","quantity":"Quantity","unit":"Unit","price":"Price/Duration","amount":"Amount","subtotal":"Subtotal","agree_name":"Agreement Name","total":"Total","attach_file":"Attach File","note_to_recipient":"Note to recipient","terms_and_conditions":"Terms and Conditions"},"bussiness_dashboard":{"heading":"Mybusiness Dashboard","proposals":"Proposals","agreements":"Agreements","projects":"Projects","billing":"Billing","resources":"Resources","requests":"Requests","Open":"Open","Old":"Old","Expired":"Expired","customers":"Customers"},"modals":{"accept":{"amount":"bid amount:","check":"I accept all the payment & agreement terms and condition"},"decline":{"reason":"Reason for decline","message1":"Message for bidder","feedback":"Platform experience feedback"},"project_plan":{"heading":"Project Planning","select_area":"Select area","template_name":"Template name","add_work_phase":"Add work phase","add":"Add","items":"Items","duration":"Duration(hrs)","cost_hr":"Cost/hr","total_cost":"Total cost","add_to_proposal":"Add to proposal","update_proposal":"Update Template","note":"Please save template after altering to prevent data loss..."}},"phase":{"phase":"Phase","create_phase":"Create Phase","list_phase":"My Phase","create_area_work":"Create Area Work","area_name":"Area Name","work_area":"Work Area"},"proposal_pdf":{"proposal_to":"Proposal To","agreement_to":"Agreement To","proposal":"Proposal","agreement":"Agreement","phone_no":"Phone no:","business_ID":"Business ID:","other_info":"Other info","req":"Request ID #FK","prop_date":"Proposal Date:","due_date":"Due date:","proposal_summary":"Proposal Summary","work_cost":"Work Cost","material_cost":"Material Cost","total_cost":"Total Cost","mat_pay":"Materials payment terms","work_pay":"Work payment terms","terms":"Payment Terms","milestones":"Payment milestones","hourly_price":"Hourly price","project_plan":"Project Plan","work":"Work","material":"Material","proposal_details":"Proposal details","guarantee_for_work":"Guarantee for work","insurance":"Insurance","start_date":"Project start date:","end_date":"Project End date:","brand":"Powered by FlipkotiPro","trans":"Transportation payment terms","panelty_terms":"Panelty terms","guarantee_insurance":"Guarantee and insurance","guarantee_work":"Guarantee for work","guarantee_mat":"Guarantee for materials","agreement_insurance":"Agreement Insurance","legal":"Legal","client_res":"Client\'s Responsibility","contractor_res":"Contractor\'s Responsibility","legal_terms":"Legal terms agreed by both party","bill_to":"Bill to","invoice":"Invoice:","invoice_no":"Invoice no:","invoice_date":"Invoice date:","reference":"Reference:","account_number":"Account number:","payment_duration":"Payment duration:","delay_interests":"Delay Interest:","amount_due":"Amount due","description":"Description","quantity":"Quantity","unit":"Unit","price":"Price","amount":"Amount","subtotal":"Subtotal","vat":"Vat","total":"Total","notes":"Notes","_terms":"Terms","condition":"Condition"}}}')},79:function(e){e.exports=JSON.parse('{"translation":{"success":{"mat_ins":"Materiaali luotu","work_ins":"Ty\xf6 luotu","work_bid":"Tarjous ty\xf6st\xe4 tehty","mat_bid":"Tarjous materiaalista tehty","agreement":"Sopimus luotu","cus_ins":"Uusi asiakas luotu","cus_upd":"Asiakas p\xe4ivitetty","res_ins":"Uusi resurssi luotu","res_upd":"Resurssi p\xe4ivitetty","inv_ins":"Uusi lasku luotu","prop_ins":"Tarjous luotu","pass_mat":"Salasanat eiv\xe4t t\xe4sm\xe4\xe4","unique":"Uniikki s\xe4hk\xf6posti vaaditaan","all_fields_are_required":"Kaikki kent\xe4t tulee t\xe4ytt\xe4\xe4","authentication_failed":"Todentaminen ep\xe4onnistui","email_not_found":"S\xe4hk\xf6postia ei l\xf6ydy"},"login":{"welcome":"Tervetuloa k\xe4ytt\xe4m\xe4\xe4n Flipkoti Pro:ta!","tag":"Alusta asumisen alan ammattilaisille","login":"Kirjaudu","for_msg":"Unohtuiko salasana","reg_msg":"Eiko sinulla ole viel\xe4 tili\xe4?","back_msg":"Takaisin kirjautumissivulle","get_started":"Aloita t\xe4st\xe4","are_you":"Miss\xe4 roolissa toimit?"},"index":{"title":"Markkinapaikka","title2":"Markkinapaikan ty\xf6p\xf6yt\xe4","materials":"Materiaalit","work":"Ty\xf6t","request":"Tarjouspyynt\xf6ni","offers":"Tarjoukseni","jobs":"Tallennetut ty\xf6t","contract":"Sopimukset","my_bids":{"make_offer":"Tee tarjous","make_request":"Tee tarjouspyynt\xf6","see_listings":"Katso listaus"},"my_request":{"accepted":"Hyv\xe4ksytty","declined":"Hyl\xe4tty","expired":"Er\xe4\xe4ntynyt"}},"feeds":{"search":{"title":"Haku","product":"Tuote","product_category":"Tuotekategoria","state":"Maakunta","city":"Valitse kaupunki","offer":"Tarjous","request":"Tarjouspyynt\xf6","material":"Materiaali","work":"Ty\xf6"},"saved_job":"Tallennetut ilmoitukset"},"c_material_list":{"request":{"type_list":"Listauksen tyyppi","title":"Luo materiaalilistaus","sub_title":"Kaikki kent\xe4t pakollisia*","input_title":"Otsikko","category":"Kategoria","vol_need":"Haluttu m\xe4\xe4r\xe4","unit":"Yksikk\xf6","city":"Kaupunki","pincode":"Pinkoodi","post_expires_in":"Ilmoitus er\xe4\xe4ntyy","description":"Kuvaus","main":"Main","attachment":"Liite","attachment_text":"Max. 2 mb pdf, doc,","product_images":"Tuotekuvat","product_images_text":"Useat kuvat sallittu"},"offer":{"cost_unit":"Hinta/yksikk\xf6","quantity":"M\xe4\xe4r\xe4","delivery_type":"Toimitustapa","cost":"Kustannus","road":"Maantierahti","flight":"Lentorahti","ship":"Laivarahti","warranty":"Takuu"},"listing":{"material_listings":"Materiaalilistaus","my_listings":"Minun listaukset","create":"Luo","ref":"REF","type":"Tyyppi","start_date":"Alkamisp\xe4iv\xe4m\xe4\xe4r\xe4","end_date":"P\xe4\xe4ttymisp\xe4iv\xe4m\xe4\xe4r\xe4","current_bid":"Nykyinen tarjous","view":"Katso"}},"c_work_list":{"title":"Luo ty\xf6ilmoitus","budget":"Budjetti","rate":"Hintataso","work_start":"Ty\xf6n aloitus","work_end":"Ty\xf6n lopetus","availablity":"Saatavuus","work_listings":"Ty\xf6 listaus"},"my_contracts":{"search":{"type1":"Tyyppi 1","type2":"Tyyppi 2","sort_by":"J\xe4rjest\xe4","closed_contract":"Sis\xe4llyt\xe4 allekirjoitetut sopimukset"},"title":"Minun sopimukset","submit_proposal":"L\xe4het\xe4 tarjous","request_proposal":"Pyyd\xe4 tarjous","cancel":"Peruuta"},"header":{"my_bussiness":"Ty\xf6kalupakki","marketplace":"Markkinapaikka","view_all":"Katso kaikki"},"list_details":{"volume_need":"Haluttu m\xe4\xe4r\xe4","budget":"Budjetti","location":"Sijainti","warranty":"Takuu","delivery":"Toimitus","delivery_charges":"Toimituskustannukset","work":"Ty\xf6","rate":"Rate","included":"Sis\xe4lt\xe4\xe4","expires_in":"Sulkeutumisaika","your_quote":"Tarjouksesi","quantity":"M\xe4\xe4r\xe4","shipping_from":"Toimitetaan paikasta","delivery_type":"Toimitustapa","message":"Viesti","image":"Kuva","i_agree_all":"Hyv\xe4ksyn kaikki","terms_of_service":"palvelun k\xe4ytt\xf6ehdot"},"sidebar":{"pro_desk":"Prodesk","feeds":"Feeds","create_listing":"Create listing","see_listing":"Katso listaukset"},"account":{"title":"K\xe4ytt\xe4j\xe4tilin tiedot","first_name":"Etunimi","last_name":"Sukunimi","address":"Osoite","zip":"Postinumer","sub_contractors":"Aliurakoitsijat","phone":"Puhelinnumero","material_supplier":"Materiaalitoimittaja","email":"S\xe4hk\xf6posti","company":"Yritys","type":"Tyyppi","status":"Tila","old_password":"Nykyinen salasana","password":"Uusi salasana","language":"Oletuskieli","my_account":"K\xe4ytt\xe4j\xe4tili","logout":"Kirjaudu ulos"},"b_sidebar":{"cus":{"customers":"Asiakkaat","create_customers":"Luo uusi asiakas"},"proposal":{"proposal":"Tarjoukset","template":"Valmispohja","listing":"Kaikki tarjoukset"},"agreement":{"agreement":"Sopimukset"},"project":{"project":"Projektit"},"invoice":{"invoice":"Laskut","create_invoice":"Luo lasku","invoice_listing":"Kaikki laskut"},"messaging":{"messaging":"Viestint\xe4"},"resources":{"resources":"Resurssit","create_resources":"Luo resurssi","resource_listing":"Kaikki resurssit"}},"mycustomer":{"heading":"Ty\xf6kalupakki","heading_2":"Asiakkaat","resource_company":"Resurssi/yritys","resource_type":"Resurssin tyyppi"},"project_planning":{"heading":"Tarjouslaskuri","area":"Valitse ty\xf6alue","phase":"Lis\xe4\xe4 ty\xf6vaihe","new_task":"Uudet teht\xe4v\xe4t","template":"Tarjouspohja","upd_curr":"P\xe4ivit\xe4 nykyinen tarjouspohja","save_curr":"Tallenna nykyinen tarjouspohja","save_temp":"Avaa tallennettu tarjouspohja","items":"Items","duration":"Ty\xf6n kesto(h)","cost_hr":"Hinta/h","total_cost":"Hinta yht.","est_time":"Arvioitu toteutusaika","sub_total":"Hinta yhteens\xe4","tax":"ALV","profit":"Kate","total":"Yhteens\xe4"},"myproposal":{"scratch":"Luo uusi tarjous","prop_request":"Luo tarjous tarjouspyynn\xf6st\xe4","prop_upd":"P\xe4ivit\xe4 tarjousta","cre_prop":"Luo tarjous","buss_info":"Yrityksesi tiedot","cus_info":"Asiakkaan tiedot","mail_multi":"L\xe4het\xe4 usealle henkil\xf6lle","eg":"Aliurakoitsija, tavarantoimittaja, tiimi tms.","req_id":"Tarjouspyynn\xf6n ID","date":"P\xe4iv\xe4m\xe4\xe4r\xe4","due_date":"Tarjouksen voimassaolo","proposal_summary":"Tarjouksen yhteenveto","work_total":"Ty\xf6t yhteens\xe4","material_total":"Materiaalit yhteens\xe4","mat_pay":"Materiaalien maksuehdot","work_pay":"Ty\xf6n maksuehdot","project_plan":"Projektisuunnitelma","work_cost":"Lis\xe4\xe4 / laske ty\xf6n kustannukset","mat_cost":"Lis\xe4\xe4 / laske materiaalien kustannukset","proposal_details":"Tarjouksen yksityiskohdat","guarantees_for_work":"Takuut ty\xf6lle","insurance":"Vakuutus","prop_req_id":"Tarjouspyynn\xf6n ID","message":"Viesti","Message":"PDF","action":"Toiminto"},"myagreement":{"agr_upd":"P\xe4ivit\xe4 keskener\xe4inen sopimus","fixed":"Projektihinta","hourly":"Tuntihinta","payment_terms":"Maksuehdot","how_paid":"Haluttu maksutapa:","by_mile":"Maksueriss\xe4","by_proj":"Projektina","mile_text":"Saa maksut pienemmiss\xe4 maksueriss\xe4 toimituksen mukaan.","mile_que":"Kuinka monta maksuer\xe4\xe4 haluat?","add_mile":"Lis\xe4\xe4 maksuer\xe4","total_proj":"Projektin kokonaishinta","total_proj_txt":"T\xe4m\xe4 sis\xe4lt\xe4\xe4 kaikki maksuer\xe4t ja t\xe4m\xe4n hinnan asiakas n\xe4kee","flip_fee":"Flipkoti palvelumaksu","chk_terms":"Katso ehdot","chk_terms_txt":"Sinulle maksetaan","chk_terms_txt_terms":"Ehdot","more_terms":"Your estimated payment, after service fees.","hr_rate":"Sinun tuntihinta","proj_text":"Vastaanota maksu kokonaisuudessaan, kun ty\xf6 on toimitettu.","agreement_terms":"Sopimusehdot","transportation_payment_terms":"Kuljetusten maksuehdot","client_resposibilities":"Asiakas vastaa","contractor_resposibilities":"Urakoitsija vastaa","legal_agreement_category":"Sopimusehdot (monivalinta)","agreement_general_legal_issues":"Yleiset sopimusehdot","materials_quarantees":"Materiaalitakuut","work_quarantees":"Ty\xf6n takuut","agreement_insurances":"Sopimuksen vakuutukset","panelty_terms":"Sopimussakot","additional_work_prices":"Lis\xe4ty\xf6hinnat","upload_agreement_files":"Liit\xe4 sopimukseen tiedostoja","legal_txt":"Lis\xe4\xe4 sopimusehdot tai muut sopimuksen liitetiedostot t\xe4st\xe4","agreement_req_id":"Sopimuksen ID","attachments":"Liitteet"},"invoice":{"heading":"Omat laskut","invoice":"Lasku","create_invoice":"Luo lasku","invoice_date":"Laskun p\xe4iv\xe4ys","invoice_number":"Laskun numero","reference":"Viitenumero","account_number":"Asiakkaan numero","delay_interest":"Viiv\xe4styskorko %","bill_to":"Bill to","service":"Palvelu","account":"K\xe4ytt\xe4j\xe4tili","client":"Asiakas","currency":"Valuutta","item":"Nimike","quantity":"M\xe4\xe4r\xe4","unit":"Yksikk\xf6","price":"Hinta","amount":"Summa","subtotal":"Hinta yhteens\xe4","total":"Yhteens\xe4","attach_file":"Liit\xe4 tiedosto","note_to_recipient":"Viesti vastaanottajalle","terms_and_conditions":"Ehdot"},"bussiness_dashboard":{"heading":"Ty\xf6kalupakin ty\xf6poyt\xe4","proposals":"Tarjoukset","agreements":"Sopimukset","projects":"Projektit","billing":"Laskutus","resources":"Resurssit","requests":"Tarjouspyynn\xf6t","Open":"Avaa","Old":"Vanha","Expired":"Vanhentunut"}}}')},81:function(e,t,a){e.exports=a(131)}},[[81,1,2]]]);
//# sourceMappingURL=main.8e0da749.chunk.js.map